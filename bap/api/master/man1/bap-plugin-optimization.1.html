Content-type: text/html; charset=UTF-8

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of optimization</TITLE>
</HEAD><BODY>
<H1>optimization</H1>
Section: Optimization Manual (1)<BR>Updated: <BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>




<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<P>

optimization &#45; automatically removes dead code and propagates consts
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>

<PRE>

     <B>&#45;&#45;</B><B>optimization</B>

</PRE>

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

An autorun pass that conservatively removes dead code&#46; The removed dead code is usually produced by a lifter, though it might be possible that a binary indeed contains a dead code&#46; The algorithm doesn&#39;t remove variables that are stored in memory, only registers are considered
<A NAME="lbAE">&nbsp;</A>
<H2>ALGORITHM</H2>

<P>

Applies constant folding, dead code elimination, and constant propagation in a loop until the fixed point is reached&#46; The algorithm is interprocedural, however it is not call graph sensitive, as instead of considering the call graph we use an over approximation that any function can call any other, thus any variables that occurs free in any function is considered to be non&#45;constant&#46; The algorithm is, however, flow sensitive on the control flow graph level and uses the SSA form to encode data facts&#46; Since, it is not always safe to rely on the control flow integrity and CFG precision, by default we optimize only flags and virtual variables under a presumption that those two kind of data points rarely used non&#45;locally&#46; See the <B>&#45;&#45;optimization&#45;level</B> parameter for the list of available optimization levels and their consequences&#46;
<A NAME="lbAF">&nbsp;</A>
<H2>DEPENDENCIES</H2>

<P>

<B>bap&#45;plugin&#45;<A HREF="../man1/api.1.html">api</A></B>(1)
<A NAME="lbAG">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>&#45;&#45;help</B>[=<I>FMT</I>] (default=auto)<DD>
Show this help in format <I>FMT</I>&#46; The value <I>FMT</I> must be one of `auto&#39;, `pager&#39;, `groff&#39; or `plain&#39;&#46; With `auto&#39;, the format is `pager` or `plain&#39; whenever the <B>TERM</B> env var is `dumb&#39; or undefined&#46;
<DT><B>&#45;&#45;level</B>=<I>VAL</I> (absent=2)<DD>
Specifies the optimization level&#46; The higher the value the more aggressive (and less safe) optimizations are applied&#46; On level 0 we touch nothing, only some constant folding may occur&#46; On level 1 we optimize only the synthetic code that was generated by the lifter&#46; Since such code can&#39;t leave a scope of instruction it is not affected by the imprecision of a control flow graph&#46; On level 2, we also move and optimize processor flags&#46; This removes a significant amount of code and simplifies the program and is a fair compromise between safety and performance&#46; (Since flags are rarely used non&#45;locally)&#46; Finally, on level 3 we extend our analysis to all variables&#46;
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<B>bap&#45;plugin&#45;<A HREF="../man1/api.1.html">api</A></B>(1), <B>bap&#45;plugin&#45;<A HREF="../man1/ssa.1.html">ssa</A></B>(1)
<P>

<B>tags:</B> pass, analysis, optimization

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">ALGORITHM</A><DD>
<DT><A HREF="#lbAF">DEPENDENCIES</A><DD>
<DT><A HREF="#lbAG">OPTIONS</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 19:19:51 GMT, April 10, 2019
</BODY>
</HTML>
