<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2022-01-06 Thu 17:22 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Ivan Gotovchits" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:1f739d935676111cfff4b4693e3816e664797050&amp;dn=gpl-3.0.txt GPL-v3-or-Later
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orge7418e3">1. Packages</a></li>
<li><a href="#orgfcc5981">2. Package <code>aarch64</code></a>
<ul>
<li><a href="#org9bdbdc0">2.1. Constants</a>
<ul>
<li><a href="#org3a1c0e9">2.1.1. <code>false</code></a></li>
<li><a href="#org0fff1a0">2.1.2. <code>nil</code></a></li>
<li><a href="#org92e446e">2.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#orgf20ea53">2.2. Functions</a>
<ul>
<li><a href="#orga019de5">2.2.1. <code>ADDWri</code></a></li>
<li><a href="#org36f7959">2.2.2. <code>ADDWrs</code></a></li>
<li><a href="#orgb3432e0">2.2.3. <code>ADDXri</code></a></li>
<li><a href="#org44201a9">2.2.4. <code>ADDXrs</code></a></li>
<li><a href="#org1244804">2.2.5. <code>ADRP</code></a></li>
<li><a href="#org2731ce5">2.2.6. <code>ANDWri</code></a></li>
<li><a href="#org88a55f4">2.2.7. <code>ANDWrs</code></a></li>
<li><a href="#orgb7ce992">2.2.8. <code>ANDXrs</code></a></li>
<li><a href="#org7db322a">2.2.9. <code>B</code></a></li>
<li><a href="#org7feb45e">2.2.10. <code>BL</code></a></li>
<li><a href="#orgf212bd8">2.2.11. <code>BLR</code></a></li>
<li><a href="#orgc6c8e3e">2.2.12. <code>BR</code></a></li>
<li><a href="#org2213850">2.2.13. <code>Bcc</code></a></li>
<li><a href="#org67474b7">2.2.14. <code>CBNZW</code></a></li>
<li><a href="#org6ed8d92">2.2.15. <code>CBNZX</code></a></li>
<li><a href="#org71fd2ca">2.2.16. <code>CBZW</code></a></li>
<li><a href="#orgc6c41c7">2.2.17. <code>CBZX</code></a></li>
<li><a href="#org6356781">2.2.18. <code>EORWrs</code></a></li>
<li><a href="#org9d3aefc">2.2.19. <code>EORXrs</code></a></li>
<li><a href="#orgee362fa">2.2.20. <code>LDPXi</code></a></li>
<li><a href="#orga52c727">2.2.21. <code>LDPXpost</code></a></li>
<li><a href="#orgb0ae0a2">2.2.22. <code>LDRBBroX</code></a></li>
<li><a href="#orgefffeae">2.2.23. <code>LDRBBui</code></a></li>
<li><a href="#org42b6835">2.2.24. <code>LDRSWui</code></a></li>
<li><a href="#org35f005f">2.2.25. <code>LDRWui</code></a></li>
<li><a href="#org90eab82">2.2.26. <code>LDRXroX</code></a></li>
<li><a href="#orgcbb0d41">2.2.27. <code>LDRXui</code></a></li>
<li><a href="#orgf6ddf98">2.2.28. <code>MOVKWi</code></a></li>
<li><a href="#org448282f">2.2.29. <code>MOVKXi</code></a></li>
<li><a href="#org44b2846">2.2.30. <code>MOVNWi</code></a></li>
<li><a href="#orgd4df023">2.2.31. <code>MOVZWi</code></a></li>
<li><a href="#org702bfec">2.2.32. <code>MOVZXi</code></a></li>
<li><a href="#org534828d">2.2.33. <code>ORNWrs</code></a></li>
<li><a href="#orgd3de3b0">2.2.34. <code>ORNXrs</code></a></li>
<li><a href="#orga13bfa0">2.2.35. <code>ORRWrs</code></a></li>
<li><a href="#orgaf78a5e">2.2.36. <code>ORRXrs</code></a></li>
<li><a href="#orga3fbdd0">2.2.37. <code>RET</code></a></li>
<li><a href="#org2a0730d">2.2.38. <code>SBFMWri</code></a></li>
<li><a href="#org4d51c61">2.2.39. <code>SBFMXri</code></a></li>
<li><a href="#orgbb86d14">2.2.40. <code>STPXi</code></a></li>
<li><a href="#org7a3ea98">2.2.41. <code>STPXpre</code></a></li>
<li><a href="#orge5bfd85">2.2.42. <code>STRBBui</code></a></li>
<li><a href="#orgcfdf2fe">2.2.43. <code>STRWui</code></a></li>
<li><a href="#orgbcae8cd">2.2.44. <code>STRXroX</code></a></li>
<li><a href="#org38a4d06">2.2.45. <code>STRXui</code></a></li>
<li><a href="#org34453d3">2.2.46. <code>SUBSWri</code></a></li>
<li><a href="#orgf1ac3f3">2.2.47. <code>SUBSWrs</code></a></li>
<li><a href="#org5c12a77">2.2.48. <code>SUBSXri</code></a></li>
<li><a href="#orgaa31077">2.2.49. <code>SUBSXrs</code></a></li>
<li><a href="#orgeede73a">2.2.50. <code>SUBWri</code></a></li>
<li><a href="#orga5bb931">2.2.51. <code>SUBWrs</code></a></li>
<li><a href="#org98defb1">2.2.52. <code>SUBXri</code></a></li>
<li><a href="#org4d1e75d">2.2.53. <code>SUBXrs</code></a></li>
<li><a href="#org8f31b1b">2.2.54. <code>SUBXrx64</code></a></li>
<li><a href="#org9ed44fe">2.2.55. <code>UBFMWri</code></a></li>
<li><a href="#org9537e5d">2.2.56. <code>UBFMXri</code></a></li>
<li><a href="#org5ab5996">2.2.57. <code>add-with-carry</code></a></li>
<li><a href="#org4c8f2be">2.2.58. <code>add-with-carry/clear-base</code></a></li>
<li><a href="#orgd6d8287">2.2.59. <code>add-with-carry/it-block</code></a></li>
<li><a href="#org4c1bb75">2.2.60. <code>carry</code></a></li>
<li><a href="#org5132531">2.2.61. <code>clear-base</code></a></li>
<li><a href="#org6e00fea">2.2.62. <code>condition-holds</code></a></li>
<li><a href="#org649bbb1">2.2.63. <code>copy-byte</code></a></li>
<li><a href="#org01cbb9b">2.2.64. <code>extended</code></a></li>
<li><a href="#orga685b95">2.2.65. <code>is-unconditional</code></a></li>
<li><a href="#orgfdd96b7">2.2.66. <code>logandnot</code></a></li>
<li><a href="#org18584c3">2.2.67. <code>lsb</code></a></li>
<li><a href="#orgccbe646">2.2.68. <code>msb</code></a></li>
<li><a href="#org6b59f14">2.2.69. <code>overflow</code></a></li>
<li><a href="#org902ddab">2.2.70. <code>points-to-null</code></a></li>
<li><a href="#org5c2091a">2.2.71. <code>relative-jump</code></a></li>
<li><a href="#org2f01b49">2.2.72. <code>set-flags</code></a></li>
<li><a href="#org06cdc6a">2.2.73. <code>shifted</code></a></li>
<li><a href="#org8d5e31e">2.2.74. <code>signed-extend</code></a></li>
<li><a href="#org61e1ad3">2.2.75. <code>unsigned-extend</code></a></li>
<li><a href="#orgc2092b5">2.2.76. <code>word</code></a></li>
</ul>
</li>
<li><a href="#org86d5f02">2.3. Macros</a>
<ul>
<li><a href="#org7d3e68b">2.3.1. <code>+1</code></a></li>
<li><a href="#org78fa81e">2.3.2. <code>+=</code></a></li>
<li><a href="#org8963770">2.3.3. <code>-1</code></a></li>
<li><a href="#orgd669e55">2.3.4. <code>MOVK*i</code></a></li>
<li><a href="#org5ba147d">2.3.5. <code>ORN*rs</code></a></li>
<li><a href="#orgd5ffd2d">2.3.6. <code>and</code></a></li>
<li><a href="#org32d6c56">2.3.7. <code>array-get</code></a></li>
<li><a href="#org588b410">2.3.8. <code>array-set</code></a></li>
<li><a href="#org3168d15">2.3.9. <code>assert</code></a></li>
<li><a href="#org316b041">2.3.10. <code>bitwidth</code></a></li>
<li><a href="#org1208fc8">2.3.11. <code>case</code></a></li>
<li><a href="#orgaac270b">2.3.12. <code>case/dispatch</code></a></li>
<li><a href="#org708b6e3">2.3.13. <code>cast</code></a></li>
<li><a href="#orgd1fdafd">2.3.14. <code>compare</code></a></li>
<li><a href="#org85c2dcd">2.3.15. <code>copy-byte-shift</code></a></li>
<li><a href="#orgc3201f3">2.3.16. <code>copy-byte-shift-left</code></a></li>
<li><a href="#org1a6bf6f">2.3.17. <code>copy-left</code></a></li>
<li><a href="#org7d6bc27">2.3.18. <code>copy-right</code></a></li>
<li><a href="#orgd3a2472">2.3.19. <code>decr</code></a></li>
<li><a href="#orgb2606d7">2.3.20. <code>endian</code></a></li>
<li><a href="#org839eee5">2.3.21. <code>fold</code></a></li>
<li><a href="#orga369dda">2.3.22. <code>incr</code></a></li>
<li><a href="#org59739d9">2.3.23. <code>is-in</code></a></li>
<li><a href="#org57c39cb">2.3.24. <code>log*?rs</code></a></li>
<li><a href="#orgd25b8ef">2.3.25. <code>make-BFM</code></a></li>
<li><a href="#orgb0b5daf">2.3.26. <code>make-copy</code></a></li>
<li><a href="#orgb7eb0a7">2.3.27. <code>max</code></a></li>
<li><a href="#orgef1637e">2.3.28. <code>min</code></a></li>
<li><a href="#orgdb72a0d">2.3.29. <code>non-zero</code></a></li>
<li><a href="#org3090d29">2.3.30. <code>nth-byte-of-word</code></a></li>
<li><a href="#orgd4d5925">2.3.31. <code>or</code></a></li>
<li><a href="#orgac05b57">2.3.32. <code>points-to</code></a></li>
<li><a href="#org09632f8">2.3.33. <code>ptr+</code></a></li>
<li><a href="#orgbf0f02e">2.3.34. <code>ptr+1</code></a></li>
<li><a href="#orgadccf42">2.3.35. <code>read-word</code></a></li>
<li><a href="#orgc2752a4">2.3.36. <code>set$</code></a></li>
<li><a href="#orgfc85301">2.3.37. <code>setw</code></a></li>
<li><a href="#org38022d7">2.3.38. <code>shift-with-carry</code></a></li>
<li><a href="#org24c2861">2.3.39. <code>sign</code></a></li>
<li><a href="#org78154fa">2.3.40. <code>sizeof</code></a></li>
<li><a href="#org020c3fd">2.3.41. <code>unless</code></a></li>
<li><a href="#orgf39e0a9">2.3.42. <code>until</code></a></li>
<li><a href="#org6f880ff">2.3.43. <code>when</code></a></li>
<li><a href="#orga865964">2.3.44. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#orgc83c907">2.4. Primitives</a>
<ul>
<li><a href="#org8dcdeaf">2.4.1. <code>*</code></a></li>
<li><a href="#org562d57e">2.4.2. <code>+</code></a></li>
<li><a href="#org50f9ea3">2.4.3. <code>-</code></a></li>
<li><a href="#org556a785">2.4.4. <code>/</code></a></li>
<li><a href="#org8ec4021">2.4.5. <code>/=</code></a></li>
<li><a href="#org33d8754">2.4.6. <code>&lt;</code></a></li>
<li><a href="#org6e7da23">2.4.7. <code>&lt;=</code></a></li>
<li><a href="#org6326049">2.4.8. <code>=</code></a></li>
<li><a href="#orgf1d583a">2.4.9. <code>&gt;</code></a></li>
<li><a href="#org1ddc5d8">2.4.10. <code>&gt;=</code></a></li>
<li><a href="#org91af516">2.4.11. <code>alias-base-register</code></a></li>
<li><a href="#org8640f2f">2.4.12. <code>arshift</code></a></li>
<li><a href="#org7189e2d">2.4.13. <code>cast-high</code></a></li>
<li><a href="#org510e58b">2.4.14. <code>cast-low</code></a></li>
<li><a href="#org162add4">2.4.15. <code>cast-signed</code></a></li>
<li><a href="#orgefca7e7">2.4.16. <code>cast-unsigned</code></a></li>
<li><a href="#org4e192bf">2.4.17. <code>concat</code></a></li>
<li><a href="#org70add4c">2.4.18. <code>exec-addr</code></a></li>
<li><a href="#orgc2b94ca">2.4.19. <code>extract</code></a></li>
<li><a href="#org836a3c9">2.4.20. <code>get-current-program-counter</code></a></li>
<li><a href="#orgdc2711d">2.4.21. <code>get-program-counter</code></a></li>
<li><a href="#org418f53e">2.4.22. <code>goto-subinstruction</code></a></li>
<li><a href="#org768858e">2.4.23. <code>is-negative</code></a></li>
<li><a href="#orged3a693">2.4.24. <code>is-positive</code></a></li>
<li><a href="#orgc4189ef">2.4.25. <code>is-symbol</code></a></li>
<li><a href="#org112f738">2.4.26. <code>is-zero</code></a></li>
<li><a href="#orge1ed812">2.4.27. <code>lnot</code></a></li>
<li><a href="#orgb251a47">2.4.28. <code>load-bits</code></a></li>
<li><a href="#org6337bb5">2.4.29. <code>load-byte</code></a></li>
<li><a href="#orge40cb23">2.4.30. <code>load-dword</code></a></li>
<li><a href="#org969a653">2.4.31. <code>load-hword</code></a></li>
<li><a href="#org902b922">2.4.32. <code>load-qword</code></a></li>
<li><a href="#org4cf519d">2.4.33. <code>load-word</code></a></li>
<li><a href="#org6951c6d">2.4.34. <code>logand</code></a></li>
<li><a href="#orga6fa3e9">2.4.35. <code>logor</code></a></li>
<li><a href="#org5346829">2.4.36. <code>logxor</code></a></li>
<li><a href="#orgea6d226">2.4.37. <code>lshift</code></a></li>
<li><a href="#orgf5ccbfe">2.4.38. <code>memory-read</code></a></li>
<li><a href="#org391e65c">2.4.39. <code>memory-write</code></a></li>
<li><a href="#orgdb8670c">2.4.40. <code>mod</code></a></li>
<li><a href="#orgb265759">2.4.41. <code>neg</code></a></li>
<li><a href="#org07a2c69">2.4.42. <code>not</code></a></li>
<li><a href="#org72044bd">2.4.43. <code>nth</code></a></li>
<li><a href="#org661a900">2.4.44. <code>rshift</code></a></li>
<li><a href="#orgcc09249">2.4.45. <code>s/</code></a></li>
<li><a href="#org4a1ee7b">2.4.46. <code>s&lt;</code></a></li>
<li><a href="#org4b687e1">2.4.47. <code>s&lt;=</code></a></li>
<li><a href="#org932e4d4">2.4.48. <code>s&gt;</code></a></li>
<li><a href="#orgdb66956">2.4.49. <code>s&gt;=</code></a></li>
<li><a href="#org1f3b482">2.4.50. <code>select</code></a></li>
<li><a href="#orgc47b3c2">2.4.51. <code>set-symbol-value</code></a></li>
<li><a href="#org36b4da7">2.4.52. <code>signed-mod</code></a></li>
<li><a href="#org9b1a85c">2.4.53. <code>store-byte</code></a></li>
<li><a href="#org16de80c">2.4.54. <code>store-word</code></a></li>
<li><a href="#org334bbb6">2.4.55. <code>symbol</code></a></li>
<li><a href="#org637ef8e">2.4.56. <code>word-width</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org24b6917">3. Package <code>arm</code></a>
<ul>
<li><a href="#orgfc18f77">3.1. Constants</a>
<ul>
<li><a href="#org832bb3e">3.1.1. <code>false</code></a></li>
<li><a href="#orgab3dffa">3.1.2. <code>nil</code></a></li>
<li><a href="#org2a6095a">3.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#org941886b">3.2. Functions</a>
<ul>
<li><a href="#org7907b19">3.2.1. <code>add-with-carry</code></a></li>
<li><a href="#orgbe56059">3.2.2. <code>add-with-carry/clear-base</code></a></li>
<li><a href="#org035b690">3.2.3. <code>add-with-carry/it-block</code></a></li>
<li><a href="#org2188f7a">3.2.4. <code>carry</code></a></li>
<li><a href="#org6d14671">3.2.5. <code>clear-base</code></a></li>
<li><a href="#org1c61c8f">3.2.6. <code>condition-holds</code></a></li>
<li><a href="#org0ac0cfa">3.2.7. <code>copy-byte</code></a></li>
<li><a href="#orgbe9201e">3.2.8. <code>is-unconditional</code></a></li>
<li><a href="#org7b37aca">3.2.9. <code>logandnot</code></a></li>
<li><a href="#orgaf75363">3.2.10. <code>lsb</code></a></li>
<li><a href="#orga502e58">3.2.11. <code>msb</code></a></li>
<li><a href="#org542338c">3.2.12. <code>overflow</code></a></li>
<li><a href="#org0404d69">3.2.13. <code>points-to-null</code></a></li>
<li><a href="#org41db3f8">3.2.14. <code>set-flags</code></a></li>
</ul>
</li>
<li><a href="#orgc67e53d">3.3. Macros</a>
<ul>
<li><a href="#org773efd3">3.3.1. <code>+1</code></a></li>
<li><a href="#org80f0e22">3.3.2. <code>+=</code></a></li>
<li><a href="#org2e2d9bf">3.3.3. <code>-1</code></a></li>
<li><a href="#org038aca8">3.3.4. <code>and</code></a></li>
<li><a href="#org9ee71bc">3.3.5. <code>array-get</code></a></li>
<li><a href="#org0f78a6a">3.3.6. <code>array-set</code></a></li>
<li><a href="#orgb3067b5">3.3.7. <code>assert</code></a></li>
<li><a href="#orgac8a889">3.3.8. <code>bitwidth</code></a></li>
<li><a href="#orgd6ce35c">3.3.9. <code>case</code></a></li>
<li><a href="#org2dce2cd">3.3.10. <code>case/dispatch</code></a></li>
<li><a href="#org714245f">3.3.11. <code>cast</code></a></li>
<li><a href="#orgdf47872">3.3.12. <code>compare</code></a></li>
<li><a href="#org51daadc">3.3.13. <code>copy-byte-shift</code></a></li>
<li><a href="#org70b076a">3.3.14. <code>copy-byte-shift-left</code></a></li>
<li><a href="#orgf092571">3.3.15. <code>copy-left</code></a></li>
<li><a href="#org8810e91">3.3.16. <code>copy-right</code></a></li>
<li><a href="#org66174f1">3.3.17. <code>decr</code></a></li>
<li><a href="#orgb8bb019">3.3.18. <code>endian</code></a></li>
<li><a href="#orgfcace75">3.3.19. <code>fold</code></a></li>
<li><a href="#org01de42f">3.3.20. <code>incr</code></a></li>
<li><a href="#org6ffbe04">3.3.21. <code>is-in</code></a></li>
<li><a href="#orgcf6ed60">3.3.22. <code>make-copy</code></a></li>
<li><a href="#org9265002">3.3.23. <code>max</code></a></li>
<li><a href="#org8e1fb87">3.3.24. <code>min</code></a></li>
<li><a href="#org1359f29">3.3.25. <code>non-zero</code></a></li>
<li><a href="#org59ed6f7">3.3.26. <code>nth-byte-of-word</code></a></li>
<li><a href="#org2227eeb">3.3.27. <code>or</code></a></li>
<li><a href="#orgd0ce7d2">3.3.28. <code>points-to</code></a></li>
<li><a href="#org91649aa">3.3.29. <code>ptr+</code></a></li>
<li><a href="#org9e1a018">3.3.30. <code>ptr+1</code></a></li>
<li><a href="#org08a0b18">3.3.31. <code>read-word</code></a></li>
<li><a href="#orgf04c179">3.3.32. <code>set$</code></a></li>
<li><a href="#org291a400">3.3.33. <code>setw</code></a></li>
<li><a href="#orgc2261ab">3.3.34. <code>shift-with-carry</code></a></li>
<li><a href="#org1a41b3a">3.3.35. <code>sign</code></a></li>
<li><a href="#orgfc1114b">3.3.36. <code>sizeof</code></a></li>
<li><a href="#org4c7c966">3.3.37. <code>unless</code></a></li>
<li><a href="#org20918b7">3.3.38. <code>until</code></a></li>
<li><a href="#orga6ad146">3.3.39. <code>when</code></a></li>
<li><a href="#org5b5b5f3">3.3.40. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#org27c86f1">3.4. Primitives</a>
<ul>
<li><a href="#orgbb936ac">3.4.1. <code>*</code></a></li>
<li><a href="#orgd172415">3.4.2. <code>+</code></a></li>
<li><a href="#org8bfd5b6">3.4.3. <code>-</code></a></li>
<li><a href="#orgb3227de">3.4.4. <code>/</code></a></li>
<li><a href="#orgfc87777">3.4.5. <code>/=</code></a></li>
<li><a href="#org5b5867e">3.4.6. <code>&lt;</code></a></li>
<li><a href="#org4a18b0b">3.4.7. <code>&lt;=</code></a></li>
<li><a href="#org79db629">3.4.8. <code>=</code></a></li>
<li><a href="#orgdf71d0c">3.4.9. <code>&gt;</code></a></li>
<li><a href="#org39ae4a7">3.4.10. <code>&gt;=</code></a></li>
<li><a href="#orga125325">3.4.11. <code>alias-base-register</code></a></li>
<li><a href="#org3bf64c9">3.4.12. <code>arshift</code></a></li>
<li><a href="#orgbe444a2">3.4.13. <code>cast-high</code></a></li>
<li><a href="#orgebcde35">3.4.14. <code>cast-low</code></a></li>
<li><a href="#orgb459436">3.4.15. <code>cast-signed</code></a></li>
<li><a href="#orgc367502">3.4.16. <code>cast-unsigned</code></a></li>
<li><a href="#org8fbc8a5">3.4.17. <code>concat</code></a></li>
<li><a href="#org2b08ff7">3.4.18. <code>exec-addr</code></a></li>
<li><a href="#orga848748">3.4.19. <code>extract</code></a></li>
<li><a href="#org6c62d22">3.4.20. <code>get-current-program-counter</code></a></li>
<li><a href="#orgf4815bb">3.4.21. <code>get-program-counter</code></a></li>
<li><a href="#orge8fe474">3.4.22. <code>goto-subinstruction</code></a></li>
<li><a href="#orgdd11558">3.4.23. <code>is-negative</code></a></li>
<li><a href="#org010531a">3.4.24. <code>is-positive</code></a></li>
<li><a href="#org08d0c5b">3.4.25. <code>is-symbol</code></a></li>
<li><a href="#orgcd4732d">3.4.26. <code>is-zero</code></a></li>
<li><a href="#org9f6fb1e">3.4.27. <code>lnot</code></a></li>
<li><a href="#orgf22706f">3.4.28. <code>load-bits</code></a></li>
<li><a href="#org1067900">3.4.29. <code>load-byte</code></a></li>
<li><a href="#org027731d">3.4.30. <code>load-dword</code></a></li>
<li><a href="#orga9e52e8">3.4.31. <code>load-hword</code></a></li>
<li><a href="#org6007599">3.4.32. <code>load-qword</code></a></li>
<li><a href="#org59d531e">3.4.33. <code>load-word</code></a></li>
<li><a href="#org017de28">3.4.34. <code>logand</code></a></li>
<li><a href="#org6131d0f">3.4.35. <code>logor</code></a></li>
<li><a href="#org45c20c8">3.4.36. <code>logxor</code></a></li>
<li><a href="#org81ea241">3.4.37. <code>lshift</code></a></li>
<li><a href="#orgfe2bcc9">3.4.38. <code>memory-read</code></a></li>
<li><a href="#org95df1ca">3.4.39. <code>memory-write</code></a></li>
<li><a href="#org24b8135">3.4.40. <code>mod</code></a></li>
<li><a href="#org3f4e2dc">3.4.41. <code>neg</code></a></li>
<li><a href="#org208f8dc">3.4.42. <code>not</code></a></li>
<li><a href="#orgaf906ac">3.4.43. <code>nth</code></a></li>
<li><a href="#org3ed503b">3.4.44. <code>rshift</code></a></li>
<li><a href="#orgda0dd60">3.4.45. <code>s/</code></a></li>
<li><a href="#orgb02a475">3.4.46. <code>s&lt;</code></a></li>
<li><a href="#orgf58e123">3.4.47. <code>s&lt;=</code></a></li>
<li><a href="#orgd046bb7">3.4.48. <code>s&gt;</code></a></li>
<li><a href="#orgef1b4b0">3.4.49. <code>s&gt;=</code></a></li>
<li><a href="#org4b6c222">3.4.50. <code>select</code></a></li>
<li><a href="#org1ffe465">3.4.51. <code>set-symbol-value</code></a></li>
<li><a href="#org3acf4b5">3.4.52. <code>signed-mod</code></a></li>
<li><a href="#orgfdc2766">3.4.53. <code>store-byte</code></a></li>
<li><a href="#org713b6a4">3.4.54. <code>store-word</code></a></li>
<li><a href="#org4a12437">3.4.55. <code>symbol</code></a></li>
<li><a href="#org7603dc3">3.4.56. <code>word-width</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgfa4426d">4. Package <code>bap</code></a>
<ul>
<li><a href="#org78a529f">4.1. Constants</a>
<ul>
<li><a href="#orgaddf218">4.1.1. <code>false</code></a></li>
<li><a href="#org7771f29">4.1.2. <code>nil</code></a></li>
<li><a href="#org265abbd">4.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#org6fa8598">4.2. Functions</a>
<ul>
<li><a href="#orgdd39a03">4.2.1. <code>carry</code></a></li>
<li><a href="#orgead9a6d">4.2.2. <code>copy-byte</code></a></li>
<li><a href="#org53101cb">4.2.3. <code>lsb</code></a></li>
<li><a href="#org46d91f2">4.2.4. <code>msb</code></a></li>
<li><a href="#orgad88aa5">4.2.5. <code>overflow</code></a></li>
<li><a href="#org5f5876b">4.2.6. <code>points-to-null</code></a></li>
</ul>
</li>
<li><a href="#orgaedbcc5">4.3. Macros</a>
<ul>
<li><a href="#org6635217">4.3.1. <code>+1</code></a></li>
<li><a href="#orgc0377db">4.3.2. <code>+=</code></a></li>
<li><a href="#orgda70a4a">4.3.3. <code>-1</code></a></li>
<li><a href="#orgf803f66">4.3.4. <code>and</code></a></li>
<li><a href="#org3490c4e">4.3.5. <code>array-get</code></a></li>
<li><a href="#org3501d03">4.3.6. <code>array-set</code></a></li>
<li><a href="#org90c7eb6">4.3.7. <code>assert</code></a></li>
<li><a href="#org0adf2d5">4.3.8. <code>bitwidth</code></a></li>
<li><a href="#org1133a40">4.3.9. <code>case</code></a></li>
<li><a href="#org6a93cf6">4.3.10. <code>case/dispatch</code></a></li>
<li><a href="#org24ae4a4">4.3.11. <code>cast</code></a></li>
<li><a href="#org9cc95b7">4.3.12. <code>compare</code></a></li>
<li><a href="#org0e5c105">4.3.13. <code>copy-byte-shift</code></a></li>
<li><a href="#orgcf03d50">4.3.14. <code>copy-byte-shift-left</code></a></li>
<li><a href="#orgc3b779a">4.3.15. <code>copy-left</code></a></li>
<li><a href="#orgd734e4d">4.3.16. <code>copy-right</code></a></li>
<li><a href="#org61c5a83">4.3.17. <code>decr</code></a></li>
<li><a href="#orgca51f1f">4.3.18. <code>endian</code></a></li>
<li><a href="#org072ee3f">4.3.19. <code>fold</code></a></li>
<li><a href="#org7f99e6b">4.3.20. <code>incr</code></a></li>
<li><a href="#org6c37620">4.3.21. <code>is-in</code></a></li>
<li><a href="#orgce81643">4.3.22. <code>make-copy</code></a></li>
<li><a href="#orged220ae">4.3.23. <code>max</code></a></li>
<li><a href="#org32c5c03">4.3.24. <code>min</code></a></li>
<li><a href="#orgf5fa43a">4.3.25. <code>non-zero</code></a></li>
<li><a href="#org185fd44">4.3.26. <code>nth-byte-of-word</code></a></li>
<li><a href="#org4843fc9">4.3.27. <code>or</code></a></li>
<li><a href="#orgae0e3d0">4.3.28. <code>points-to</code></a></li>
<li><a href="#orge4e41bb">4.3.29. <code>ptr+</code></a></li>
<li><a href="#orge195bb9">4.3.30. <code>ptr+1</code></a></li>
<li><a href="#orga56fc37">4.3.31. <code>read-word</code></a></li>
<li><a href="#orga2ec92e">4.3.32. <code>set$</code></a></li>
<li><a href="#orgd1aee29">4.3.33. <code>sign</code></a></li>
<li><a href="#orgdae3d7e">4.3.34. <code>sizeof</code></a></li>
<li><a href="#orgbc7bc60">4.3.35. <code>unless</code></a></li>
<li><a href="#orgd9c0b8d">4.3.36. <code>until</code></a></li>
<li><a href="#orgdfd538a">4.3.37. <code>when</code></a></li>
<li><a href="#org00e99f9">4.3.38. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#org9469c4a">4.4. Methods</a>
<ul>
<li><a href="#org32e18b0">4.4.1. <code>patterns-action</code></a></li>
</ul>
</li>
<li><a href="#org03a63c2">4.5. Primitives</a>
<ul>
<li><a href="#org65054d3">4.5.1. <code>*</code></a></li>
<li><a href="#org64af827">4.5.2. <code>+</code></a></li>
<li><a href="#org3dad589">4.5.3. <code>-</code></a></li>
<li><a href="#orgc4a9099">4.5.4. <code>/</code></a></li>
<li><a href="#org8623b09">4.5.5. <code>/=</code></a></li>
<li><a href="#org29e1019">4.5.6. <code>&lt;</code></a></li>
<li><a href="#orgf8ba4b5">4.5.7. <code>&lt;=</code></a></li>
<li><a href="#orgefdf270">4.5.8. <code>=</code></a></li>
<li><a href="#org1c415de">4.5.9. <code>&gt;</code></a></li>
<li><a href="#orgb47ba7e">4.5.10. <code>&gt;=</code></a></li>
<li><a href="#org89529bc">4.5.11. <code>alias-base-register</code></a></li>
<li><a href="#orgb4933c0">4.5.12. <code>arm-set-encoding</code></a></li>
<li><a href="#org21b6baa">4.5.13. <code>arshift</code></a></li>
<li><a href="#org54447b7">4.5.14. <code>cast-high</code></a></li>
<li><a href="#org3ad670c">4.5.15. <code>cast-low</code></a></li>
<li><a href="#org17eac9e">4.5.16. <code>cast-signed</code></a></li>
<li><a href="#org915dd41">4.5.17. <code>cast-unsigned</code></a></li>
<li><a href="#orgf86e53c">4.5.18. <code>concat</code></a></li>
<li><a href="#orgf241e4c">4.5.19. <code>exec-addr</code></a></li>
<li><a href="#org50ceaf8">4.5.20. <code>extract</code></a></li>
<li><a href="#org04ae1e7">4.5.21. <code>get-current-program-counter</code></a></li>
<li><a href="#org52fc6a0">4.5.22. <code>get-program-counter</code></a></li>
<li><a href="#org14e9c85">4.5.23. <code>goto-subinstruction</code></a></li>
<li><a href="#org0d0c445">4.5.24. <code>is-negative</code></a></li>
<li><a href="#org3cfbd7f">4.5.25. <code>is-positive</code></a></li>
<li><a href="#org2c82da7">4.5.26. <code>is-symbol</code></a></li>
<li><a href="#orgd26ac7c">4.5.27. <code>is-zero</code></a></li>
<li><a href="#org01bcd71">4.5.28. <code>lnot</code></a></li>
<li><a href="#org54d847c">4.5.29. <code>load-bits</code></a></li>
<li><a href="#org23e4d59">4.5.30. <code>load-byte</code></a></li>
<li><a href="#org3da454a">4.5.31. <code>load-dword</code></a></li>
<li><a href="#org67b020a">4.5.32. <code>load-hword</code></a></li>
<li><a href="#orgfcbfa15">4.5.33. <code>load-qword</code></a></li>
<li><a href="#org22a01c1">4.5.34. <code>load-word</code></a></li>
<li><a href="#org509c8af">4.5.35. <code>logand</code></a></li>
<li><a href="#orgce1f283">4.5.36. <code>logor</code></a></li>
<li><a href="#orga9aefaa">4.5.37. <code>logxor</code></a></li>
<li><a href="#orgb0667ca">4.5.38. <code>lshift</code></a></li>
<li><a href="#org84059de">4.5.39. <code>memory-read</code></a></li>
<li><a href="#orgd739013">4.5.40. <code>memory-write</code></a></li>
<li><a href="#org1ea047f">4.5.41. <code>mod</code></a></li>
<li><a href="#orgd4a0edc">4.5.42. <code>neg</code></a></li>
<li><a href="#orgb2f9511">4.5.43. <code>not</code></a></li>
<li><a href="#org91af4db">4.5.44. <code>nth</code></a></li>
<li><a href="#org2ad6d31">4.5.45. <code>patterns-attribute</code></a></li>
<li><a href="#org03e2394">4.5.46. <code>promise-function-start</code></a></li>
<li><a href="#org458d6a4">4.5.47. <code>rshift</code></a></li>
<li><a href="#org36c21ee">4.5.48. <code>s/</code></a></li>
<li><a href="#org8228abc">4.5.49. <code>s&lt;</code></a></li>
<li><a href="#org1f5509f">4.5.50. <code>s&lt;=</code></a></li>
<li><a href="#orga8fc97b">4.5.51. <code>s&gt;</code></a></li>
<li><a href="#org2262874">4.5.52. <code>s&gt;=</code></a></li>
<li><a href="#orgdc17e18">4.5.53. <code>select</code></a></li>
<li><a href="#orgf477456">4.5.54. <code>set-symbol-value</code></a></li>
<li><a href="#orgcffaba4">4.5.55. <code>signed-mod</code></a></li>
<li><a href="#org5b9ffc0">4.5.56. <code>store-byte</code></a></li>
<li><a href="#org7627937">4.5.57. <code>store-word</code></a></li>
<li><a href="#orgc45173e">4.5.58. <code>symbol</code></a></li>
<li><a href="#orga2214b9">4.5.59. <code>word-width</code></a></li>
</ul>
</li>
<li><a href="#orgc6e8a26">4.6. Signals</a>
<ul>
<li><a href="#org1ee88a6">4.6.1. <code>patterns-action</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org0a8d349">5. Package <code>core</code></a>
<ul>
<li><a href="#org1c9e51f">5.1. Constants</a>
<ul>
<li><a href="#orgcb4c769">5.1.1. <code>false</code></a></li>
<li><a href="#org831ebe3">5.1.2. <code>nil</code></a></li>
<li><a href="#orge366331">5.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#orgae125e2">5.2. Functions</a>
<ul>
<li><a href="#org0c59970">5.2.1. <code>carry</code></a></li>
<li><a href="#orgb735b9a">5.2.2. <code>copy-byte</code></a></li>
<li><a href="#orgf4b8366">5.2.3. <code>lsb</code></a></li>
<li><a href="#orgd812bc2">5.2.4. <code>msb</code></a></li>
<li><a href="#org7bd4305">5.2.5. <code>overflow</code></a></li>
<li><a href="#orge25e383">5.2.6. <code>points-to-null</code></a></li>
</ul>
</li>
<li><a href="#orga4dff7a">5.3. Macros</a>
<ul>
<li><a href="#org65048f3">5.3.1. <code>+1</code></a></li>
<li><a href="#orgbd5cd22">5.3.2. <code>+=</code></a></li>
<li><a href="#orgb7efb0f">5.3.3. <code>-1</code></a></li>
<li><a href="#org23b4f8e">5.3.4. <code>and</code></a></li>
<li><a href="#org5dae428">5.3.5. <code>array-get</code></a></li>
<li><a href="#org289ce2f">5.3.6. <code>array-set</code></a></li>
<li><a href="#orgce3b7ed">5.3.7. <code>assert</code></a></li>
<li><a href="#org7391064">5.3.8. <code>bitwidth</code></a></li>
<li><a href="#org1e454fa">5.3.9. <code>case</code></a></li>
<li><a href="#org51434ea">5.3.10. <code>case/dispatch</code></a></li>
<li><a href="#org951e8a5">5.3.11. <code>cast</code></a></li>
<li><a href="#orgc1cc057">5.3.12. <code>compare</code></a></li>
<li><a href="#orga9a0b23">5.3.13. <code>copy-byte-shift</code></a></li>
<li><a href="#org32aa86c">5.3.14. <code>copy-byte-shift-left</code></a></li>
<li><a href="#org3e30e58">5.3.15. <code>copy-left</code></a></li>
<li><a href="#orgcf28a3c">5.3.16. <code>copy-right</code></a></li>
<li><a href="#orgd7dc9d2">5.3.17. <code>decr</code></a></li>
<li><a href="#org2fb52ec">5.3.18. <code>endian</code></a></li>
<li><a href="#orgcc64998">5.3.19. <code>fold</code></a></li>
<li><a href="#orge3f53a1">5.3.20. <code>incr</code></a></li>
<li><a href="#orgbc1a766">5.3.21. <code>is-in</code></a></li>
<li><a href="#org7c37e33">5.3.22. <code>make-copy</code></a></li>
<li><a href="#org3c096f9">5.3.23. <code>max</code></a></li>
<li><a href="#org4123336">5.3.24. <code>min</code></a></li>
<li><a href="#orgc661d43">5.3.25. <code>non-zero</code></a></li>
<li><a href="#org99ef436">5.3.26. <code>nth-byte-of-word</code></a></li>
<li><a href="#org27a1239">5.3.27. <code>or</code></a></li>
<li><a href="#org14b7b97">5.3.28. <code>points-to</code></a></li>
<li><a href="#org9ef4796">5.3.29. <code>ptr+</code></a></li>
<li><a href="#org514d24c">5.3.30. <code>ptr+1</code></a></li>
<li><a href="#org4dcb21d">5.3.31. <code>read-word</code></a></li>
<li><a href="#org15757bd">5.3.32. <code>set$</code></a></li>
<li><a href="#org6972c94">5.3.33. <code>sign</code></a></li>
<li><a href="#org0341ef5">5.3.34. <code>sizeof</code></a></li>
<li><a href="#org1b8661b">5.3.35. <code>unless</code></a></li>
<li><a href="#org91f904a">5.3.36. <code>until</code></a></li>
<li><a href="#org730d737">5.3.37. <code>when</code></a></li>
<li><a href="#org624de80">5.3.38. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#org870dc56">5.4. Primitives</a>
<ul>
<li><a href="#org74f4056">5.4.1. <code>*</code></a></li>
<li><a href="#org6c8ae85">5.4.2. <code>+</code></a></li>
<li><a href="#org8bf7d5a">5.4.3. <code>-</code></a></li>
<li><a href="#org8123064">5.4.4. <code>/</code></a></li>
<li><a href="#org563b370">5.4.5. <code>/=</code></a></li>
<li><a href="#orgfba6bec">5.4.6. <code>&lt;</code></a></li>
<li><a href="#org50a36bf">5.4.7. <code>&lt;=</code></a></li>
<li><a href="#org777a5e7">5.4.8. <code>=</code></a></li>
<li><a href="#org6e36d64">5.4.9. <code>&gt;</code></a></li>
<li><a href="#org477b9f8">5.4.10. <code>&gt;=</code></a></li>
<li><a href="#org3b7711e">5.4.11. <code>alias-base-register</code></a></li>
<li><a href="#orgcaf418c">5.4.12. <code>arshift</code></a></li>
<li><a href="#org5651784">5.4.13. <code>cast-high</code></a></li>
<li><a href="#orgd23e693">5.4.14. <code>cast-low</code></a></li>
<li><a href="#org07125da">5.4.15. <code>cast-signed</code></a></li>
<li><a href="#org34758d3">5.4.16. <code>cast-unsigned</code></a></li>
<li><a href="#orga1f2274">5.4.17. <code>concat</code></a></li>
<li><a href="#orge09a372">5.4.18. <code>exec-addr</code></a></li>
<li><a href="#org95de7cc">5.4.19. <code>extract</code></a></li>
<li><a href="#orgf4ed76e">5.4.20. <code>get-current-program-counter</code></a></li>
<li><a href="#org7ec2410">5.4.21. <code>get-program-counter</code></a></li>
<li><a href="#orge3fa680">5.4.22. <code>goto-subinstruction</code></a></li>
<li><a href="#orgd8b04e8">5.4.23. <code>is-negative</code></a></li>
<li><a href="#org1b7f1b9">5.4.24. <code>is-positive</code></a></li>
<li><a href="#org2394ca0">5.4.25. <code>is-symbol</code></a></li>
<li><a href="#org5210fd7">5.4.26. <code>is-zero</code></a></li>
<li><a href="#orgb0b9518">5.4.27. <code>lnot</code></a></li>
<li><a href="#org9a02f58">5.4.28. <code>load-bits</code></a></li>
<li><a href="#org0fe0dbc">5.4.29. <code>load-byte</code></a></li>
<li><a href="#org9916582">5.4.30. <code>load-dword</code></a></li>
<li><a href="#orgb34f90a">5.4.31. <code>load-hword</code></a></li>
<li><a href="#org75d1632">5.4.32. <code>load-qword</code></a></li>
<li><a href="#orgf6704a0">5.4.33. <code>load-word</code></a></li>
<li><a href="#org5b2de89">5.4.34. <code>logand</code></a></li>
<li><a href="#org3622dea">5.4.35. <code>logor</code></a></li>
<li><a href="#org4b91249">5.4.36. <code>logxor</code></a></li>
<li><a href="#orgacfbb1f">5.4.37. <code>lshift</code></a></li>
<li><a href="#org5e04db5">5.4.38. <code>memory-read</code></a></li>
<li><a href="#orgdb4d46e">5.4.39. <code>memory-write</code></a></li>
<li><a href="#orgef37e93">5.4.40. <code>mod</code></a></li>
<li><a href="#orgced7f5e">5.4.41. <code>neg</code></a></li>
<li><a href="#orge73ec29">5.4.42. <code>not</code></a></li>
<li><a href="#org0c606f4">5.4.43. <code>nth</code></a></li>
<li><a href="#org213424d">5.4.44. <code>rshift</code></a></li>
<li><a href="#org6d5a4fb">5.4.45. <code>s/</code></a></li>
<li><a href="#org2af575d">5.4.46. <code>s&lt;</code></a></li>
<li><a href="#orgc3a2670">5.4.47. <code>s&lt;=</code></a></li>
<li><a href="#orgb9ed484">5.4.48. <code>s&gt;</code></a></li>
<li><a href="#orge7c2f7d">5.4.49. <code>s&gt;=</code></a></li>
<li><a href="#org9444907">5.4.50. <code>select</code></a></li>
<li><a href="#orgf15bdc9">5.4.51. <code>set-symbol-value</code></a></li>
<li><a href="#orge8c11e1">5.4.52. <code>signed-mod</code></a></li>
<li><a href="#org8fb0518">5.4.53. <code>store-byte</code></a></li>
<li><a href="#orga3ccf06">5.4.54. <code>store-word</code></a></li>
<li><a href="#org8aace33">5.4.55. <code>symbol</code></a></li>
<li><a href="#org43951df">5.4.56. <code>word-width</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org2448cde">6. Package <code>llvm-aarch64</code></a>
<ul>
<li><a href="#org38d1732">6.1. Constants</a>
<ul>
<li><a href="#orge21dd56">6.1.1. <code>false</code></a></li>
<li><a href="#org19c6837">6.1.2. <code>nil</code></a></li>
<li><a href="#org836035c">6.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#orga8acbdf">6.2. Functions</a>
<ul>
<li><a href="#org7d1a5c1">6.2.1. <code>ADDWri</code></a></li>
<li><a href="#org9d0e382">6.2.2. <code>ADDWrs</code></a></li>
<li><a href="#orga0743ce">6.2.3. <code>ADDXri</code></a></li>
<li><a href="#orgd61586b">6.2.4. <code>ADDXrs</code></a></li>
<li><a href="#org6ac7d74">6.2.5. <code>ADRP</code></a></li>
<li><a href="#org900652a">6.2.6. <code>ANDWri</code></a></li>
<li><a href="#org84bfaaa">6.2.7. <code>ANDWrs</code></a></li>
<li><a href="#orgcb33f6a">6.2.8. <code>ANDXrs</code></a></li>
<li><a href="#org139c835">6.2.9. <code>B</code></a></li>
<li><a href="#orga6e3b3d">6.2.10. <code>BL</code></a></li>
<li><a href="#org97610ec">6.2.11. <code>BLR</code></a></li>
<li><a href="#orgdcf9edd">6.2.12. <code>BR</code></a></li>
<li><a href="#org715d3ca">6.2.13. <code>Bcc</code></a></li>
<li><a href="#org5ed9337">6.2.14. <code>CBNZW</code></a></li>
<li><a href="#orgc494fb2">6.2.15. <code>CBNZX</code></a></li>
<li><a href="#org6f44d36">6.2.16. <code>CBZW</code></a></li>
<li><a href="#org2d19b65">6.2.17. <code>CBZX</code></a></li>
<li><a href="#org104508a">6.2.18. <code>EORWrs</code></a></li>
<li><a href="#orgba22e5e">6.2.19. <code>EORXrs</code></a></li>
<li><a href="#org458244a">6.2.20. <code>LDPXi</code></a></li>
<li><a href="#orgb4def2a">6.2.21. <code>LDPXpost</code></a></li>
<li><a href="#org0ff81b0">6.2.22. <code>LDRBBroX</code></a></li>
<li><a href="#org446e7ea">6.2.23. <code>LDRBBui</code></a></li>
<li><a href="#org2fd51b9">6.2.24. <code>LDRSWui</code></a></li>
<li><a href="#org348fe29">6.2.25. <code>LDRWui</code></a></li>
<li><a href="#org3ecdc34">6.2.26. <code>LDRXroX</code></a></li>
<li><a href="#org0d3a7b1">6.2.27. <code>LDRXui</code></a></li>
<li><a href="#org1c4c74c">6.2.28. <code>MOVKWi</code></a></li>
<li><a href="#orgbaf387c">6.2.29. <code>MOVKXi</code></a></li>
<li><a href="#org52b933c">6.2.30. <code>MOVNWi</code></a></li>
<li><a href="#org59ad09c">6.2.31. <code>MOVZWi</code></a></li>
<li><a href="#org88a95ef">6.2.32. <code>MOVZXi</code></a></li>
<li><a href="#org8f005e9">6.2.33. <code>ORNWrs</code></a></li>
<li><a href="#org5306cca">6.2.34. <code>ORNXrs</code></a></li>
<li><a href="#orgc5da525">6.2.35. <code>ORRWrs</code></a></li>
<li><a href="#orgb784620">6.2.36. <code>ORRXrs</code></a></li>
<li><a href="#org1888d92">6.2.37. <code>RET</code></a></li>
<li><a href="#org4143e38">6.2.38. <code>SBFMWri</code></a></li>
<li><a href="#org2492ec2">6.2.39. <code>SBFMXri</code></a></li>
<li><a href="#orgf5fae41">6.2.40. <code>STPXi</code></a></li>
<li><a href="#org5e84d71">6.2.41. <code>STPXpre</code></a></li>
<li><a href="#org3bf7ab3">6.2.42. <code>STRBBui</code></a></li>
<li><a href="#org0d8b433">6.2.43. <code>STRWui</code></a></li>
<li><a href="#org415d6f7">6.2.44. <code>STRXroX</code></a></li>
<li><a href="#org48efcea">6.2.45. <code>STRXui</code></a></li>
<li><a href="#org4406fbd">6.2.46. <code>SUBSWri</code></a></li>
<li><a href="#orgc5edc4d">6.2.47. <code>SUBSWrs</code></a></li>
<li><a href="#orgb697b99">6.2.48. <code>SUBSXri</code></a></li>
<li><a href="#org984d993">6.2.49. <code>SUBSXrs</code></a></li>
<li><a href="#orgdab203e">6.2.50. <code>SUBWri</code></a></li>
<li><a href="#orga4b91cc">6.2.51. <code>SUBWrs</code></a></li>
<li><a href="#orgec7832a">6.2.52. <code>SUBXri</code></a></li>
<li><a href="#org59ef75d">6.2.53. <code>SUBXrs</code></a></li>
<li><a href="#org4c488b9">6.2.54. <code>SUBXrx64</code></a></li>
<li><a href="#org94f6fe3">6.2.55. <code>UBFMWri</code></a></li>
<li><a href="#org1467717">6.2.56. <code>UBFMXri</code></a></li>
<li><a href="#org0d390c2">6.2.57. <code>add-with-carry</code></a></li>
<li><a href="#orga158aa0">6.2.58. <code>add-with-carry/clear-base</code></a></li>
<li><a href="#org3ed6de2">6.2.59. <code>add-with-carry/it-block</code></a></li>
<li><a href="#orgf5dd01d">6.2.60. <code>carry</code></a></li>
<li><a href="#org12b255e">6.2.61. <code>clear-base</code></a></li>
<li><a href="#org829944b">6.2.62. <code>condition-holds</code></a></li>
<li><a href="#org4fc77cd">6.2.63. <code>copy-byte</code></a></li>
<li><a href="#orgf413583">6.2.64. <code>is-unconditional</code></a></li>
<li><a href="#orgd6cf8e5">6.2.65. <code>logandnot</code></a></li>
<li><a href="#org3d09b34">6.2.66. <code>lsb</code></a></li>
<li><a href="#org20a7e9e">6.2.67. <code>msb</code></a></li>
<li><a href="#org78a7d4a">6.2.68. <code>overflow</code></a></li>
<li><a href="#orga758d6d">6.2.69. <code>points-to-null</code></a></li>
<li><a href="#orga64c8ec">6.2.70. <code>relative-jump</code></a></li>
<li><a href="#org301a708">6.2.71. <code>set-flags</code></a></li>
<li><a href="#orgdbfa0ef">6.2.72. <code>signed-extend</code></a></li>
<li><a href="#orgb16e0ef">6.2.73. <code>unsigned-extend</code></a></li>
<li><a href="#orgb36b56d">6.2.74. <code>word</code></a></li>
</ul>
</li>
<li><a href="#org39c1e27">6.3. Macros</a>
<ul>
<li><a href="#org2abc901">6.3.1. <code>+1</code></a></li>
<li><a href="#org99df1fc">6.3.2. <code>+=</code></a></li>
<li><a href="#orga042be4">6.3.3. <code>-1</code></a></li>
<li><a href="#org83df00a">6.3.4. <code>MOVK*i</code></a></li>
<li><a href="#org0c64216">6.3.5. <code>ORN*rs</code></a></li>
<li><a href="#org4df6278">6.3.6. <code>and</code></a></li>
<li><a href="#orgb3dc475">6.3.7. <code>array-get</code></a></li>
<li><a href="#org527ca7e">6.3.8. <code>array-set</code></a></li>
<li><a href="#orge1a1d73">6.3.9. <code>assert</code></a></li>
<li><a href="#orgf01f7f6">6.3.10. <code>bitwidth</code></a></li>
<li><a href="#orga5a738d">6.3.11. <code>case</code></a></li>
<li><a href="#org64072f3">6.3.12. <code>case/dispatch</code></a></li>
<li><a href="#org572ca27">6.3.13. <code>cast</code></a></li>
<li><a href="#org1d6c555">6.3.14. <code>compare</code></a></li>
<li><a href="#org7f483ea">6.3.15. <code>copy-byte-shift</code></a></li>
<li><a href="#org1d1a5a8">6.3.16. <code>copy-byte-shift-left</code></a></li>
<li><a href="#orgcf17ea8">6.3.17. <code>copy-left</code></a></li>
<li><a href="#org708aa82">6.3.18. <code>copy-right</code></a></li>
<li><a href="#orge5fa4a5">6.3.19. <code>decr</code></a></li>
<li><a href="#org3153a8b">6.3.20. <code>endian</code></a></li>
<li><a href="#orgb7a90f7">6.3.21. <code>fold</code></a></li>
<li><a href="#org5b53e44">6.3.22. <code>incr</code></a></li>
<li><a href="#org032238d">6.3.23. <code>is-in</code></a></li>
<li><a href="#org63a961d">6.3.24. <code>log*?rs</code></a></li>
<li><a href="#org274a01c">6.3.25. <code>make-BFM</code></a></li>
<li><a href="#orga223027">6.3.26. <code>make-copy</code></a></li>
<li><a href="#org92053bb">6.3.27. <code>max</code></a></li>
<li><a href="#org13d7556">6.3.28. <code>min</code></a></li>
<li><a href="#orgafc3f8b">6.3.29. <code>non-zero</code></a></li>
<li><a href="#org880552f">6.3.30. <code>nth-byte-of-word</code></a></li>
<li><a href="#orge8dea6c">6.3.31. <code>or</code></a></li>
<li><a href="#orgb4735b0">6.3.32. <code>points-to</code></a></li>
<li><a href="#orge66ef09">6.3.33. <code>ptr+</code></a></li>
<li><a href="#orgbbd2233">6.3.34. <code>ptr+1</code></a></li>
<li><a href="#org38c5fde">6.3.35. <code>read-word</code></a></li>
<li><a href="#org4a89849">6.3.36. <code>set$</code></a></li>
<li><a href="#org4c3eb3b">6.3.37. <code>setw</code></a></li>
<li><a href="#org962917c">6.3.38. <code>shift-with-carry</code></a></li>
<li><a href="#org592b92d">6.3.39. <code>sign</code></a></li>
<li><a href="#org3423d40">6.3.40. <code>sizeof</code></a></li>
<li><a href="#orgdd4343e">6.3.41. <code>unless</code></a></li>
<li><a href="#org8d90457">6.3.42. <code>until</code></a></li>
<li><a href="#org648d20b">6.3.43. <code>when</code></a></li>
<li><a href="#orge2d181e">6.3.44. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#orged58017">6.4. Primitives</a>
<ul>
<li><a href="#orgf1b2573">6.4.1. <code>*</code></a></li>
<li><a href="#org379a17f">6.4.2. <code>+</code></a></li>
<li><a href="#org5c1e1ec">6.4.3. <code>-</code></a></li>
<li><a href="#org25ce9e3">6.4.4. <code>/</code></a></li>
<li><a href="#orge108330">6.4.5. <code>/=</code></a></li>
<li><a href="#orgeb3b947">6.4.6. <code>&lt;</code></a></li>
<li><a href="#org8b7d198">6.4.7. <code>&lt;=</code></a></li>
<li><a href="#org1a752a5">6.4.8. <code>=</code></a></li>
<li><a href="#org5bf73ab">6.4.9. <code>&gt;</code></a></li>
<li><a href="#org50f7e53">6.4.10. <code>&gt;=</code></a></li>
<li><a href="#orgcdb298c">6.4.11. <code>alias-base-register</code></a></li>
<li><a href="#org3ac44f9">6.4.12. <code>arshift</code></a></li>
<li><a href="#org420359e">6.4.13. <code>cast-high</code></a></li>
<li><a href="#org5b0ea85">6.4.14. <code>cast-low</code></a></li>
<li><a href="#orgd367406">6.4.15. <code>cast-signed</code></a></li>
<li><a href="#org9a44ecb">6.4.16. <code>cast-unsigned</code></a></li>
<li><a href="#org7771827">6.4.17. <code>concat</code></a></li>
<li><a href="#orga422b76">6.4.18. <code>exec-addr</code></a></li>
<li><a href="#org5f131c9">6.4.19. <code>extract</code></a></li>
<li><a href="#org5765625">6.4.20. <code>get-current-program-counter</code></a></li>
<li><a href="#orgd010972">6.4.21. <code>get-program-counter</code></a></li>
<li><a href="#org7f5eef6">6.4.22. <code>goto-subinstruction</code></a></li>
<li><a href="#org11f3638">6.4.23. <code>is-negative</code></a></li>
<li><a href="#org5a56fd2">6.4.24. <code>is-positive</code></a></li>
<li><a href="#org766ab65">6.4.25. <code>is-symbol</code></a></li>
<li><a href="#org30fa0fc">6.4.26. <code>is-zero</code></a></li>
<li><a href="#orgcbd6c75">6.4.27. <code>lnot</code></a></li>
<li><a href="#orgd0de169">6.4.28. <code>load-bits</code></a></li>
<li><a href="#orgbba31d2">6.4.29. <code>load-byte</code></a></li>
<li><a href="#org1b0456d">6.4.30. <code>load-dword</code></a></li>
<li><a href="#org30ea837">6.4.31. <code>load-hword</code></a></li>
<li><a href="#orgece9b57">6.4.32. <code>load-qword</code></a></li>
<li><a href="#orgb417926">6.4.33. <code>load-word</code></a></li>
<li><a href="#org27ed938">6.4.34. <code>logand</code></a></li>
<li><a href="#org6f3218c">6.4.35. <code>logor</code></a></li>
<li><a href="#org4f4d986">6.4.36. <code>logxor</code></a></li>
<li><a href="#orgd318ef4">6.4.37. <code>lshift</code></a></li>
<li><a href="#orgcccc38f">6.4.38. <code>memory-read</code></a></li>
<li><a href="#org8d5c50c">6.4.39. <code>memory-write</code></a></li>
<li><a href="#org548adec">6.4.40. <code>mod</code></a></li>
<li><a href="#org6888b05">6.4.41. <code>neg</code></a></li>
<li><a href="#orgaeb0e4b">6.4.42. <code>not</code></a></li>
<li><a href="#org165a092">6.4.43. <code>nth</code></a></li>
<li><a href="#org0d7acd3">6.4.44. <code>rshift</code></a></li>
<li><a href="#org6e0161b">6.4.45. <code>s/</code></a></li>
<li><a href="#orgaca375f">6.4.46. <code>s&lt;</code></a></li>
<li><a href="#orgc122b52">6.4.47. <code>s&lt;=</code></a></li>
<li><a href="#org5fa6ad3">6.4.48. <code>s&gt;</code></a></li>
<li><a href="#orgaaf2bb5">6.4.49. <code>s&gt;=</code></a></li>
<li><a href="#org33ca54d">6.4.50. <code>select</code></a></li>
<li><a href="#org6718e81">6.4.51. <code>set-symbol-value</code></a></li>
<li><a href="#org442b10e">6.4.52. <code>signed-mod</code></a></li>
<li><a href="#org55b9e49">6.4.53. <code>store-byte</code></a></li>
<li><a href="#org040d967">6.4.54. <code>store-word</code></a></li>
<li><a href="#org93b58ab">6.4.55. <code>symbol</code></a></li>
<li><a href="#org57de93f">6.4.56. <code>word-width</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org8948e44">7. Package <code>llvm-riscv32</code></a>
<ul>
<li><a href="#org0b08b8f">7.1. Constants</a>
<ul>
<li><a href="#orgc91d29f">7.1.1. <code>false</code></a></li>
<li><a href="#org4fff108">7.1.2. <code>nil</code></a></li>
<li><a href="#org7552f7d">7.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#org93e0bcc">7.2. Functions</a>
<ul>
<li><a href="#org235af0f">7.2.1. <code>ADDI</code></a></li>
<li><a href="#org330c3db">7.2.2. <code>ADDIW</code></a></li>
<li><a href="#org806fae4">7.2.3. <code>ADDW</code></a></li>
<li><a href="#orgeee928a">7.2.4. <code>ANDI</code></a></li>
<li><a href="#org546fa11">7.2.5. <code>AUIPC</code></a></li>
<li><a href="#org1a09be2">7.2.6. <code>BEQ</code></a></li>
<li><a href="#org5a14f91">7.2.7. <code>BEQZ</code></a></li>
<li><a href="#org7108409">7.2.8. <code>BLT</code></a></li>
<li><a href="#org8603dcc">7.2.9. <code>BNE</code></a></li>
<li><a href="#orge53ec0e">7.2.10. <code>BNEZ</code></a></li>
<li><a href="#org493144f">7.2.11. <code>C_ADD</code></a></li>
<li><a href="#orgf101e09">7.2.12. <code>C_ADDI</code></a></li>
<li><a href="#org2953a50">7.2.13. <code>C_ADDI16SP</code></a></li>
<li><a href="#orgb70c0b7">7.2.14. <code>C_ADDI4SPN</code></a></li>
<li><a href="#orgc5dec07">7.2.15. <code>C_ADDIW</code></a></li>
<li><a href="#org88c8379">7.2.16. <code>C_ADDW</code></a></li>
<li><a href="#org1dee436">7.2.17. <code>C_BEQ</code></a></li>
<li><a href="#org2b7abee">7.2.18. <code>C_BEQZ</code></a></li>
<li><a href="#org9a7817f">7.2.19. <code>C_BLT</code></a></li>
<li><a href="#org1982ed1">7.2.20. <code>C_BNE</code></a></li>
<li><a href="#org3717f9a">7.2.21. <code>C_BNEZ</code></a></li>
<li><a href="#org473c8fa">7.2.22. <code>C_J</code></a></li>
<li><a href="#orge57d9ab">7.2.23. <code>C_JALR</code></a></li>
<li><a href="#org0be3eef">7.2.24. <code>C_JR</code></a></li>
<li><a href="#orgb611475">7.2.25. <code>C_LD</code></a></li>
<li><a href="#orge89cdce">7.2.26. <code>C_LDSP</code></a></li>
<li><a href="#org1dc2f8a">7.2.27. <code>C_LI</code></a></li>
<li><a href="#org9ec9cf4">7.2.28. <code>C_LUI</code></a></li>
<li><a href="#orgd6b41a3">7.2.29. <code>C_MV</code></a></li>
<li><a href="#orge1110d3">7.2.30. <code>C_SD</code></a></li>
<li><a href="#org0dae152">7.2.31. <code>C_SDSP</code></a></li>
<li><a href="#org4efdff5">7.2.32. <code>C_SLLI</code></a></li>
<li><a href="#orgc46647b">7.2.33. <code>C_SRAI</code></a></li>
<li><a href="#orgd5b89c9">7.2.34. <code>C_SRLI</code></a></li>
<li><a href="#org9c4a9c7">7.2.35. <code>C_SUB</code></a></li>
<li><a href="#orgcab1096">7.2.36. <code>JAL</code></a></li>
<li><a href="#org16ae7cb">7.2.37. <code>JALR</code></a></li>
<li><a href="#orgd851de4">7.2.38. <code>LB</code></a></li>
<li><a href="#org0fc0156">7.2.39. <code>LBU</code></a></li>
<li><a href="#orgc267229">7.2.40. <code>LD</code></a></li>
<li><a href="#orgce070c8">7.2.41. <code>LH</code></a></li>
<li><a href="#org0be89a7">7.2.42. <code>LHU</code></a></li>
<li><a href="#orgf119ce4">7.2.43. <code>LI</code></a></li>
<li><a href="#org6c14e22">7.2.44. <code>LUI</code></a></li>
<li><a href="#org86c7c6e">7.2.45. <code>LW</code></a></li>
<li><a href="#orgbf9e65f">7.2.46. <code>LWU</code></a></li>
<li><a href="#org7ff99be">7.2.47. <code>ORI</code></a></li>
<li><a href="#org7893f8b">7.2.48. <code>SB</code></a></li>
<li><a href="#org7e4adf3">7.2.49. <code>SD</code></a></li>
<li><a href="#org8c5c06b">7.2.50. <code>SDSP</code></a></li>
<li><a href="#org6cc48d4">7.2.51. <code>SH</code></a></li>
<li><a href="#orgabf0020">7.2.52. <code>SLLI</code></a></li>
<li><a href="#org054bc14">7.2.53. <code>SLTI</code></a></li>
<li><a href="#orgbaae841">7.2.54. <code>SRAI</code></a></li>
<li><a href="#org2199ca9">7.2.55. <code>SRLI</code></a></li>
<li><a href="#orgc24b438">7.2.56. <code>SUB</code></a></li>
<li><a href="#org3ce10cf">7.2.57. <code>SW</code></a></li>
<li><a href="#orgbecb96b">7.2.58. <code>XORI</code></a></li>
<li><a href="#org21d71b6">7.2.59. <code>carry</code></a></li>
<li><a href="#orgb742b6b">7.2.60. <code>copy-byte</code></a></li>
<li><a href="#org8caf8c5">7.2.61. <code>lsb</code></a></li>
<li><a href="#orgbc8f9f8">7.2.62. <code>msb</code></a></li>
<li><a href="#org17fe6a1">7.2.63. <code>overflow</code></a></li>
<li><a href="#org10bb767">7.2.64. <code>points-to-null</code></a></li>
</ul>
</li>
<li><a href="#orge1222b6">7.3. Macros</a>
<ul>
<li><a href="#org8ac3693">7.3.1. <code>+1</code></a></li>
<li><a href="#org7b687b1">7.3.2. <code>+=</code></a></li>
<li><a href="#orga3225e5">7.3.3. <code>-1</code></a></li>
<li><a href="#org9a43334">7.3.4. <code>and</code></a></li>
<li><a href="#org64763a9">7.3.5. <code>array-get</code></a></li>
<li><a href="#org13e9832">7.3.6. <code>array-set</code></a></li>
<li><a href="#org9dce040">7.3.7. <code>assert</code></a></li>
<li><a href="#org78f6d43">7.3.8. <code>bitwidth</code></a></li>
<li><a href="#orgdf3da61">7.3.9. <code>case</code></a></li>
<li><a href="#org1cf8e18">7.3.10. <code>case/dispatch</code></a></li>
<li><a href="#orgfcd7aac">7.3.11. <code>cast</code></a></li>
<li><a href="#org895d728">7.3.12. <code>compare</code></a></li>
<li><a href="#orgd035d82">7.3.13. <code>copy-byte-shift</code></a></li>
<li><a href="#org84a2e18">7.3.14. <code>copy-byte-shift-left</code></a></li>
<li><a href="#org3891012">7.3.15. <code>copy-left</code></a></li>
<li><a href="#org6b6040a">7.3.16. <code>copy-right</code></a></li>
<li><a href="#org35e275e">7.3.17. <code>decr</code></a></li>
<li><a href="#orgdcf969f">7.3.18. <code>endian</code></a></li>
<li><a href="#org00ed802">7.3.19. <code>fold</code></a></li>
<li><a href="#org8829710">7.3.20. <code>incr</code></a></li>
<li><a href="#org9a8f770">7.3.21. <code>is-in</code></a></li>
<li><a href="#orgfb209fc">7.3.22. <code>load-word</code></a></li>
<li><a href="#org7baa4e8">7.3.23. <code>make-copy</code></a></li>
<li><a href="#org5c87e83">7.3.24. <code>max</code></a></li>
<li><a href="#org986c4db">7.3.25. <code>min</code></a></li>
<li><a href="#org6fbb37c">7.3.26. <code>non-zero</code></a></li>
<li><a href="#org5515a37">7.3.27. <code>nth-byte-of-word</code></a></li>
<li><a href="#org135816d">7.3.28. <code>or</code></a></li>
<li><a href="#org338197d">7.3.29. <code>points-to</code></a></li>
<li><a href="#orga3b9938">7.3.30. <code>ptr+</code></a></li>
<li><a href="#org1615e9e">7.3.31. <code>ptr+1</code></a></li>
<li><a href="#org641e342">7.3.32. <code>read-word</code></a></li>
<li><a href="#org47b149d">7.3.33. <code>set$</code></a></li>
<li><a href="#org2351409">7.3.34. <code>sign</code></a></li>
<li><a href="#orga49d13c">7.3.35. <code>sizeof</code></a></li>
<li><a href="#orge0ce73e">7.3.36. <code>unless</code></a></li>
<li><a href="#orga75a7fc">7.3.37. <code>until</code></a></li>
<li><a href="#orgd04e4ea">7.3.38. <code>when</code></a></li>
<li><a href="#org0e35220">7.3.39. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#org90f2cf0">7.4. Primitives</a>
<ul>
<li><a href="#org819a11f">7.4.1. <code>*</code></a></li>
<li><a href="#org370e828">7.4.2. <code>+</code></a></li>
<li><a href="#org6ce47ff">7.4.3. <code>-</code></a></li>
<li><a href="#org5a95c47">7.4.4. <code>/</code></a></li>
<li><a href="#org0accf25">7.4.5. <code>/=</code></a></li>
<li><a href="#org1fc0f27">7.4.6. <code>&lt;</code></a></li>
<li><a href="#org8a3a60d">7.4.7. <code>&lt;=</code></a></li>
<li><a href="#orgfdb23d6">7.4.8. <code>=</code></a></li>
<li><a href="#org710056e">7.4.9. <code>&gt;</code></a></li>
<li><a href="#org2d3eb91">7.4.10. <code>&gt;=</code></a></li>
<li><a href="#orgf0cc888">7.4.11. <code>alias-base-register</code></a></li>
<li><a href="#org9efaebe">7.4.12. <code>arshift</code></a></li>
<li><a href="#org2bad660">7.4.13. <code>cast-high</code></a></li>
<li><a href="#org7ae2113">7.4.14. <code>cast-low</code></a></li>
<li><a href="#org8225f0e">7.4.15. <code>cast-signed</code></a></li>
<li><a href="#orgcfeccd2">7.4.16. <code>cast-unsigned</code></a></li>
<li><a href="#org0582b82">7.4.17. <code>concat</code></a></li>
<li><a href="#org258e04d">7.4.18. <code>exec-addr</code></a></li>
<li><a href="#orgd8ffcd5">7.4.19. <code>extract</code></a></li>
<li><a href="#org998f799">7.4.20. <code>get-current-program-counter</code></a></li>
<li><a href="#orgf075ea1">7.4.21. <code>get-program-counter</code></a></li>
<li><a href="#org9696352">7.4.22. <code>goto-subinstruction</code></a></li>
<li><a href="#org2b9f3fb">7.4.23. <code>is-negative</code></a></li>
<li><a href="#org0230571">7.4.24. <code>is-positive</code></a></li>
<li><a href="#org99bbdf2">7.4.25. <code>is-symbol</code></a></li>
<li><a href="#org92baf56">7.4.26. <code>is-zero</code></a></li>
<li><a href="#org987dd3f">7.4.27. <code>lnot</code></a></li>
<li><a href="#org27301dd">7.4.28. <code>load-bits</code></a></li>
<li><a href="#org3a23e07">7.4.29. <code>load-byte</code></a></li>
<li><a href="#org4553646">7.4.30. <code>load-dword</code></a></li>
<li><a href="#org9cb611f">7.4.31. <code>load-hword</code></a></li>
<li><a href="#org89a2117">7.4.32. <code>load-qword</code></a></li>
<li><a href="#orgbd90183">7.4.33. <code>load-word</code></a></li>
<li><a href="#orgc4371f0">7.4.34. <code>logand</code></a></li>
<li><a href="#orgee3d473">7.4.35. <code>logor</code></a></li>
<li><a href="#org30a67fb">7.4.36. <code>logxor</code></a></li>
<li><a href="#orgd556d65">7.4.37. <code>lshift</code></a></li>
<li><a href="#org1cdbb0a">7.4.38. <code>memory-read</code></a></li>
<li><a href="#orgd3f48e5">7.4.39. <code>memory-write</code></a></li>
<li><a href="#org5711aee">7.4.40. <code>mod</code></a></li>
<li><a href="#orge5b3a15">7.4.41. <code>neg</code></a></li>
<li><a href="#org901cddb">7.4.42. <code>not</code></a></li>
<li><a href="#org3e7519c">7.4.43. <code>nth</code></a></li>
<li><a href="#org7c599a3">7.4.44. <code>rshift</code></a></li>
<li><a href="#org989fb7c">7.4.45. <code>s/</code></a></li>
<li><a href="#orgf4ec89c">7.4.46. <code>s&lt;</code></a></li>
<li><a href="#org9b6069c">7.4.47. <code>s&lt;=</code></a></li>
<li><a href="#org41d14e9">7.4.48. <code>s&gt;</code></a></li>
<li><a href="#orgadfd9db">7.4.49. <code>s&gt;=</code></a></li>
<li><a href="#org03d4650">7.4.50. <code>select</code></a></li>
<li><a href="#org31728c0">7.4.51. <code>set-symbol-value</code></a></li>
<li><a href="#orgd1f1dc8">7.4.52. <code>signed-mod</code></a></li>
<li><a href="#orgf3bed15">7.4.53. <code>store-byte</code></a></li>
<li><a href="#org857b7ca">7.4.54. <code>store-word</code></a></li>
<li><a href="#org4df430f">7.4.55. <code>symbol</code></a></li>
<li><a href="#org6a46ae3">7.4.56. <code>word-width</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org73babfc">8. Package <code>llvm-riscv64</code></a>
<ul>
<li><a href="#orgc084ad6">8.1. Constants</a>
<ul>
<li><a href="#org32d216a">8.1.1. <code>false</code></a></li>
<li><a href="#org94f738e">8.1.2. <code>nil</code></a></li>
<li><a href="#orgfe372ba">8.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#org8a96b14">8.2. Functions</a>
<ul>
<li><a href="#org17efdb8">8.2.1. <code>ADDI</code></a></li>
<li><a href="#org4de5a1a">8.2.2. <code>ADDIW</code></a></li>
<li><a href="#org83d3337">8.2.3. <code>ADDW</code></a></li>
<li><a href="#orgbb7bec2">8.2.4. <code>ANDI</code></a></li>
<li><a href="#org0e642c1">8.2.5. <code>AUIPC</code></a></li>
<li><a href="#org5e0d304">8.2.6. <code>BEQ</code></a></li>
<li><a href="#org1babde6">8.2.7. <code>BEQZ</code></a></li>
<li><a href="#orgd3ae84f">8.2.8. <code>BLT</code></a></li>
<li><a href="#orga9052e7">8.2.9. <code>BNE</code></a></li>
<li><a href="#org6c4064e">8.2.10. <code>BNEZ</code></a></li>
<li><a href="#org81687a7">8.2.11. <code>C_ADD</code></a></li>
<li><a href="#org537d977">8.2.12. <code>C_ADDI</code></a></li>
<li><a href="#org44da533">8.2.13. <code>C_ADDI16SP</code></a></li>
<li><a href="#orgad70601">8.2.14. <code>C_ADDI4SPN</code></a></li>
<li><a href="#org38aa24d">8.2.15. <code>C_ADDIW</code></a></li>
<li><a href="#org3c0148f">8.2.16. <code>C_ADDW</code></a></li>
<li><a href="#org4e5e275">8.2.17. <code>C_BEQ</code></a></li>
<li><a href="#org486f0ee">8.2.18. <code>C_BEQZ</code></a></li>
<li><a href="#org3129c01">8.2.19. <code>C_BLT</code></a></li>
<li><a href="#org013d800">8.2.20. <code>C_BNE</code></a></li>
<li><a href="#org46b7005">8.2.21. <code>C_BNEZ</code></a></li>
<li><a href="#org95cb02e">8.2.22. <code>C_J</code></a></li>
<li><a href="#orge587a61">8.2.23. <code>C_JALR</code></a></li>
<li><a href="#orgf8873a0">8.2.24. <code>C_JR</code></a></li>
<li><a href="#org331b8df">8.2.25. <code>C_LD</code></a></li>
<li><a href="#org69dba85">8.2.26. <code>C_LDSP</code></a></li>
<li><a href="#orgf21b215">8.2.27. <code>C_LI</code></a></li>
<li><a href="#orgdefa7c6">8.2.28. <code>C_LUI</code></a></li>
<li><a href="#org8697d79">8.2.29. <code>C_MV</code></a></li>
<li><a href="#org183480b">8.2.30. <code>C_SD</code></a></li>
<li><a href="#org8dca1e7">8.2.31. <code>C_SDSP</code></a></li>
<li><a href="#org337e38f">8.2.32. <code>C_SLLI</code></a></li>
<li><a href="#orgc763e6c">8.2.33. <code>C_SRAI</code></a></li>
<li><a href="#org0d08580">8.2.34. <code>C_SRLI</code></a></li>
<li><a href="#org59febe5">8.2.35. <code>C_SUB</code></a></li>
<li><a href="#orgb6436f3">8.2.36. <code>JAL</code></a></li>
<li><a href="#orga07d103">8.2.37. <code>JALR</code></a></li>
<li><a href="#orgfa0dcdc">8.2.38. <code>LB</code></a></li>
<li><a href="#orgbdd495d">8.2.39. <code>LBU</code></a></li>
<li><a href="#org55476b0">8.2.40. <code>LD</code></a></li>
<li><a href="#orgce81bea">8.2.41. <code>LH</code></a></li>
<li><a href="#org21eee24">8.2.42. <code>LHU</code></a></li>
<li><a href="#org45f47d3">8.2.43. <code>LI</code></a></li>
<li><a href="#org9d27dc4">8.2.44. <code>LUI</code></a></li>
<li><a href="#orga7c6b50">8.2.45. <code>LW</code></a></li>
<li><a href="#org76867cf">8.2.46. <code>LWU</code></a></li>
<li><a href="#org1bba0d4">8.2.47. <code>ORI</code></a></li>
<li><a href="#org1031478">8.2.48. <code>SB</code></a></li>
<li><a href="#org3b79933">8.2.49. <code>SD</code></a></li>
<li><a href="#orgc5c8815">8.2.50. <code>SDSP</code></a></li>
<li><a href="#orgb73469d">8.2.51. <code>SH</code></a></li>
<li><a href="#org58204b7">8.2.52. <code>SLLI</code></a></li>
<li><a href="#org9ca7d3d">8.2.53. <code>SLTI</code></a></li>
<li><a href="#orgbd3b609">8.2.54. <code>SRAI</code></a></li>
<li><a href="#org0a2b3a6">8.2.55. <code>SRLI</code></a></li>
<li><a href="#org8d25853">8.2.56. <code>SUB</code></a></li>
<li><a href="#orgc71babb">8.2.57. <code>SW</code></a></li>
<li><a href="#org8876935">8.2.58. <code>XORI</code></a></li>
<li><a href="#org3c23b9f">8.2.59. <code>carry</code></a></li>
<li><a href="#orge9aa390">8.2.60. <code>copy-byte</code></a></li>
<li><a href="#org2600fee">8.2.61. <code>lsb</code></a></li>
<li><a href="#org5947691">8.2.62. <code>msb</code></a></li>
<li><a href="#org1a1b67b">8.2.63. <code>overflow</code></a></li>
<li><a href="#org0b4e6d7">8.2.64. <code>points-to-null</code></a></li>
</ul>
</li>
<li><a href="#org8d0ec80">8.3. Macros</a>
<ul>
<li><a href="#orgf08ef9b">8.3.1. <code>+1</code></a></li>
<li><a href="#org53bd1c0">8.3.2. <code>+=</code></a></li>
<li><a href="#orgbccde57">8.3.3. <code>-1</code></a></li>
<li><a href="#orgc806a8a">8.3.4. <code>and</code></a></li>
<li><a href="#org9fa49c2">8.3.5. <code>array-get</code></a></li>
<li><a href="#org168c65a">8.3.6. <code>array-set</code></a></li>
<li><a href="#org59cb8fa">8.3.7. <code>assert</code></a></li>
<li><a href="#org1e0e3d8">8.3.8. <code>bitwidth</code></a></li>
<li><a href="#orge770fa4">8.3.9. <code>case</code></a></li>
<li><a href="#org5ee9c17">8.3.10. <code>case/dispatch</code></a></li>
<li><a href="#org8dd1aca">8.3.11. <code>cast</code></a></li>
<li><a href="#org8342ebc">8.3.12. <code>compare</code></a></li>
<li><a href="#org06ca157">8.3.13. <code>copy-byte-shift</code></a></li>
<li><a href="#orga25e35c">8.3.14. <code>copy-byte-shift-left</code></a></li>
<li><a href="#orgc510077">8.3.15. <code>copy-left</code></a></li>
<li><a href="#org7894dba">8.3.16. <code>copy-right</code></a></li>
<li><a href="#orgddb10e5">8.3.17. <code>decr</code></a></li>
<li><a href="#org4d2d30e">8.3.18. <code>endian</code></a></li>
<li><a href="#org2668d57">8.3.19. <code>fold</code></a></li>
<li><a href="#org4651666">8.3.20. <code>incr</code></a></li>
<li><a href="#org424bb2d">8.3.21. <code>is-in</code></a></li>
<li><a href="#orga409548">8.3.22. <code>load-word</code></a></li>
<li><a href="#org74a14c5">8.3.23. <code>make-copy</code></a></li>
<li><a href="#org4f7eb8c">8.3.24. <code>max</code></a></li>
<li><a href="#org62b574d">8.3.25. <code>min</code></a></li>
<li><a href="#org706d4b4">8.3.26. <code>non-zero</code></a></li>
<li><a href="#orge8b6f13">8.3.27. <code>nth-byte-of-word</code></a></li>
<li><a href="#org50b6b77">8.3.28. <code>or</code></a></li>
<li><a href="#org9b1e1a6">8.3.29. <code>points-to</code></a></li>
<li><a href="#org9fe8ebd">8.3.30. <code>ptr+</code></a></li>
<li><a href="#org0aa9b1e">8.3.31. <code>ptr+1</code></a></li>
<li><a href="#org8888cc6">8.3.32. <code>read-word</code></a></li>
<li><a href="#org7208bfb">8.3.33. <code>set$</code></a></li>
<li><a href="#org433a3db">8.3.34. <code>sign</code></a></li>
<li><a href="#orgfff744c">8.3.35. <code>sizeof</code></a></li>
<li><a href="#orgce7bf85">8.3.36. <code>unless</code></a></li>
<li><a href="#org90dadac">8.3.37. <code>until</code></a></li>
<li><a href="#org799db9a">8.3.38. <code>when</code></a></li>
<li><a href="#org0336afa">8.3.39. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#orge6db3b2">8.4. Primitives</a>
<ul>
<li><a href="#org469e79f">8.4.1. <code>*</code></a></li>
<li><a href="#org07d568c">8.4.2. <code>+</code></a></li>
<li><a href="#orgf402c8c">8.4.3. <code>-</code></a></li>
<li><a href="#org892fc15">8.4.4. <code>/</code></a></li>
<li><a href="#org72b08f5">8.4.5. <code>/=</code></a></li>
<li><a href="#org5bb1c84">8.4.6. <code>&lt;</code></a></li>
<li><a href="#org13f7b33">8.4.7. <code>&lt;=</code></a></li>
<li><a href="#org13037db">8.4.8. <code>=</code></a></li>
<li><a href="#org4aadc3b">8.4.9. <code>&gt;</code></a></li>
<li><a href="#orgb689f74">8.4.10. <code>&gt;=</code></a></li>
<li><a href="#org70ce8ff">8.4.11. <code>alias-base-register</code></a></li>
<li><a href="#org47a3d34">8.4.12. <code>arshift</code></a></li>
<li><a href="#orgc9bc6c0">8.4.13. <code>cast-high</code></a></li>
<li><a href="#orgd182589">8.4.14. <code>cast-low</code></a></li>
<li><a href="#org8d72ee8">8.4.15. <code>cast-signed</code></a></li>
<li><a href="#org353b4c6">8.4.16. <code>cast-unsigned</code></a></li>
<li><a href="#org12a7554">8.4.17. <code>concat</code></a></li>
<li><a href="#org5fb34d1">8.4.18. <code>exec-addr</code></a></li>
<li><a href="#orge3dcf31">8.4.19. <code>extract</code></a></li>
<li><a href="#orgd963453">8.4.20. <code>get-current-program-counter</code></a></li>
<li><a href="#org1e18228">8.4.21. <code>get-program-counter</code></a></li>
<li><a href="#orgd470ee4">8.4.22. <code>goto-subinstruction</code></a></li>
<li><a href="#orgf9dd8d0">8.4.23. <code>is-negative</code></a></li>
<li><a href="#org4ebbb63">8.4.24. <code>is-positive</code></a></li>
<li><a href="#org401647b">8.4.25. <code>is-symbol</code></a></li>
<li><a href="#orgeb1739a">8.4.26. <code>is-zero</code></a></li>
<li><a href="#org706695e">8.4.27. <code>lnot</code></a></li>
<li><a href="#org217f351">8.4.28. <code>load-bits</code></a></li>
<li><a href="#orge225ea2">8.4.29. <code>load-byte</code></a></li>
<li><a href="#org61c8b88">8.4.30. <code>load-dword</code></a></li>
<li><a href="#org11b41a0">8.4.31. <code>load-hword</code></a></li>
<li><a href="#orgfefc8a8">8.4.32. <code>load-qword</code></a></li>
<li><a href="#org97d3afb">8.4.33. <code>load-word</code></a></li>
<li><a href="#orgbb8de97">8.4.34. <code>logand</code></a></li>
<li><a href="#org8a34574">8.4.35. <code>logor</code></a></li>
<li><a href="#org4d1d414">8.4.36. <code>logxor</code></a></li>
<li><a href="#orgf445394">8.4.37. <code>lshift</code></a></li>
<li><a href="#orgddf8412">8.4.38. <code>memory-read</code></a></li>
<li><a href="#org503af3c">8.4.39. <code>memory-write</code></a></li>
<li><a href="#orga02521a">8.4.40. <code>mod</code></a></li>
<li><a href="#org844c54f">8.4.41. <code>neg</code></a></li>
<li><a href="#org0064f0a">8.4.42. <code>not</code></a></li>
<li><a href="#org26a7c4d">8.4.43. <code>nth</code></a></li>
<li><a href="#orgad07ee9">8.4.44. <code>rshift</code></a></li>
<li><a href="#org3fc0ff4">8.4.45. <code>s/</code></a></li>
<li><a href="#orgd21c350">8.4.46. <code>s&lt;</code></a></li>
<li><a href="#org0bd5d0c">8.4.47. <code>s&lt;=</code></a></li>
<li><a href="#org010f74a">8.4.48. <code>s&gt;</code></a></li>
<li><a href="#orgc05c6d0">8.4.49. <code>s&gt;=</code></a></li>
<li><a href="#orgd00e706">8.4.50. <code>select</code></a></li>
<li><a href="#org6f5e591">8.4.51. <code>set-symbol-value</code></a></li>
<li><a href="#orgc607ee1">8.4.52. <code>signed-mod</code></a></li>
<li><a href="#org3ee351e">8.4.53. <code>store-byte</code></a></li>
<li><a href="#org59f294b">8.4.54. <code>store-word</code></a></li>
<li><a href="#org66ce4a4">8.4.55. <code>symbol</code></a></li>
<li><a href="#org8607324">8.4.56. <code>word-width</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org452fede">9. Package <code>llvm-thumb</code></a>
<ul>
<li><a href="#org26d8ad8">9.1. Constants</a>
<ul>
<li><a href="#orgbb31f8a">9.1.1. <code>false</code></a></li>
<li><a href="#org7fcb973">9.1.2. <code>nil</code></a></li>
<li><a href="#org4970d0c">9.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#orge7da24e">9.2. Functions</a>
<ul>
<li><a href="#org4ff5a46">9.2.1. <code>add-with-carry</code></a></li>
<li><a href="#orgc34298b">9.2.2. <code>add-with-carry/clear-base</code></a></li>
<li><a href="#org87faef5">9.2.3. <code>add-with-carry/it-block</code></a></li>
<li><a href="#orgc57a7b7">9.2.4. <code>carry</code></a></li>
<li><a href="#org3872ccf">9.2.5. <code>clear-base</code></a></li>
<li><a href="#orgea65e96">9.2.6. <code>condition-holds</code></a></li>
<li><a href="#orgd538411">9.2.7. <code>copy-byte</code></a></li>
<li><a href="#org5ce3c81">9.2.8. <code>is-pc</code></a></li>
<li><a href="#org1509c77">9.2.9. <code>is-unconditional</code></a></li>
<li><a href="#org95fb279">9.2.10. <code>logandnot</code></a></li>
<li><a href="#org74a7d45">9.2.11. <code>lsb</code></a></li>
<li><a href="#org5cad680">9.2.12. <code>msb</code></a></li>
<li><a href="#org60355c3">9.2.13. <code>overflow</code></a></li>
<li><a href="#orgd734e2f">9.2.14. <code>points-to-null</code></a></li>
<li><a href="#org3999c6f">9.2.15. <code>set-flags</code></a></li>
<li><a href="#orgc2755d3">9.2.16. <code>t2ADDri12</code></a></li>
<li><a href="#orgbf36352">9.2.17. <code>t2B</code></a></li>
<li><a href="#org1404c03">9.2.18. <code>t2LDRHi12</code></a></li>
<li><a href="#org8d64526">9.2.19. <code>t2LDRSBi12</code></a></li>
<li><a href="#org6708292">9.2.20. <code>t2LDRSHi12</code></a></li>
<li><a href="#org8db77c9">9.2.21. <code>t2LDRs</code></a></li>
<li><a href="#org934e054">9.2.22. <code>t2STRDi8</code></a></li>
<li><a href="#org479eef5">9.2.23. <code>t2STRHi12</code></a></li>
<li><a href="#org0231d79">9.2.24. <code>t2pc</code></a></li>
<li><a href="#org7a8b8fc">9.2.25. <code>t2reg</code></a></li>
<li><a href="#orga5b2ca5">9.2.26. <code>t2set</code></a></li>
<li><a href="#org1dee621">9.2.27. <code>tADDhirr</code></a></li>
<li><a href="#org3653c5c">9.2.28. <code>tAND</code></a></li>
<li><a href="#orgc89b936">9.2.29. <code>tBIC</code></a></li>
<li><a href="#orga737f81">9.2.30. <code>tEOR</code></a></li>
<li><a href="#org3743528">9.2.31. <code>tLSLrr</code></a></li>
<li><a href="#org2960e3e">9.2.32. <code>tLSRrr</code></a></li>
<li><a href="#org1574b4c">9.2.33. <code>tMOVr</code></a></li>
<li><a href="#orgf39e7e8">9.2.34. <code>tMUL</code></a></li>
<li><a href="#orgfcf33db">9.2.35. <code>tMVN</code></a></li>
<li><a href="#orgc9fa8a8">9.2.36. <code>tREV</code></a></li>
<li><a href="#org4ac019f">9.2.37. <code>tRSB</code></a></li>
<li><a href="#org1ec81cf">9.2.38. <code>tSBC</code></a></li>
<li><a href="#org1295509">9.2.39. <code>tTST</code></a></li>
</ul>
</li>
<li><a href="#org5287ed9">9.3. Macros</a>
<ul>
<li><a href="#org9efd519">9.3.1. <code>+1</code></a></li>
<li><a href="#org9a39ac1">9.3.2. <code>+=</code></a></li>
<li><a href="#org719f6d8">9.3.3. <code>-1</code></a></li>
<li><a href="#org4d7a101">9.3.4. <code>and</code></a></li>
<li><a href="#orgabc3c16">9.3.5. <code>array-get</code></a></li>
<li><a href="#org9ae36c0">9.3.6. <code>array-set</code></a></li>
<li><a href="#org6526d4d">9.3.7. <code>assert</code></a></li>
<li><a href="#org3b9005f">9.3.8. <code>bitwidth</code></a></li>
<li><a href="#orgdc54004">9.3.9. <code>case</code></a></li>
<li><a href="#orgdabdbcc">9.3.10. <code>case/dispatch</code></a></li>
<li><a href="#orge00238d">9.3.11. <code>cast</code></a></li>
<li><a href="#org30914ad">9.3.12. <code>compare</code></a></li>
<li><a href="#org7583254">9.3.13. <code>copy-byte-shift</code></a></li>
<li><a href="#orge28998b">9.3.14. <code>copy-byte-shift-left</code></a></li>
<li><a href="#org2eb2772">9.3.15. <code>copy-left</code></a></li>
<li><a href="#org8b68083">9.3.16. <code>copy-right</code></a></li>
<li><a href="#org6de565d">9.3.17. <code>decr</code></a></li>
<li><a href="#org037b60d">9.3.18. <code>endian</code></a></li>
<li><a href="#org9c51b83">9.3.19. <code>fold</code></a></li>
<li><a href="#org43319e2">9.3.20. <code>incr</code></a></li>
<li><a href="#orge902c92">9.3.21. <code>is-in</code></a></li>
<li><a href="#orgb39c146">9.3.22. <code>make-copy</code></a></li>
<li><a href="#org5d380ac">9.3.23. <code>max</code></a></li>
<li><a href="#orgbbdd862">9.3.24. <code>min</code></a></li>
<li><a href="#org5038b5e">9.3.25. <code>non-zero</code></a></li>
<li><a href="#org6b0980b">9.3.26. <code>nth-byte-of-word</code></a></li>
<li><a href="#org8273a5c">9.3.27. <code>or</code></a></li>
<li><a href="#org699923a">9.3.28. <code>points-to</code></a></li>
<li><a href="#org754677c">9.3.29. <code>ptr+</code></a></li>
<li><a href="#orgc83dd06">9.3.30. <code>ptr+1</code></a></li>
<li><a href="#org180a287">9.3.31. <code>read-word</code></a></li>
<li><a href="#orgcc62bfe">9.3.32. <code>set$</code></a></li>
<li><a href="#org1f47f7d">9.3.33. <code>setw</code></a></li>
<li><a href="#orgc1ca9d3">9.3.34. <code>shift-with-carry</code></a></li>
<li><a href="#orga460bd6">9.3.35. <code>sign</code></a></li>
<li><a href="#orgcfcffd4">9.3.36. <code>sizeof</code></a></li>
<li><a href="#org353082e">9.3.37. <code>tLOGs</code></a></li>
<li><a href="#orgaa5620f">9.3.38. <code>unless</code></a></li>
<li><a href="#org552d7a3">9.3.39. <code>until</code></a></li>
<li><a href="#orgea9f318">9.3.40. <code>when</code></a></li>
<li><a href="#orgdf7566b">9.3.41. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#org08d301e">9.4. Primitives</a>
<ul>
<li><a href="#org7604adb">9.4.1. <code>*</code></a></li>
<li><a href="#orgfa33a42">9.4.2. <code>+</code></a></li>
<li><a href="#orgdd59292">9.4.3. <code>-</code></a></li>
<li><a href="#org8c9bf4d">9.4.4. <code>/</code></a></li>
<li><a href="#org88458c7">9.4.5. <code>/=</code></a></li>
<li><a href="#org5afa769">9.4.6. <code>&lt;</code></a></li>
<li><a href="#org12bcba1">9.4.7. <code>&lt;=</code></a></li>
<li><a href="#org959c884">9.4.8. <code>=</code></a></li>
<li><a href="#org4ee1704">9.4.9. <code>&gt;</code></a></li>
<li><a href="#org3a33045">9.4.10. <code>&gt;=</code></a></li>
<li><a href="#orgd86b20e">9.4.11. <code>alias-base-register</code></a></li>
<li><a href="#orgf8ff45f">9.4.12. <code>arshift</code></a></li>
<li><a href="#orgf50d30f">9.4.13. <code>cast-high</code></a></li>
<li><a href="#org2cbc613">9.4.14. <code>cast-low</code></a></li>
<li><a href="#org1c4c592">9.4.15. <code>cast-signed</code></a></li>
<li><a href="#orgd110ade">9.4.16. <code>cast-unsigned</code></a></li>
<li><a href="#orgb66e47c">9.4.17. <code>concat</code></a></li>
<li><a href="#orgfd2ebcb">9.4.18. <code>exec-addr</code></a></li>
<li><a href="#org3dd3727">9.4.19. <code>extract</code></a></li>
<li><a href="#orgc858b48">9.4.20. <code>get-current-program-counter</code></a></li>
<li><a href="#orgc882f71">9.4.21. <code>get-program-counter</code></a></li>
<li><a href="#orgdb08abf">9.4.22. <code>goto-subinstruction</code></a></li>
<li><a href="#orgc60cc94">9.4.23. <code>is-negative</code></a></li>
<li><a href="#org8863c14">9.4.24. <code>is-positive</code></a></li>
<li><a href="#org40b5442">9.4.25. <code>is-symbol</code></a></li>
<li><a href="#org006e0d6">9.4.26. <code>is-zero</code></a></li>
<li><a href="#org8e55e97">9.4.27. <code>lnot</code></a></li>
<li><a href="#orgde4ea4a">9.4.28. <code>load-bits</code></a></li>
<li><a href="#org79c9e58">9.4.29. <code>load-byte</code></a></li>
<li><a href="#org6356d90">9.4.30. <code>load-dword</code></a></li>
<li><a href="#orgdef18ee">9.4.31. <code>load-hword</code></a></li>
<li><a href="#orgb5b3471">9.4.32. <code>load-qword</code></a></li>
<li><a href="#orgb7848ce">9.4.33. <code>load-word</code></a></li>
<li><a href="#org0c0b069">9.4.34. <code>logand</code></a></li>
<li><a href="#org748e1c5">9.4.35. <code>logor</code></a></li>
<li><a href="#orgc1b5e54">9.4.36. <code>logxor</code></a></li>
<li><a href="#orgd6e0cc2">9.4.37. <code>lshift</code></a></li>
<li><a href="#orgec3ae07">9.4.38. <code>memory-read</code></a></li>
<li><a href="#orge23abaf">9.4.39. <code>memory-write</code></a></li>
<li><a href="#orgb14aaee">9.4.40. <code>mod</code></a></li>
<li><a href="#orgaa7726e">9.4.41. <code>neg</code></a></li>
<li><a href="#org1b98b13">9.4.42. <code>not</code></a></li>
<li><a href="#orgb96b643">9.4.43. <code>nth</code></a></li>
<li><a href="#org3bd988f">9.4.44. <code>rshift</code></a></li>
<li><a href="#orgb541994">9.4.45. <code>s/</code></a></li>
<li><a href="#orga3ac227">9.4.46. <code>s&lt;</code></a></li>
<li><a href="#org5254aa5">9.4.47. <code>s&lt;=</code></a></li>
<li><a href="#orgc446904">9.4.48. <code>s&gt;</code></a></li>
<li><a href="#org92641c5">9.4.49. <code>s&gt;=</code></a></li>
<li><a href="#org5035b54">9.4.50. <code>select</code></a></li>
<li><a href="#org8c3f315">9.4.51. <code>set-symbol-value</code></a></li>
<li><a href="#org20e2688">9.4.52. <code>signed-mod</code></a></li>
<li><a href="#org3ac2812">9.4.53. <code>store-byte</code></a></li>
<li><a href="#org5950c25">9.4.54. <code>store-word</code></a></li>
<li><a href="#org03f4699">9.4.55. <code>symbol</code></a></li>
<li><a href="#org9202f8a">9.4.56. <code>word-width</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgbd09ec2">10. Package <code>pcode</code></a>
<ul>
<li><a href="#org8e223fe">10.1. Constants</a>
<ul>
<li><a href="#orgc22fecc">10.1.1. <code>false</code></a></li>
<li><a href="#org90f8f69">10.1.2. <code>nil</code></a></li>
<li><a href="#orgb8b2110">10.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#orgcf5433b">10.2. Functions</a>
<ul>
<li><a href="#orgc1fba2a">10.2.1. <code>BOOL_AND</code></a></li>
<li><a href="#org5e7221b">10.2.2. <code>BOOL_NEGATE</code></a></li>
<li><a href="#org6ca37cd">10.2.3. <code>BOOL_OR</code></a></li>
<li><a href="#org2f9901a">10.2.4. <code>BOOL_XOR</code></a></li>
<li><a href="#org82da150">10.2.5. <code>BRANCH</code></a></li>
<li><a href="#org3c2f8d1">10.2.6. <code>BRANCHIND</code></a></li>
<li><a href="#org5933861">10.2.7. <code>CALL</code></a></li>
<li><a href="#org42bff3a">10.2.8. <code>CALLIND</code></a></li>
<li><a href="#org66a451b">10.2.9. <code>CBRANCH</code></a></li>
<li><a href="#org2d5185c">10.2.10. <code>COPY</code></a></li>
<li><a href="#org58c304c">10.2.11. <code>INT_2COMP</code></a></li>
<li><a href="#org1db83d7">10.2.12. <code>INT_ADD</code></a></li>
<li><a href="#org6aa7a5f">10.2.13. <code>INT_AND</code></a></li>
<li><a href="#orgbb6a606">10.2.14. <code>INT_CARRY</code></a></li>
<li><a href="#org357ea7c">10.2.15. <code>INT_DIV</code></a></li>
<li><a href="#orgac02296">10.2.16. <code>INT_EQUAL</code></a></li>
<li><a href="#orgf735b9b">10.2.17. <code>INT_LEFT</code></a></li>
<li><a href="#org46d08aa">10.2.18. <code>INT_LESS</code></a></li>
<li><a href="#orgeb0ba4c">10.2.19. <code>INT_LESSEQUAL</code></a></li>
<li><a href="#org8f948f4">10.2.20. <code>INT_MOD</code></a></li>
<li><a href="#org58fd485">10.2.21. <code>INT_MULT</code></a></li>
<li><a href="#orgdda543f">10.2.22. <code>INT_NEGATE</code></a></li>
<li><a href="#org475657b">10.2.23. <code>INT_NOTEQUAL</code></a></li>
<li><a href="#org4e5860b">10.2.24. <code>INT_OR</code></a></li>
<li><a href="#orgcd75296">10.2.25. <code>INT_RIGHT</code></a></li>
<li><a href="#org377c8e8">10.2.26. <code>INT_SBORROW</code></a></li>
<li><a href="#orge7fd6eb">10.2.27. <code>INT_SCARRY</code></a></li>
<li><a href="#orgf233995">10.2.28. <code>INT_SDIV</code></a></li>
<li><a href="#org1a7523e">10.2.29. <code>INT_SEXT</code></a></li>
<li><a href="#org2680c64">10.2.30. <code>INT_SLESS</code></a></li>
<li><a href="#orgec2bc9e">10.2.31. <code>INT_SLESSEQUAL</code></a></li>
<li><a href="#orgb466edd">10.2.32. <code>INT_SMOD</code></a></li>
<li><a href="#org5a37005">10.2.33. <code>INT_SRIGHT</code></a></li>
<li><a href="#orge7f596b">10.2.34. <code>INT_SUB</code></a></li>
<li><a href="#org5edd3b8">10.2.35. <code>INT_XOR</code></a></li>
<li><a href="#orgb774308">10.2.36. <code>INT_ZEXT</code></a></li>
<li><a href="#org6d116b3">10.2.37. <code>LOAD</code></a></li>
<li><a href="#orgb2fbc58">10.2.38. <code>PIECE</code></a></li>
<li><a href="#org84b4ae5">10.2.39. <code>RETURN</code></a></li>
<li><a href="#org4d506ae">10.2.40. <code>STORE</code></a></li>
<li><a href="#org95fc3cf">10.2.41. <code>SUBPIECE</code></a></li>
<li><a href="#org2741cc8">10.2.42. <code>branch</code></a></li>
<li><a href="#org47e859b">10.2.43. <code>carry</code></a></li>
<li><a href="#orgaa7e98b">10.2.44. <code>copy-byte</code></a></li>
<li><a href="#org8e61320">10.2.45. <code>lsb</code></a></li>
<li><a href="#org21b3e67">10.2.46. <code>msb</code></a></li>
<li><a href="#org68fda58">10.2.47. <code>overflow</code></a></li>
<li><a href="#org8094086">10.2.48. <code>points-to-null</code></a></li>
</ul>
</li>
<li><a href="#org9202f1a">10.3. Macros</a>
<ul>
<li><a href="#org2722491">10.3.1. <code>+1</code></a></li>
<li><a href="#org3021dfd">10.3.2. <code>+=</code></a></li>
<li><a href="#orgeee2a53">10.3.3. <code>-1</code></a></li>
<li><a href="#org8f01149">10.3.4. <code>and</code></a></li>
<li><a href="#orgcfea2b5">10.3.5. <code>array-get</code></a></li>
<li><a href="#org2b3095e">10.3.6. <code>array-set</code></a></li>
<li><a href="#orgf39751c">10.3.7. <code>assert</code></a></li>
<li><a href="#orgec4fff6">10.3.8. <code>bitwidth</code></a></li>
<li><a href="#org6feb0c7">10.3.9. <code>case</code></a></li>
<li><a href="#org1e57bcb">10.3.10. <code>case/dispatch</code></a></li>
<li><a href="#org9d263b4">10.3.11. <code>cast</code></a></li>
<li><a href="#org92fe21e">10.3.12. <code>cast-word</code></a></li>
<li><a href="#org275619f">10.3.13. <code>coerce</code></a></li>
<li><a href="#orgb63b905">10.3.14. <code>compare</code></a></li>
<li><a href="#org1896d0e">10.3.15. <code>copy-byte-shift</code></a></li>
<li><a href="#org101b1b3">10.3.16. <code>copy-byte-shift-left</code></a></li>
<li><a href="#orgd41ce0f">10.3.17. <code>copy-left</code></a></li>
<li><a href="#org6f4583d">10.3.18. <code>copy-right</code></a></li>
<li><a href="#orgc6860cc">10.3.19. <code>decr</code></a></li>
<li><a href="#orgdfccd7b">10.3.20. <code>endian</code></a></li>
<li><a href="#org6a915e0">10.3.21. <code>fold</code></a></li>
<li><a href="#org1874c99">10.3.22. <code>get#</code></a></li>
<li><a href="#org5b3a488">10.3.23. <code>incr</code></a></li>
<li><a href="#orgf69a623">10.3.24. <code>is-in</code></a></li>
<li><a href="#org0eb0736">10.3.25. <code>make-copy</code></a></li>
<li><a href="#org64304b5">10.3.26. <code>max</code></a></li>
<li><a href="#orga098dc5">10.3.27. <code>min</code></a></li>
<li><a href="#orge4c0121">10.3.28. <code>non-zero</code></a></li>
<li><a href="#orgddba300">10.3.29. <code>nth-byte-of-word</code></a></li>
<li><a href="#orgb60ebde">10.3.30. <code>or</code></a></li>
<li><a href="#org4c9c2d9">10.3.31. <code>points-to</code></a></li>
<li><a href="#orgf93afd1">10.3.32. <code>ptr+</code></a></li>
<li><a href="#org16379ac">10.3.33. <code>ptr+1</code></a></li>
<li><a href="#org7737a89">10.3.34. <code>read-word</code></a></li>
<li><a href="#orga90e98d">10.3.35. <code>set#</code></a></li>
<li><a href="#org0d2885b">10.3.36. <code>set$</code></a></li>
<li><a href="#orgfa420c9">10.3.37. <code>sign</code></a></li>
<li><a href="#org11f0576">10.3.38. <code>sizeof</code></a></li>
<li><a href="#org2881c5c">10.3.39. <code>unless</code></a></li>
<li><a href="#org529efb6">10.3.40. <code>until</code></a></li>
<li><a href="#org2ba3391">10.3.41. <code>when</code></a></li>
<li><a href="#org731017a">10.3.42. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#orge3286d4">10.4. Primitives</a>
<ul>
<li><a href="#org76193e6">10.4.1. <code>*</code></a></li>
<li><a href="#org8c5509f">10.4.2. <code>+</code></a></li>
<li><a href="#org662e1a2">10.4.3. <code>-</code></a></li>
<li><a href="#orgb93b30b">10.4.4. <code>/</code></a></li>
<li><a href="#orge2b1ceb">10.4.5. <code>/=</code></a></li>
<li><a href="#org5cc984a">10.4.6. <code>&lt;</code></a></li>
<li><a href="#orga3f3dda">10.4.7. <code>&lt;=</code></a></li>
<li><a href="#org600e514">10.4.8. <code>=</code></a></li>
<li><a href="#orgb8cfec5">10.4.9. <code>&gt;</code></a></li>
<li><a href="#org318ee4c">10.4.10. <code>&gt;=</code></a></li>
<li><a href="#org2c30ed9">10.4.11. <code>alias-base-register</code></a></li>
<li><a href="#orgd9f614e">10.4.12. <code>arshift</code></a></li>
<li><a href="#org1cb0506">10.4.13. <code>cast-high</code></a></li>
<li><a href="#org52d0c53">10.4.14. <code>cast-low</code></a></li>
<li><a href="#org69eb064">10.4.15. <code>cast-signed</code></a></li>
<li><a href="#org2d7e6ee">10.4.16. <code>cast-unsigned</code></a></li>
<li><a href="#org6d8e732">10.4.17. <code>concat</code></a></li>
<li><a href="#org4d5d80a">10.4.18. <code>exec-addr</code></a></li>
<li><a href="#org2ce8ff9">10.4.19. <code>extract</code></a></li>
<li><a href="#org10f025c">10.4.20. <code>get-current-program-counter</code></a></li>
<li><a href="#org263fbd6">10.4.21. <code>get-program-counter</code></a></li>
<li><a href="#orgf398da0">10.4.22. <code>goto-subinstruction</code></a></li>
<li><a href="#orgc361886">10.4.23. <code>is-negative</code></a></li>
<li><a href="#orgcde6fd1">10.4.24. <code>is-positive</code></a></li>
<li><a href="#org5bf8dbc">10.4.25. <code>is-symbol</code></a></li>
<li><a href="#org7b79874">10.4.26. <code>is-zero</code></a></li>
<li><a href="#orgbed24c9">10.4.27. <code>lnot</code></a></li>
<li><a href="#orgc590707">10.4.28. <code>load-bits</code></a></li>
<li><a href="#orgda23286">10.4.29. <code>load-byte</code></a></li>
<li><a href="#org7d2e34d">10.4.30. <code>load-dword</code></a></li>
<li><a href="#orgf2f1ed5">10.4.31. <code>load-hword</code></a></li>
<li><a href="#org1a8c5e9">10.4.32. <code>load-qword</code></a></li>
<li><a href="#org139e60e">10.4.33. <code>load-word</code></a></li>
<li><a href="#orgbfcad4a">10.4.34. <code>logand</code></a></li>
<li><a href="#org095adb4">10.4.35. <code>logor</code></a></li>
<li><a href="#orge4eb1b6">10.4.36. <code>logxor</code></a></li>
<li><a href="#org92e2085">10.4.37. <code>lshift</code></a></li>
<li><a href="#org741e4a6">10.4.38. <code>memory-read</code></a></li>
<li><a href="#orga0c1be2">10.4.39. <code>memory-write</code></a></li>
<li><a href="#orgf8e42ce">10.4.40. <code>mod</code></a></li>
<li><a href="#org785f74a">10.4.41. <code>neg</code></a></li>
<li><a href="#org4b02163">10.4.42. <code>not</code></a></li>
<li><a href="#orgc3e1e31">10.4.43. <code>nth</code></a></li>
<li><a href="#org2163c69">10.4.44. <code>rshift</code></a></li>
<li><a href="#org31f5abc">10.4.45. <code>s/</code></a></li>
<li><a href="#org8d8ab17">10.4.46. <code>s&lt;</code></a></li>
<li><a href="#orgb698f75">10.4.47. <code>s&lt;=</code></a></li>
<li><a href="#org4e420de">10.4.48. <code>s&gt;</code></a></li>
<li><a href="#org0e4c4b6">10.4.49. <code>s&gt;=</code></a></li>
<li><a href="#org4fe4ee1">10.4.50. <code>select</code></a></li>
<li><a href="#org2b86c2a">10.4.51. <code>set-symbol-value</code></a></li>
<li><a href="#org4634ff7">10.4.52. <code>signed-mod</code></a></li>
<li><a href="#org81bf6ae">10.4.53. <code>store-byte</code></a></li>
<li><a href="#org1618dbd">10.4.54. <code>store-word</code></a></li>
<li><a href="#orgcb8ec6e">10.4.55. <code>symbol</code></a></li>
<li><a href="#org8ac2c87">10.4.56. <code>word-width</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org23a7923">11. Package <code>posix</code></a>
<ul>
<li><a href="#org81ee789">11.1. Constants</a>
<ul>
<li><a href="#org129fd68">11.1.1. <code>false</code></a></li>
<li><a href="#org510691d">11.1.2. <code>nil</code></a></li>
<li><a href="#org2e4ae59">11.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#orga42b23e">11.2. Functions</a>
<ul>
<li><a href="#org678d5dd">11.2.1. <code>carry</code></a></li>
<li><a href="#org910fc06">11.2.2. <code>copy-byte</code></a></li>
<li><a href="#org1d0c670">11.2.3. <code>lsb</code></a></li>
<li><a href="#org5713893">11.2.4. <code>msb</code></a></li>
<li><a href="#org6fa0996">11.2.5. <code>overflow</code></a></li>
<li><a href="#org461bfaf">11.2.6. <code>points-to-null</code></a></li>
</ul>
</li>
<li><a href="#org8e99322">11.3. Macros</a>
<ul>
<li><a href="#org5095418">11.3.1. <code>+1</code></a></li>
<li><a href="#orgd11aeda">11.3.2. <code>+=</code></a></li>
<li><a href="#org2c625c2">11.3.3. <code>-1</code></a></li>
<li><a href="#org8a6cb78">11.3.4. <code>and</code></a></li>
<li><a href="#orgca269c6">11.3.5. <code>array-get</code></a></li>
<li><a href="#org61ff7d2">11.3.6. <code>array-set</code></a></li>
<li><a href="#org252e41f">11.3.7. <code>assert</code></a></li>
<li><a href="#orgb83a96c">11.3.8. <code>bitwidth</code></a></li>
<li><a href="#org0efab48">11.3.9. <code>case</code></a></li>
<li><a href="#orgcffcb9e">11.3.10. <code>case/dispatch</code></a></li>
<li><a href="#org9b96494">11.3.11. <code>cast</code></a></li>
<li><a href="#org54dad3a">11.3.12. <code>compare</code></a></li>
<li><a href="#org608eec8">11.3.13. <code>copy-byte-shift</code></a></li>
<li><a href="#orgd2f0271">11.3.14. <code>copy-byte-shift-left</code></a></li>
<li><a href="#org7bdc2aa">11.3.15. <code>copy-left</code></a></li>
<li><a href="#org0284072">11.3.16. <code>copy-right</code></a></li>
<li><a href="#orgedaa8d5">11.3.17. <code>decr</code></a></li>
<li><a href="#org8d5dfb5">11.3.18. <code>endian</code></a></li>
<li><a href="#orgb11fcab">11.3.19. <code>fold</code></a></li>
<li><a href="#orgad4e8ba">11.3.20. <code>incr</code></a></li>
<li><a href="#orgf8d5920">11.3.21. <code>is-in</code></a></li>
<li><a href="#orgbcb4a51">11.3.22. <code>make-copy</code></a></li>
<li><a href="#org0e5c188">11.3.23. <code>max</code></a></li>
<li><a href="#org810d145">11.3.24. <code>min</code></a></li>
<li><a href="#org37787ee">11.3.25. <code>non-zero</code></a></li>
<li><a href="#org1cda26e">11.3.26. <code>nth-byte-of-word</code></a></li>
<li><a href="#org59111ce">11.3.27. <code>or</code></a></li>
<li><a href="#org50cd18f">11.3.28. <code>points-to</code></a></li>
<li><a href="#org34038ec">11.3.29. <code>ptr+</code></a></li>
<li><a href="#orgb2fa33d">11.3.30. <code>ptr+1</code></a></li>
<li><a href="#orgaccfcee">11.3.31. <code>read-word</code></a></li>
<li><a href="#orgbcaf654">11.3.32. <code>set$</code></a></li>
<li><a href="#org1052983">11.3.33. <code>sign</code></a></li>
<li><a href="#orgbff9fe6">11.3.34. <code>sizeof</code></a></li>
<li><a href="#org0eaa7a4">11.3.35. <code>unless</code></a></li>
<li><a href="#org063c2e3">11.3.36. <code>until</code></a></li>
<li><a href="#org48e5c26">11.3.37. <code>when</code></a></li>
<li><a href="#org1168d91">11.3.38. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#orgd0a03c0">11.4. Primitives</a>
<ul>
<li><a href="#orgf9bb80b">11.4.1. <code>*</code></a></li>
<li><a href="#org2bd7584">11.4.2. <code>+</code></a></li>
<li><a href="#org875278e">11.4.3. <code>-</code></a></li>
<li><a href="#org9d735ef">11.4.4. <code>/</code></a></li>
<li><a href="#org20199fd">11.4.5. <code>/=</code></a></li>
<li><a href="#org8fd3198">11.4.6. <code>&lt;</code></a></li>
<li><a href="#org0db68f7">11.4.7. <code>&lt;=</code></a></li>
<li><a href="#org2daa8bc">11.4.8. <code>=</code></a></li>
<li><a href="#org9326a11">11.4.9. <code>&gt;</code></a></li>
<li><a href="#org70d2021">11.4.10. <code>&gt;=</code></a></li>
<li><a href="#org12ed42b">11.4.11. <code>alias-base-register</code></a></li>
<li><a href="#org827922e">11.4.12. <code>arshift</code></a></li>
<li><a href="#org4799fa5">11.4.13. <code>cast-high</code></a></li>
<li><a href="#orgafc0034">11.4.14. <code>cast-low</code></a></li>
<li><a href="#org6eb4c3d">11.4.15. <code>cast-signed</code></a></li>
<li><a href="#orgba0d6b7">11.4.16. <code>cast-unsigned</code></a></li>
<li><a href="#org27defee">11.4.17. <code>concat</code></a></li>
<li><a href="#org822113b">11.4.18. <code>exec-addr</code></a></li>
<li><a href="#org1072599">11.4.19. <code>extract</code></a></li>
<li><a href="#org7eaf454">11.4.20. <code>get-current-program-counter</code></a></li>
<li><a href="#org7be8db4">11.4.21. <code>get-program-counter</code></a></li>
<li><a href="#org342adb6">11.4.22. <code>goto-subinstruction</code></a></li>
<li><a href="#orgb288207">11.4.23. <code>is-negative</code></a></li>
<li><a href="#orge9bf8a4">11.4.24. <code>is-positive</code></a></li>
<li><a href="#orgbf40923">11.4.25. <code>is-symbol</code></a></li>
<li><a href="#org01b5b43">11.4.26. <code>is-zero</code></a></li>
<li><a href="#org00ea487">11.4.27. <code>lnot</code></a></li>
<li><a href="#org17042f5">11.4.28. <code>load-bits</code></a></li>
<li><a href="#orgfc66532">11.4.29. <code>load-byte</code></a></li>
<li><a href="#org9e435dc">11.4.30. <code>load-dword</code></a></li>
<li><a href="#org462d053">11.4.31. <code>load-hword</code></a></li>
<li><a href="#org9851542">11.4.32. <code>load-qword</code></a></li>
<li><a href="#org01200f6">11.4.33. <code>load-word</code></a></li>
<li><a href="#org9d42805">11.4.34. <code>logand</code></a></li>
<li><a href="#orge0478f7">11.4.35. <code>logor</code></a></li>
<li><a href="#org035e7ac">11.4.36. <code>logxor</code></a></li>
<li><a href="#org303812f">11.4.37. <code>lshift</code></a></li>
<li><a href="#org890b79f">11.4.38. <code>memory-read</code></a></li>
<li><a href="#org169cf24">11.4.39. <code>memory-write</code></a></li>
<li><a href="#orgc60e305">11.4.40. <code>mod</code></a></li>
<li><a href="#org2d0ecde">11.4.41. <code>neg</code></a></li>
<li><a href="#orgd5287c9">11.4.42. <code>not</code></a></li>
<li><a href="#orgcf1649c">11.4.43. <code>nth</code></a></li>
<li><a href="#org6cddc6a">11.4.44. <code>rshift</code></a></li>
<li><a href="#org03619bf">11.4.45. <code>s/</code></a></li>
<li><a href="#org833e797">11.4.46. <code>s&lt;</code></a></li>
<li><a href="#org6dc4bd9">11.4.47. <code>s&lt;=</code></a></li>
<li><a href="#orgd830d07">11.4.48. <code>s&gt;</code></a></li>
<li><a href="#org74bba0c">11.4.49. <code>s&gt;=</code></a></li>
<li><a href="#org48aea6c">11.4.50. <code>select</code></a></li>
<li><a href="#org9c7a944">11.4.51. <code>set-symbol-value</code></a></li>
<li><a href="#org3b9c4d6">11.4.52. <code>signed-mod</code></a></li>
<li><a href="#org6258d82">11.4.53. <code>store-byte</code></a></li>
<li><a href="#orgf57291f">11.4.54. <code>store-word</code></a></li>
<li><a href="#orgc178b1c">11.4.55. <code>symbol</code></a></li>
<li><a href="#org61c18a5">11.4.56. <code>word-width</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org9260da5">12. Package <code>primus</code></a>
<ul>
<li><a href="#org8bee3bb">12.1. Constants</a>
<ul>
<li><a href="#org0e33aba">12.1.1. <code>false</code></a></li>
<li><a href="#orgbd6eada">12.1.2. <code>nil</code></a></li>
<li><a href="#orgec4f636">12.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#org97ba73c">12.2. Functions</a>
<ul>
<li><a href="#orgc4606db">12.2.1. <code>carry</code></a></li>
<li><a href="#org500b1ba">12.2.2. <code>copy-byte</code></a></li>
<li><a href="#orge6c87d9">12.2.3. <code>lsb</code></a></li>
<li><a href="#org34cfabd">12.2.4. <code>msb</code></a></li>
<li><a href="#orgfba50d8">12.2.5. <code>overflow</code></a></li>
<li><a href="#orgbec3bae">12.2.6. <code>points-to-null</code></a></li>
</ul>
</li>
<li><a href="#org7455e28">12.3. Macros</a>
<ul>
<li><a href="#orge2dcfaa">12.3.1. <code>+1</code></a></li>
<li><a href="#org1382f3b">12.3.2. <code>+=</code></a></li>
<li><a href="#org9fb497a">12.3.3. <code>-1</code></a></li>
<li><a href="#org04c13f2">12.3.4. <code>and</code></a></li>
<li><a href="#orgf59ea88">12.3.5. <code>array-get</code></a></li>
<li><a href="#org845bfa6">12.3.6. <code>array-set</code></a></li>
<li><a href="#orga866a62">12.3.7. <code>assert</code></a></li>
<li><a href="#orge0cc1c5">12.3.8. <code>bitwidth</code></a></li>
<li><a href="#orgd69308e">12.3.9. <code>case</code></a></li>
<li><a href="#org44e5fbc">12.3.10. <code>case/dispatch</code></a></li>
<li><a href="#org8a17d28">12.3.11. <code>cast</code></a></li>
<li><a href="#orgde2fe4e">12.3.12. <code>compare</code></a></li>
<li><a href="#orgbb3ea10">12.3.13. <code>copy-byte-shift</code></a></li>
<li><a href="#orgc611a1c">12.3.14. <code>copy-byte-shift-left</code></a></li>
<li><a href="#org08d2a1e">12.3.15. <code>copy-left</code></a></li>
<li><a href="#org9bc905f">12.3.16. <code>copy-right</code></a></li>
<li><a href="#org1d9f956">12.3.17. <code>decr</code></a></li>
<li><a href="#org1ae5422">12.3.18. <code>endian</code></a></li>
<li><a href="#orgcb2fda9">12.3.19. <code>fold</code></a></li>
<li><a href="#org06e8aa4">12.3.20. <code>incr</code></a></li>
<li><a href="#orgb9d8db8">12.3.21. <code>is-in</code></a></li>
<li><a href="#org5e0fd61">12.3.22. <code>make-copy</code></a></li>
<li><a href="#org64adb66">12.3.23. <code>max</code></a></li>
<li><a href="#org16a919e">12.3.24. <code>min</code></a></li>
<li><a href="#orgd8e5ab0">12.3.25. <code>non-zero</code></a></li>
<li><a href="#org099c69a">12.3.26. <code>nth-byte-of-word</code></a></li>
<li><a href="#org5a0ee96">12.3.27. <code>or</code></a></li>
<li><a href="#orgb078dba">12.3.28. <code>points-to</code></a></li>
<li><a href="#orgb920304">12.3.29. <code>ptr+</code></a></li>
<li><a href="#org1b860fe">12.3.30. <code>ptr+1</code></a></li>
<li><a href="#orge5382cc">12.3.31. <code>read-word</code></a></li>
<li><a href="#org7fd935f">12.3.32. <code>set$</code></a></li>
<li><a href="#org6a35e2e">12.3.33. <code>sign</code></a></li>
<li><a href="#orgc3905c0">12.3.34. <code>sizeof</code></a></li>
<li><a href="#org100ee9e">12.3.35. <code>unless</code></a></li>
<li><a href="#org19ef6fc">12.3.36. <code>until</code></a></li>
<li><a href="#org97d6256">12.3.37. <code>when</code></a></li>
<li><a href="#orgc07c479">12.3.38. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#org1fd0389">12.4. Primitives</a>
<ul>
<li><a href="#org5d0e3ca">12.4.1. <code>*</code></a></li>
<li><a href="#org55a2ee7">12.4.2. <code>+</code></a></li>
<li><a href="#orgabf70b0">12.4.3. <code>-</code></a></li>
<li><a href="#org4eef77a">12.4.4. <code>/</code></a></li>
<li><a href="#orgf1da1b6">12.4.5. <code>/=</code></a></li>
<li><a href="#orgcb3ae90">12.4.6. <code>&lt;</code></a></li>
<li><a href="#org1b81815">12.4.7. <code>&lt;=</code></a></li>
<li><a href="#orged9f6bd">12.4.8. <code>=</code></a></li>
<li><a href="#org9fc041c">12.4.9. <code>&gt;</code></a></li>
<li><a href="#orgfee5eac">12.4.10. <code>&gt;=</code></a></li>
<li><a href="#org50d0240">12.4.11. <code>alias-base-register</code></a></li>
<li><a href="#org27368a5">12.4.12. <code>arshift</code></a></li>
<li><a href="#orgd91b746">12.4.13. <code>cast-high</code></a></li>
<li><a href="#orgc3897dd">12.4.14. <code>cast-low</code></a></li>
<li><a href="#org1545920">12.4.15. <code>cast-signed</code></a></li>
<li><a href="#org3572a4a">12.4.16. <code>cast-unsigned</code></a></li>
<li><a href="#orgbb5389b">12.4.17. <code>concat</code></a></li>
<li><a href="#orgc1d10f3">12.4.18. <code>exec-addr</code></a></li>
<li><a href="#org5ef973a">12.4.19. <code>extract</code></a></li>
<li><a href="#org29aefde">12.4.20. <code>get-current-program-counter</code></a></li>
<li><a href="#orgb734eb7">12.4.21. <code>get-program-counter</code></a></li>
<li><a href="#org9e71087">12.4.22. <code>goto-subinstruction</code></a></li>
<li><a href="#org4444d7f">12.4.23. <code>is-negative</code></a></li>
<li><a href="#org99cdc90">12.4.24. <code>is-positive</code></a></li>
<li><a href="#orgb01a725">12.4.25. <code>is-symbol</code></a></li>
<li><a href="#orge6ecfbe">12.4.26. <code>is-zero</code></a></li>
<li><a href="#org7bce994">12.4.27. <code>lnot</code></a></li>
<li><a href="#orgef1fbfc">12.4.28. <code>load-bits</code></a></li>
<li><a href="#orga9008d9">12.4.29. <code>load-byte</code></a></li>
<li><a href="#org6f840b9">12.4.30. <code>load-dword</code></a></li>
<li><a href="#org4ed75c3">12.4.31. <code>load-hword</code></a></li>
<li><a href="#orgc39c8c0">12.4.32. <code>load-qword</code></a></li>
<li><a href="#orgcf8eede">12.4.33. <code>load-word</code></a></li>
<li><a href="#org8e474e2">12.4.34. <code>logand</code></a></li>
<li><a href="#org0780632">12.4.35. <code>logor</code></a></li>
<li><a href="#org63a7f6d">12.4.36. <code>logxor</code></a></li>
<li><a href="#org86337f9">12.4.37. <code>lshift</code></a></li>
<li><a href="#org443eeb1">12.4.38. <code>memory-read</code></a></li>
<li><a href="#org1200cbe">12.4.39. <code>memory-write</code></a></li>
<li><a href="#org9e2b719">12.4.40. <code>mod</code></a></li>
<li><a href="#org267c334">12.4.41. <code>neg</code></a></li>
<li><a href="#orga184c5f">12.4.42. <code>not</code></a></li>
<li><a href="#org5934ca3">12.4.43. <code>nth</code></a></li>
<li><a href="#org2540773">12.4.44. <code>rshift</code></a></li>
<li><a href="#org292613d">12.4.45. <code>s/</code></a></li>
<li><a href="#orgd671717">12.4.46. <code>s&lt;</code></a></li>
<li><a href="#orgb0ae67c">12.4.47. <code>s&lt;=</code></a></li>
<li><a href="#org6f21502">12.4.48. <code>s&gt;</code></a></li>
<li><a href="#org970bb2f">12.4.49. <code>s&gt;=</code></a></li>
<li><a href="#orgce0ecfd">12.4.50. <code>select</code></a></li>
<li><a href="#org97c149c">12.4.51. <code>set-symbol-value</code></a></li>
<li><a href="#org1f2a16c">12.4.52. <code>signed-mod</code></a></li>
<li><a href="#org39e8160">12.4.53. <code>store-byte</code></a></li>
<li><a href="#org66d992b">12.4.54. <code>store-word</code></a></li>
<li><a href="#org357de34">12.4.55. <code>symbol</code></a></li>
<li><a href="#orgcf43851">12.4.56. <code>word-width</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgc1f75fe">13. Package <code>riscv</code></a>
<ul>
<li><a href="#orga8e00ac">13.1. Constants</a>
<ul>
<li><a href="#org04b9e09">13.1.1. <code>false</code></a></li>
<li><a href="#org35f4427">13.1.2. <code>nil</code></a></li>
<li><a href="#org0e1d84a">13.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#orge64cb3f">13.2. Functions</a>
<ul>
<li><a href="#orga5f020a">13.2.1. <code>ADDI</code></a></li>
<li><a href="#org99ff65e">13.2.2. <code>ADDIW</code></a></li>
<li><a href="#orgbeba942">13.2.3. <code>ADDW</code></a></li>
<li><a href="#orgacef5ed">13.2.4. <code>ANDI</code></a></li>
<li><a href="#org77f2de8">13.2.5. <code>AUIPC</code></a></li>
<li><a href="#org9b9de2c">13.2.6. <code>BEQ</code></a></li>
<li><a href="#org097ef4f">13.2.7. <code>BEQZ</code></a></li>
<li><a href="#org1026dd1">13.2.8. <code>BLT</code></a></li>
<li><a href="#org8493a25">13.2.9. <code>BNE</code></a></li>
<li><a href="#org99d569c">13.2.10. <code>BNEZ</code></a></li>
<li><a href="#orge683c86">13.2.11. <code>C_ADD</code></a></li>
<li><a href="#orgda3de5f">13.2.12. <code>C_ADDI</code></a></li>
<li><a href="#org364e862">13.2.13. <code>C_ADDI16SP</code></a></li>
<li><a href="#orgdf8e192">13.2.14. <code>C_ADDI4SPN</code></a></li>
<li><a href="#org3e05420">13.2.15. <code>C_ADDIW</code></a></li>
<li><a href="#org0194860">13.2.16. <code>C_ADDW</code></a></li>
<li><a href="#org9b447ff">13.2.17. <code>C_BEQ</code></a></li>
<li><a href="#orgfc4e815">13.2.18. <code>C_BEQZ</code></a></li>
<li><a href="#orgc6c4991">13.2.19. <code>C_BLT</code></a></li>
<li><a href="#org3509bad">13.2.20. <code>C_BNE</code></a></li>
<li><a href="#org22dddf1">13.2.21. <code>C_BNEZ</code></a></li>
<li><a href="#orgf6efed7">13.2.22. <code>C_J</code></a></li>
<li><a href="#org72136cd">13.2.23. <code>C_JALR</code></a></li>
<li><a href="#org0bd16e9">13.2.24. <code>C_JR</code></a></li>
<li><a href="#org24455b5">13.2.25. <code>C_LD</code></a></li>
<li><a href="#org89d5c02">13.2.26. <code>C_LDSP</code></a></li>
<li><a href="#org6808056">13.2.27. <code>C_LI</code></a></li>
<li><a href="#orgbde313d">13.2.28. <code>C_LUI</code></a></li>
<li><a href="#org10bddbb">13.2.29. <code>C_MV</code></a></li>
<li><a href="#orga3605b7">13.2.30. <code>C_SD</code></a></li>
<li><a href="#org82b5d68">13.2.31. <code>C_SDSP</code></a></li>
<li><a href="#org92c8ad1">13.2.32. <code>C_SLLI</code></a></li>
<li><a href="#org195610a">13.2.33. <code>C_SRAI</code></a></li>
<li><a href="#org4906892">13.2.34. <code>C_SRLI</code></a></li>
<li><a href="#org4ed9c9c">13.2.35. <code>C_SUB</code></a></li>
<li><a href="#orgb8f45b1">13.2.36. <code>JAL</code></a></li>
<li><a href="#orgcd02106">13.2.37. <code>JALR</code></a></li>
<li><a href="#org92c1782">13.2.38. <code>LB</code></a></li>
<li><a href="#orgc0b7ab9">13.2.39. <code>LBU</code></a></li>
<li><a href="#orga0d9f42">13.2.40. <code>LD</code></a></li>
<li><a href="#org5224c71">13.2.41. <code>LH</code></a></li>
<li><a href="#orgc80d31f">13.2.42. <code>LHU</code></a></li>
<li><a href="#org8d43088">13.2.43. <code>LI</code></a></li>
<li><a href="#org499db35">13.2.44. <code>LUI</code></a></li>
<li><a href="#org9f686d2">13.2.45. <code>LW</code></a></li>
<li><a href="#org8f9213c">13.2.46. <code>LWU</code></a></li>
<li><a href="#org2584d95">13.2.47. <code>ORI</code></a></li>
<li><a href="#org9703098">13.2.48. <code>SB</code></a></li>
<li><a href="#org0774cc5">13.2.49. <code>SD</code></a></li>
<li><a href="#orgf424eac">13.2.50. <code>SDSP</code></a></li>
<li><a href="#orge32adfb">13.2.51. <code>SH</code></a></li>
<li><a href="#org99e1e04">13.2.52. <code>SLLI</code></a></li>
<li><a href="#org258f094">13.2.53. <code>SLTI</code></a></li>
<li><a href="#orge9bd262">13.2.54. <code>SRAI</code></a></li>
<li><a href="#org8e4ddd1">13.2.55. <code>SRLI</code></a></li>
<li><a href="#org9093afd">13.2.56. <code>SUB</code></a></li>
<li><a href="#org48e5f43">13.2.57. <code>SW</code></a></li>
<li><a href="#org4aec69d">13.2.58. <code>XORI</code></a></li>
<li><a href="#orgd2ce8fd">13.2.59. <code>add3</code></a></li>
<li><a href="#org8b540e5">13.2.60. <code>carry</code></a></li>
<li><a href="#org450fe4b">13.2.61. <code>conditional-jump</code></a></li>
<li><a href="#orgf9b9376">13.2.62. <code>copy-byte</code></a></li>
<li><a href="#org383acab">13.2.63. <code>lsb</code></a></li>
<li><a href="#org9f064d0">13.2.64. <code>msb</code></a></li>
<li><a href="#orgc902a27">13.2.65. <code>overflow</code></a></li>
<li><a href="#org61d1986">13.2.66. <code>points-to-null</code></a></li>
</ul>
</li>
<li><a href="#org4fa4ed2">13.3. Macros</a>
<ul>
<li><a href="#orgea4d660">13.3.1. <code>+1</code></a></li>
<li><a href="#org3971d3a">13.3.2. <code>+=</code></a></li>
<li><a href="#org17d37d9">13.3.3. <code>-1</code></a></li>
<li><a href="#org6a1d119">13.3.4. <code>and</code></a></li>
<li><a href="#org333a1c7">13.3.5. <code>array-get</code></a></li>
<li><a href="#org24df2f1">13.3.6. <code>array-set</code></a></li>
<li><a href="#orgb23fde5">13.3.7. <code>assert</code></a></li>
<li><a href="#org4895b70">13.3.8. <code>bitwidth</code></a></li>
<li><a href="#org203d4ec">13.3.9. <code>case</code></a></li>
<li><a href="#org2a8c2c5">13.3.10. <code>case/dispatch</code></a></li>
<li><a href="#orgbb50e45">13.3.11. <code>cast</code></a></li>
<li><a href="#org01c8ea0">13.3.12. <code>compare</code></a></li>
<li><a href="#org2c2eaba">13.3.13. <code>copy-byte-shift</code></a></li>
<li><a href="#org64cafa3">13.3.14. <code>copy-byte-shift-left</code></a></li>
<li><a href="#org4bb42f4">13.3.15. <code>copy-left</code></a></li>
<li><a href="#orge34aac0">13.3.16. <code>copy-right</code></a></li>
<li><a href="#org57ef3a2">13.3.17. <code>decr</code></a></li>
<li><a href="#org096b56f">13.3.18. <code>endian</code></a></li>
<li><a href="#org429cbb1">13.3.19. <code>fold</code></a></li>
<li><a href="#org5c31bb7">13.3.20. <code>incr</code></a></li>
<li><a href="#org9c4fa63">13.3.21. <code>is-in</code></a></li>
<li><a href="#orgd65971a">13.3.22. <code>load-word</code></a></li>
<li><a href="#org7e07fa8">13.3.23. <code>make-copy</code></a></li>
<li><a href="#orgd46dd21">13.3.24. <code>max</code></a></li>
<li><a href="#org9f66494">13.3.25. <code>min</code></a></li>
<li><a href="#org2227215">13.3.26. <code>non-zero</code></a></li>
<li><a href="#org1ea8ad5">13.3.27. <code>nth-byte-of-word</code></a></li>
<li><a href="#orga62f400">13.3.28. <code>or</code></a></li>
<li><a href="#orgfea49f6">13.3.29. <code>points-to</code></a></li>
<li><a href="#org8899424">13.3.30. <code>ptr+</code></a></li>
<li><a href="#orgb138eeb">13.3.31. <code>ptr+1</code></a></li>
<li><a href="#orgf209495">13.3.32. <code>read-word</code></a></li>
<li><a href="#org8bb9d55">13.3.33. <code>set$</code></a></li>
<li><a href="#org2ddfdfd">13.3.34. <code>sign</code></a></li>
<li><a href="#orgd8a107f">13.3.35. <code>sizeof</code></a></li>
<li><a href="#orge8959f4">13.3.36. <code>unless</code></a></li>
<li><a href="#org719a112">13.3.37. <code>until</code></a></li>
<li><a href="#org3280113">13.3.38. <code>when</code></a></li>
<li><a href="#org8098bf1">13.3.39. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#orgc1e26e4">13.4. Primitives</a>
<ul>
<li><a href="#orgf5d43eb">13.4.1. <code>*</code></a></li>
<li><a href="#org003554e">13.4.2. <code>+</code></a></li>
<li><a href="#org32ae326">13.4.3. <code>-</code></a></li>
<li><a href="#orgac945f4">13.4.4. <code>/</code></a></li>
<li><a href="#org7c59fca">13.4.5. <code>/=</code></a></li>
<li><a href="#orgc1aa16f">13.4.6. <code>&lt;</code></a></li>
<li><a href="#org75016b3">13.4.7. <code>&lt;=</code></a></li>
<li><a href="#org9a73fc3">13.4.8. <code>=</code></a></li>
<li><a href="#org6f9041e">13.4.9. <code>&gt;</code></a></li>
<li><a href="#org4fdad1b">13.4.10. <code>&gt;=</code></a></li>
<li><a href="#orgcb7cc36">13.4.11. <code>alias-base-register</code></a></li>
<li><a href="#org8d51a23">13.4.12. <code>arshift</code></a></li>
<li><a href="#org00dea4c">13.4.13. <code>cast-high</code></a></li>
<li><a href="#org02470ae">13.4.14. <code>cast-low</code></a></li>
<li><a href="#orgcd923b7">13.4.15. <code>cast-signed</code></a></li>
<li><a href="#orgf2bd0ee">13.4.16. <code>cast-unsigned</code></a></li>
<li><a href="#org611af42">13.4.17. <code>concat</code></a></li>
<li><a href="#orgf9eb119">13.4.18. <code>exec-addr</code></a></li>
<li><a href="#orgbf334cb">13.4.19. <code>extract</code></a></li>
<li><a href="#orgec9252f">13.4.20. <code>get-current-program-counter</code></a></li>
<li><a href="#org7b01483">13.4.21. <code>get-program-counter</code></a></li>
<li><a href="#org7ca6f59">13.4.22. <code>goto-subinstruction</code></a></li>
<li><a href="#orgeb0f07d">13.4.23. <code>is-negative</code></a></li>
<li><a href="#orge0b48fc">13.4.24. <code>is-positive</code></a></li>
<li><a href="#orgd2e2c8b">13.4.25. <code>is-symbol</code></a></li>
<li><a href="#orge317e8a">13.4.26. <code>is-zero</code></a></li>
<li><a href="#orgbdc0f19">13.4.27. <code>lnot</code></a></li>
<li><a href="#org3eef615">13.4.28. <code>load-bits</code></a></li>
<li><a href="#orgf88f196">13.4.29. <code>load-byte</code></a></li>
<li><a href="#org24ecc02">13.4.30. <code>load-dword</code></a></li>
<li><a href="#orge11886c">13.4.31. <code>load-hword</code></a></li>
<li><a href="#org51dd45c">13.4.32. <code>load-qword</code></a></li>
<li><a href="#org00411fb">13.4.33. <code>load-word</code></a></li>
<li><a href="#orgb3837b2">13.4.34. <code>logand</code></a></li>
<li><a href="#org0e99f11">13.4.35. <code>logor</code></a></li>
<li><a href="#org57cda51">13.4.36. <code>logxor</code></a></li>
<li><a href="#orge73b693">13.4.37. <code>lshift</code></a></li>
<li><a href="#org6bab641">13.4.38. <code>memory-read</code></a></li>
<li><a href="#org036820e">13.4.39. <code>memory-write</code></a></li>
<li><a href="#org9eb8a0f">13.4.40. <code>mod</code></a></li>
<li><a href="#org7d24c93">13.4.41. <code>neg</code></a></li>
<li><a href="#org99f2b0d">13.4.42. <code>not</code></a></li>
<li><a href="#org585d72b">13.4.43. <code>nth</code></a></li>
<li><a href="#orgf71e546">13.4.44. <code>rshift</code></a></li>
<li><a href="#orgdb2a388">13.4.45. <code>s/</code></a></li>
<li><a href="#orgd4d3f40">13.4.46. <code>s&lt;</code></a></li>
<li><a href="#org7c01dad">13.4.47. <code>s&lt;=</code></a></li>
<li><a href="#orga80318f">13.4.48. <code>s&gt;</code></a></li>
<li><a href="#org746dd60">13.4.49. <code>s&gt;=</code></a></li>
<li><a href="#org97b38d2">13.4.50. <code>select</code></a></li>
<li><a href="#orgd1b53c6">13.4.51. <code>set-symbol-value</code></a></li>
<li><a href="#org818cbc0">13.4.52. <code>signed-mod</code></a></li>
<li><a href="#org13f7ce9">13.4.53. <code>store-byte</code></a></li>
<li><a href="#org42a3c71">13.4.54. <code>store-word</code></a></li>
<li><a href="#org6e6e6b0">13.4.55. <code>symbol</code></a></li>
<li><a href="#orgca2ada2">13.4.56. <code>word-width</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org871be3b">14. Package <code>thumb</code></a>
<ul>
<li><a href="#orgc0c367d">14.1. Constants</a>
<ul>
<li><a href="#orgd9fdcbc">14.1.1. <code>false</code></a></li>
<li><a href="#orgd164bd3">14.1.2. <code>nil</code></a></li>
<li><a href="#orgaea30e3">14.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#org2f72153">14.2. Functions</a>
<ul>
<li><a href="#orgbe43454">14.2.1. <code>add-with-carry</code></a></li>
<li><a href="#orgadee595">14.2.2. <code>add-with-carry/clear-base</code></a></li>
<li><a href="#orgf3af05f">14.2.3. <code>add-with-carry/it-block</code></a></li>
<li><a href="#org8e4fb70">14.2.4. <code>carry</code></a></li>
<li><a href="#orgb9f2a55">14.2.5. <code>clear-base</code></a></li>
<li><a href="#org4f9583d">14.2.6. <code>condition-holds</code></a></li>
<li><a href="#org0045557">14.2.7. <code>copy-byte</code></a></li>
<li><a href="#org2b2e020">14.2.8. <code>is-pc</code></a></li>
<li><a href="#orgba665cd">14.2.9. <code>is-unconditional</code></a></li>
<li><a href="#orgde982bd">14.2.10. <code>logandnot</code></a></li>
<li><a href="#org729fc1f">14.2.11. <code>lsb</code></a></li>
<li><a href="#orgf323d3f">14.2.12. <code>msb</code></a></li>
<li><a href="#org0d9ce0d">14.2.13. <code>overflow</code></a></li>
<li><a href="#orgacf6052">14.2.14. <code>points-to-null</code></a></li>
<li><a href="#orgcc6ec21">14.2.15. <code>set-flags</code></a></li>
<li><a href="#org1ba83ff">14.2.16. <code>t2ADDri12</code></a></li>
<li><a href="#org1ecf47e">14.2.17. <code>t2B</code></a></li>
<li><a href="#org4e2b648">14.2.18. <code>t2LDRHi12</code></a></li>
<li><a href="#orge3c72c4">14.2.19. <code>t2LDRSBi12</code></a></li>
<li><a href="#org6aefd61">14.2.20. <code>t2LDRSHi12</code></a></li>
<li><a href="#org308cf76">14.2.21. <code>t2LDRs</code></a></li>
<li><a href="#org71bfa26">14.2.22. <code>t2STRDi8</code></a></li>
<li><a href="#org42c93af">14.2.23. <code>t2STRHi12</code></a></li>
<li><a href="#org590eb66">14.2.24. <code>t2pc</code></a></li>
<li><a href="#orgde630d8">14.2.25. <code>t2reg</code></a></li>
<li><a href="#org34fbbdd">14.2.26. <code>t2set</code></a></li>
<li><a href="#orgc5ce9fb">14.2.27. <code>tADDhirr</code></a></li>
<li><a href="#org7b05ba2">14.2.28. <code>tAND</code></a></li>
<li><a href="#org4823f03">14.2.29. <code>tBIC</code></a></li>
<li><a href="#org39308a6">14.2.30. <code>tEOR</code></a></li>
<li><a href="#orge5822f9">14.2.31. <code>tLSLrr</code></a></li>
<li><a href="#orgc66b47c">14.2.32. <code>tLSRrr</code></a></li>
<li><a href="#orga8641f2">14.2.33. <code>tMOVr</code></a></li>
<li><a href="#org8b34b2b">14.2.34. <code>tMUL</code></a></li>
<li><a href="#org4ce7bbb">14.2.35. <code>tMVN</code></a></li>
<li><a href="#org8613443">14.2.36. <code>tREV</code></a></li>
<li><a href="#org8a7e274">14.2.37. <code>tRSB</code></a></li>
<li><a href="#orgc01885f">14.2.38. <code>tSBC</code></a></li>
<li><a href="#org8b23178">14.2.39. <code>tTST</code></a></li>
</ul>
</li>
<li><a href="#org892d8b9">14.3. Macros</a>
<ul>
<li><a href="#org07d887c">14.3.1. <code>+1</code></a></li>
<li><a href="#org9007d79">14.3.2. <code>+=</code></a></li>
<li><a href="#orgd2596bd">14.3.3. <code>-1</code></a></li>
<li><a href="#orga28e1b0">14.3.4. <code>and</code></a></li>
<li><a href="#org3f74a54">14.3.5. <code>array-get</code></a></li>
<li><a href="#org7e1e340">14.3.6. <code>array-set</code></a></li>
<li><a href="#org5b6c463">14.3.7. <code>assert</code></a></li>
<li><a href="#org82c71d9">14.3.8. <code>bitwidth</code></a></li>
<li><a href="#org2023487">14.3.9. <code>case</code></a></li>
<li><a href="#orgeb86489">14.3.10. <code>case/dispatch</code></a></li>
<li><a href="#org10c1840">14.3.11. <code>cast</code></a></li>
<li><a href="#org9a9bd7e">14.3.12. <code>compare</code></a></li>
<li><a href="#org3a7fb62">14.3.13. <code>copy-byte-shift</code></a></li>
<li><a href="#org6e1b8ca">14.3.14. <code>copy-byte-shift-left</code></a></li>
<li><a href="#orgf697264">14.3.15. <code>copy-left</code></a></li>
<li><a href="#orge7f11d6">14.3.16. <code>copy-right</code></a></li>
<li><a href="#org7184f83">14.3.17. <code>decr</code></a></li>
<li><a href="#orgb64d3c4">14.3.18. <code>endian</code></a></li>
<li><a href="#org8da9a7c">14.3.19. <code>fold</code></a></li>
<li><a href="#org0b79ebb">14.3.20. <code>incr</code></a></li>
<li><a href="#org3c30f79">14.3.21. <code>is-in</code></a></li>
<li><a href="#orga4d4d3c">14.3.22. <code>make-copy</code></a></li>
<li><a href="#org049389a">14.3.23. <code>max</code></a></li>
<li><a href="#orgaa500d4">14.3.24. <code>min</code></a></li>
<li><a href="#org0672229">14.3.25. <code>non-zero</code></a></li>
<li><a href="#org89de83c">14.3.26. <code>nth-byte-of-word</code></a></li>
<li><a href="#org9aea2df">14.3.27. <code>or</code></a></li>
<li><a href="#orgc71bc21">14.3.28. <code>points-to</code></a></li>
<li><a href="#org396f047">14.3.29. <code>ptr+</code></a></li>
<li><a href="#orga2bb509">14.3.30. <code>ptr+1</code></a></li>
<li><a href="#orgc4b94c4">14.3.31. <code>read-word</code></a></li>
<li><a href="#org66795a9">14.3.32. <code>set$</code></a></li>
<li><a href="#org2b9ce30">14.3.33. <code>setw</code></a></li>
<li><a href="#org245df96">14.3.34. <code>shift-with-carry</code></a></li>
<li><a href="#org53d5d27">14.3.35. <code>sign</code></a></li>
<li><a href="#org4e703dc">14.3.36. <code>sizeof</code></a></li>
<li><a href="#org384a9fc">14.3.37. <code>tLOGs</code></a></li>
<li><a href="#org0a00b6e">14.3.38. <code>unless</code></a></li>
<li><a href="#org31392a6">14.3.39. <code>until</code></a></li>
<li><a href="#org40a8c9d">14.3.40. <code>when</code></a></li>
<li><a href="#orgf84f5cd">14.3.41. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#org3a49608">14.4. Primitives</a>
<ul>
<li><a href="#org10f3091">14.4.1. <code>*</code></a></li>
<li><a href="#orgc015a23">14.4.2. <code>+</code></a></li>
<li><a href="#org54eae8d">14.4.3. <code>-</code></a></li>
<li><a href="#orgcb7f6a8">14.4.4. <code>/</code></a></li>
<li><a href="#orgb3a48d0">14.4.5. <code>/=</code></a></li>
<li><a href="#orgb89e7aa">14.4.6. <code>&lt;</code></a></li>
<li><a href="#org12967de">14.4.7. <code>&lt;=</code></a></li>
<li><a href="#org0cb4085">14.4.8. <code>=</code></a></li>
<li><a href="#orgb06c444">14.4.9. <code>&gt;</code></a></li>
<li><a href="#org3e927ec">14.4.10. <code>&gt;=</code></a></li>
<li><a href="#org71ca0f2">14.4.11. <code>alias-base-register</code></a></li>
<li><a href="#org6f6d703">14.4.12. <code>arshift</code></a></li>
<li><a href="#orgfe1e7df">14.4.13. <code>cast-high</code></a></li>
<li><a href="#orgcb816c2">14.4.14. <code>cast-low</code></a></li>
<li><a href="#org68e45a7">14.4.15. <code>cast-signed</code></a></li>
<li><a href="#org0c1bffa">14.4.16. <code>cast-unsigned</code></a></li>
<li><a href="#orgbe33ff3">14.4.17. <code>concat</code></a></li>
<li><a href="#orgd184d8d">14.4.18. <code>exec-addr</code></a></li>
<li><a href="#org2104fed">14.4.19. <code>extract</code></a></li>
<li><a href="#org895a09d">14.4.20. <code>get-current-program-counter</code></a></li>
<li><a href="#org4e76af4">14.4.21. <code>get-program-counter</code></a></li>
<li><a href="#org74c4283">14.4.22. <code>goto-subinstruction</code></a></li>
<li><a href="#orge3afc52">14.4.23. <code>is-negative</code></a></li>
<li><a href="#orgae6a26d">14.4.24. <code>is-positive</code></a></li>
<li><a href="#org53d12ab">14.4.25. <code>is-symbol</code></a></li>
<li><a href="#orge175921">14.4.26. <code>is-zero</code></a></li>
<li><a href="#org10ee9b8">14.4.27. <code>lnot</code></a></li>
<li><a href="#orgdf10666">14.4.28. <code>load-bits</code></a></li>
<li><a href="#org269c87c">14.4.29. <code>load-byte</code></a></li>
<li><a href="#org8732b66">14.4.30. <code>load-dword</code></a></li>
<li><a href="#orga9ee49e">14.4.31. <code>load-hword</code></a></li>
<li><a href="#org5c58e12">14.4.32. <code>load-qword</code></a></li>
<li><a href="#orgd50ef9b">14.4.33. <code>load-word</code></a></li>
<li><a href="#orgd17cc70">14.4.34. <code>logand</code></a></li>
<li><a href="#org348c8cc">14.4.35. <code>logor</code></a></li>
<li><a href="#orga28d890">14.4.36. <code>logxor</code></a></li>
<li><a href="#org0f2f2dd">14.4.37. <code>lshift</code></a></li>
<li><a href="#orgae236fb">14.4.38. <code>memory-read</code></a></li>
<li><a href="#org04a9c32">14.4.39. <code>memory-write</code></a></li>
<li><a href="#orgb819dfd">14.4.40. <code>mod</code></a></li>
<li><a href="#org50611f2">14.4.41. <code>neg</code></a></li>
<li><a href="#org35c78d6">14.4.42. <code>not</code></a></li>
<li><a href="#org444268c">14.4.43. <code>nth</code></a></li>
<li><a href="#org2f1ce71">14.4.44. <code>rshift</code></a></li>
<li><a href="#orge8ef6c7">14.4.45. <code>s/</code></a></li>
<li><a href="#org6a7f0b8">14.4.46. <code>s&lt;</code></a></li>
<li><a href="#org6d38769">14.4.47. <code>s&lt;=</code></a></li>
<li><a href="#org81e2823">14.4.48. <code>s&gt;</code></a></li>
<li><a href="#org9ca28b0">14.4.49. <code>s&gt;=</code></a></li>
<li><a href="#orge0404eb">14.4.50. <code>select</code></a></li>
<li><a href="#orgb96100c">14.4.51. <code>set-symbol-value</code></a></li>
<li><a href="#orga5b507e">14.4.52. <code>signed-mod</code></a></li>
<li><a href="#orgda299c9">14.4.53. <code>store-byte</code></a></li>
<li><a href="#org2b0c283">14.4.54. <code>store-word</code></a></li>
<li><a href="#org23c2be8">14.4.55. <code>symbol</code></a></li>
<li><a href="#org72fa5d7">14.4.56. <code>word-width</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgd222d39">15. Package <code>user</code></a>
<ul>
<li><a href="#orgaaa24cf">15.1. Constants</a>
<ul>
<li><a href="#orgcd613cf">15.1.1. <code>false</code></a></li>
<li><a href="#org44413a0">15.1.2. <code>nil</code></a></li>
<li><a href="#orgd008a3b">15.1.3. <code>true</code></a></li>
</ul>
</li>
<li><a href="#org5a144df">15.2. Functions</a>
<ul>
<li><a href="#org0ef8fdc">15.2.1. <code>carry</code></a></li>
<li><a href="#org0ae7f57">15.2.2. <code>copy-byte</code></a></li>
<li><a href="#org6e4cc75">15.2.3. <code>lsb</code></a></li>
<li><a href="#org155699c">15.2.4. <code>msb</code></a></li>
<li><a href="#org059010b">15.2.5. <code>overflow</code></a></li>
<li><a href="#org2a674f5">15.2.6. <code>points-to-null</code></a></li>
</ul>
</li>
<li><a href="#orge9aff58">15.3. Macros</a>
<ul>
<li><a href="#orgeebf2a6">15.3.1. <code>+1</code></a></li>
<li><a href="#org1421c47">15.3.2. <code>+=</code></a></li>
<li><a href="#org26ef7ee">15.3.3. <code>-1</code></a></li>
<li><a href="#orgbea5dbe">15.3.4. <code>and</code></a></li>
<li><a href="#org7a4c4e9">15.3.5. <code>array-get</code></a></li>
<li><a href="#org7a88495">15.3.6. <code>array-set</code></a></li>
<li><a href="#org95ba54e">15.3.7. <code>assert</code></a></li>
<li><a href="#org9eea234">15.3.8. <code>bitwidth</code></a></li>
<li><a href="#org3bcaa51">15.3.9. <code>case</code></a></li>
<li><a href="#org8b08970">15.3.10. <code>case/dispatch</code></a></li>
<li><a href="#org5bed3d7">15.3.11. <code>cast</code></a></li>
<li><a href="#orgba104b1">15.3.12. <code>compare</code></a></li>
<li><a href="#org6797bf2">15.3.13. <code>copy-byte-shift</code></a></li>
<li><a href="#org5d02b79">15.3.14. <code>copy-byte-shift-left</code></a></li>
<li><a href="#org6ebdbd7">15.3.15. <code>copy-left</code></a></li>
<li><a href="#org7e088d6">15.3.16. <code>copy-right</code></a></li>
<li><a href="#org7b97d89">15.3.17. <code>decr</code></a></li>
<li><a href="#org53aa53d">15.3.18. <code>endian</code></a></li>
<li><a href="#orgbee029f">15.3.19. <code>fold</code></a></li>
<li><a href="#orga3bb730">15.3.20. <code>incr</code></a></li>
<li><a href="#org4a413af">15.3.21. <code>is-in</code></a></li>
<li><a href="#orgc66d265">15.3.22. <code>make-copy</code></a></li>
<li><a href="#org29f9670">15.3.23. <code>max</code></a></li>
<li><a href="#org7f3c67d">15.3.24. <code>min</code></a></li>
<li><a href="#org6e776c3">15.3.25. <code>non-zero</code></a></li>
<li><a href="#orgf70ff4c">15.3.26. <code>nth-byte-of-word</code></a></li>
<li><a href="#org79104a2">15.3.27. <code>or</code></a></li>
<li><a href="#org082b727">15.3.28. <code>points-to</code></a></li>
<li><a href="#org5b60c3a">15.3.29. <code>ptr+</code></a></li>
<li><a href="#orge2548d8">15.3.30. <code>ptr+1</code></a></li>
<li><a href="#org9b17546">15.3.31. <code>read-word</code></a></li>
<li><a href="#org92a4fb5">15.3.32. <code>set$</code></a></li>
<li><a href="#org94da27d">15.3.33. <code>sign</code></a></li>
<li><a href="#orgedbfb21">15.3.34. <code>sizeof</code></a></li>
<li><a href="#org79a3499">15.3.35. <code>unless</code></a></li>
<li><a href="#orge9a0ab4">15.3.36. <code>until</code></a></li>
<li><a href="#org03154a3">15.3.37. <code>when</code></a></li>
<li><a href="#org6155b80">15.3.38. <code>write-word</code></a></li>
</ul>
</li>
<li><a href="#org2e9452a">15.4. Primitives</a>
<ul>
<li><a href="#org5ce6c31">15.4.1. <code>*</code></a></li>
<li><a href="#orge4cb572">15.4.2. <code>+</code></a></li>
<li><a href="#orgc21e878">15.4.3. <code>-</code></a></li>
<li><a href="#org838b0af">15.4.4. <code>/</code></a></li>
<li><a href="#orgd605cf7">15.4.5. <code>/=</code></a></li>
<li><a href="#org35d80e3">15.4.6. <code>&lt;</code></a></li>
<li><a href="#orge571ede">15.4.7. <code>&lt;=</code></a></li>
<li><a href="#orgc54e908">15.4.8. <code>=</code></a></li>
<li><a href="#orge62fb83">15.4.9. <code>&gt;</code></a></li>
<li><a href="#org10405e6">15.4.10. <code>&gt;=</code></a></li>
<li><a href="#orgd56a2d3">15.4.11. <code>alias-base-register</code></a></li>
<li><a href="#orgebfe1c8">15.4.12. <code>arshift</code></a></li>
<li><a href="#orgd17d574">15.4.13. <code>cast-high</code></a></li>
<li><a href="#orgad856a3">15.4.14. <code>cast-low</code></a></li>
<li><a href="#orgddfc965">15.4.15. <code>cast-signed</code></a></li>
<li><a href="#org2d4e463">15.4.16. <code>cast-unsigned</code></a></li>
<li><a href="#org6d086f6">15.4.17. <code>concat</code></a></li>
<li><a href="#org95e99e1">15.4.18. <code>exec-addr</code></a></li>
<li><a href="#org6ce64f1">15.4.19. <code>extract</code></a></li>
<li><a href="#orge49ae1b">15.4.20. <code>get-current-program-counter</code></a></li>
<li><a href="#org8ea9c0f">15.4.21. <code>get-program-counter</code></a></li>
<li><a href="#org52920c6">15.4.22. <code>goto-subinstruction</code></a></li>
<li><a href="#org7a1a93a">15.4.23. <code>is-negative</code></a></li>
<li><a href="#orgb4a6624">15.4.24. <code>is-positive</code></a></li>
<li><a href="#org630cf7d">15.4.25. <code>is-symbol</code></a></li>
<li><a href="#org197f4c8">15.4.26. <code>is-zero</code></a></li>
<li><a href="#org8915ccb">15.4.27. <code>lnot</code></a></li>
<li><a href="#org55a3a24">15.4.28. <code>load-bits</code></a></li>
<li><a href="#orgcecc93e">15.4.29. <code>load-byte</code></a></li>
<li><a href="#org4aa4e64">15.4.30. <code>load-dword</code></a></li>
<li><a href="#orgc71142c">15.4.31. <code>load-hword</code></a></li>
<li><a href="#org03f9579">15.4.32. <code>load-qword</code></a></li>
<li><a href="#orga72c7dc">15.4.33. <code>load-word</code></a></li>
<li><a href="#orgdf150b8">15.4.34. <code>logand</code></a></li>
<li><a href="#orgaa115de">15.4.35. <code>logor</code></a></li>
<li><a href="#orgba24cc8">15.4.36. <code>logxor</code></a></li>
<li><a href="#orgf34e4a8">15.4.37. <code>lshift</code></a></li>
<li><a href="#org69b609f">15.4.38. <code>memory-read</code></a></li>
<li><a href="#orgb04ff4c">15.4.39. <code>memory-write</code></a></li>
<li><a href="#org2d52107">15.4.40. <code>mod</code></a></li>
<li><a href="#org401facc">15.4.41. <code>neg</code></a></li>
<li><a href="#orgbd332d4">15.4.42. <code>not</code></a></li>
<li><a href="#org644dad4">15.4.43. <code>nth</code></a></li>
<li><a href="#orga106241">15.4.44. <code>rshift</code></a></li>
<li><a href="#orgbef102c">15.4.45. <code>s/</code></a></li>
<li><a href="#org562231d">15.4.46. <code>s&lt;</code></a></li>
<li><a href="#orgc90ea26">15.4.47. <code>s&lt;=</code></a></li>
<li><a href="#org053865e">15.4.48. <code>s&gt;</code></a></li>
<li><a href="#orgdbcd3dc">15.4.49. <code>s&gt;=</code></a></li>
<li><a href="#org4fb3f21">15.4.50. <code>select</code></a></li>
<li><a href="#orgeb89d60">15.4.51. <code>set-symbol-value</code></a></li>
<li><a href="#org01b4ef4">15.4.52. <code>signed-mod</code></a></li>
<li><a href="#org4c6bb3d">15.4.53. <code>store-byte</code></a></li>
<li><a href="#orgaf3a9d8">15.4.54. <code>store-word</code></a></li>
<li><a href="#org2c5d166">15.4.55. <code>symbol</code></a></li>
<li><a href="#org5cfcc6b">15.4.56. <code>word-width</code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orge7418e3" class="outline-2">
<h2 id="orge7418e3"><span class="section-number-2">1.</span> Packages</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li><a href="#orgfcc5981">aarch64</a></li>
<li><a href="#org24b6917">arm</a></li>
<li><a href="#orgfa4426d">bap</a></li>
<li><a href="#org0a8d349">core</a></li>
<li><a href="#org2448cde">llvm-aarch64</a></li>
<li><a href="#org8948e44">llvm-riscv32</a></li>
<li><a href="#org73babfc">llvm-riscv64</a></li>
<li><a href="#org452fede">llvm-thumb</a></li>
<li><a href="#orgbd09ec2">pcode</a></li>
<li><a href="#org23a7923">posix</a></li>
<li><a href="#org9260da5">primus</a></li>
<li><a href="#orgc1f75fe">riscv</a></li>
<li><a href="#org871be3b">thumb</a></li>
<li><a href="#orgd222d39">user</a></li>
</ul>
</div>
</div>
<div id="outline-container-orgfcc5981" class="outline-2">
<h2 id="orgfcc5981"><span class="section-number-2">2.</span> Package <code>aarch64</code></h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org9bdbdc0" class="outline-3">
<h3 id="org9bdbdc0"><span class="section-number-3">2.1.</span> Constants</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-org3a1c0e9" class="outline-4">
<h4 id="org3a1c0e9"><span class="section-number-4">2.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-2-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org0fff1a0" class="outline-4">
<h4 id="org0fff1a0"><span class="section-number-4">2.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-2-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org92e446e" class="outline-4">
<h4 id="org92e446e"><span class="section-number-4">2.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-2-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf20ea53" class="outline-3">
<h3 id="orgf20ea53"><span class="section-number-3">2.2.</span> Functions</h3>
<div class="outline-text-3" id="text-2-2">
</div>
<div id="outline-container-orga019de5" class="outline-4">
<h4 id="orga019de5"><span class="section-number-4">2.2.1.</span> <code>ADDWri</code></h4>
<div class="outline-text-4" id="text-2-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 108, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDWri</span> (dst r1 imm s)
  (setw dst (+ r1 (lshift imm s))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org36f7959" class="outline-4">
<h4 id="org36f7959"><span class="section-number-4">2.2.2.</span> <code>ADDWrs</code></h4>
<div class="outline-text-4" id="text-2-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 102, characters 0-60</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDWrs</span> (dst r1 v s)
  (setw dst (+ r1 (lshift v s))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb3432e0" class="outline-4">
<h4 id="orgb3432e0"><span class="section-number-4">2.2.3.</span> <code>ADDXri</code></h4>
<div class="outline-text-4" id="text-2-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 29, characters 0-70</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDXri</span> (dst src imm off)
  (set$ dst (+ src (lshift imm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org44201a9" class="outline-4">
<h4 id="org44201a9"><span class="section-number-4">2.2.4.</span> <code>ADDXrs</code></h4>
<div class="outline-text-4" id="text-2-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 139, characters 0-65</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDXrs</span> (rd rn rm off)
  (set$ rd (+ rn (shifted rm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1244804" class="outline-4">
<h4 id="org1244804"><span class="section-number-4">2.2.5.</span> <code>ADRP</code></h4>
<div class="outline-text-4" id="text-2-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 97, characters 0-148</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADRP</span> (dst imm)
  (set$ dst (+
             (logand (get-program-counter) (lshift -1 12))
             (cast-signed (word) (lshift imm 12)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2731ce5" class="outline-4">
<h4 id="org2731ce5"><span class="section-number-4">2.2.6.</span> <code>ANDWri</code></h4>
<div class="outline-text-4" id="text-2-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 93, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ANDWri</span> (dst rn imm)
  (setw dst (logand rn imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org88a55f4" class="outline-4">
<h4 id="org88a55f4"><span class="section-number-4">2.2.7.</span> <code>ANDWrs</code></h4>
<div class="outline-text-4" id="text-2-2-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 87, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ANDWrs</span> (rd rn rm is) (log*?rs setw logand rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb7ce992" class="outline-4">
<h4 id="orgb7ce992"><span class="section-number-4">2.2.8.</span> <code>ANDXrs</code></h4>
<div class="outline-text-4" id="text-2-2-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 90, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ANDXrs</span> (rd rn rm is) (log*?rs set$ logand rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7db322a" class="outline-4">
<h4 id="org7db322a"><span class="section-number-4">2.2.9.</span> <code>B</code></h4>
<div class="outline-text-4" id="text-2-2-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 227, characters 0-37</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">B</span> (off)
  (relative-jump off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7feb45e" class="outline-4">
<h4 id="org7feb45e"><span class="section-number-4">2.2.10.</span> <code>BL</code></h4>
<div class="outline-text-4" id="text-2-2-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 216, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BL</span> (off)
  (set LR (+ (get-program-counter) 4))
  (relative-jump off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf212bd8" class="outline-4">
<h4 id="orgf212bd8"><span class="section-number-4">2.2.11.</span> <code>BLR</code></h4>
<div class="outline-text-4" id="text-2-2-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 223, characters 0-74</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BLR</span> (reg)
  (set LR (+ (get-program-counter) 4))
  (exec-addr reg))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc6c8e3e" class="outline-4">
<h4 id="orgc6c8e3e"><span class="section-number-4">2.2.12.</span> <code>BR</code></h4>
<div class="outline-text-4" id="text-2-2-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 220, characters 0-34</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BR</span> (reg)
  (exec-addr reg))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2213850" class="outline-4">
<h4 id="org2213850"><span class="section-number-4">2.2.13.</span> <code>Bcc</code></h4>
<div class="outline-text-4" id="text-2-2-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 250, characters 0-76</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">Bcc</span> (cnd off)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (relative-jump off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org67474b7" class="outline-4">
<h4 id="org67474b7"><span class="section-number-4">2.2.14.</span> <code>CBNZW</code></h4>
<div class="outline-text-4" id="text-2-2-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 246, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">CBNZW</span> (reg off)
  (<span style="color: #00ffff;">when</span> (/= reg 0)
    (relative-jump off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6ed8d92" class="outline-4">
<h4 id="org6ed8d92"><span class="section-number-4">2.2.15.</span> <code>CBNZX</code></h4>
<div class="outline-text-4" id="text-2-2-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 242, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">CBNZX</span> (reg off)
  (<span style="color: #00ffff;">when</span> (/= reg 0)
    (relative-jump off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org71fd2ca" class="outline-4">
<h4 id="org71fd2ca"><span class="section-number-4">2.2.16.</span> <code>CBZW</code></h4>
<div class="outline-text-4" id="text-2-2-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 238, characters 0-69</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">CBZW</span> (reg off)
  (<span style="color: #00ffff;">when</span> (is-zero reg)
    (relative-jump off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc6c41c7" class="outline-4">
<h4 id="orgc6c41c7"><span class="section-number-4">2.2.17.</span> <code>CBZX</code></h4>
<div class="outline-text-4" id="text-2-2-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 234, characters 0-69</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">CBZX</span> (reg off)
  (<span style="color: #00ffff;">when</span> (is-zero reg)
    (relative-jump off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6356781" class="outline-4">
<h4 id="org6356781"><span class="section-number-4">2.2.18.</span> <code>EORWrs</code></h4>
<div class="outline-text-4" id="text-2-2-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 86, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">EORWrs</span> (rd rn rm is) (log*?rs setw logxor rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9d3aefc" class="outline-4">
<h4 id="org9d3aefc"><span class="section-number-4">2.2.19.</span> <code>EORXrs</code></h4>
<div class="outline-text-4" id="text-2-2-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 89, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">EORXrs</span> (rd rn rm is) (log*?rs set$ logxor rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgee362fa" class="outline-4">
<h4 id="orgee362fa"><span class="section-number-4">2.2.20.</span> <code>LDPXi</code></h4>
<div class="outline-text-4" id="text-2-2-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 189, characters 0-153</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDPXi</span> (r1 r2 base off)
  (<span style="color: #00ffff;">let</span> ((off (lshift off 3)))
    (set$ r1 (load-word (+ base off)))
    (set$ r2 (load-word (+ base off (sizeof word))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga52c727" class="outline-4">
<h4 id="orga52c727"><span class="section-number-4">2.2.21.</span> <code>LDPXpost</code></h4>
<div class="outline-text-4" id="text-2-2-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 183, characters 0-175</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDPXpost</span> (dst r1 r2 base off)
  (<span style="color: #00ffff;">let</span> ((off (lshift off 3)))
    (set$ r1 (load-word base))
    (set$ r2 (load-word (+ base (sizeof word))))
    (set$ dst (+ dst off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb0ae0a2" class="outline-4">
<h4 id="orgb0ae0a2"><span class="section-number-4">2.2.22.</span> <code>LDRBBroX</code></h4>
<div class="outline-text-4" id="text-2-2-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 48, characters 0-102</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDRBBroX</span> (dst reg off _ _)
  (set$ dst
        (cast-unsigned (word) (load-byte (+ reg off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgefffeae" class="outline-4">
<h4 id="orgefffeae"><span class="section-number-4">2.2.23.</span> <code>LDRBBui</code></h4>
<div class="outline-text-4" id="text-2-2-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 44, characters 0-97</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDRBBui</span> (dst reg off)
  (setw dst
        (cast-unsigned (word) (load-byte (+ reg off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org42b6835" class="outline-4">
<h4 id="org42b6835"><span class="section-number-4">2.2.24.</span> <code>LDRSWui</code></h4>
<div class="outline-text-4" id="text-2-2-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 35, characters 0-127</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDRSWui</span> (dst base off)
  (set$ dst (cast-signed
             (word)
             (load-hword (+ base (lshift off 2))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org35f005f" class="outline-4">
<h4 id="org35f005f"><span class="section-number-4">2.2.25.</span> <code>LDRWui</code></h4>
<div class="outline-text-4" id="text-2-2-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 40, characters 0-108</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDRWui</span> (dst reg off)
  (setw dst
        (cast-unsigned (word) (load-hword (+ reg (lshift off 2))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org90eab82" class="outline-4">
<h4 id="org90eab82"><span class="section-number-4">2.2.26.</span> <code>LDRXroX</code></h4>
<div class="outline-text-4" id="text-2-2-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 205, characters 0-89</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDRXroX</span> (rt rn rm _ shift)
  (set$ rt (load-word (+ rn (lshift rm (* shift 3))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcbb0d41" class="outline-4">
<h4 id="orgcbb0d41"><span class="section-number-4">2.2.27.</span> <code>LDRXui</code></h4>
<div class="outline-text-4" id="text-2-2-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 32, characters 0-76</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDRXui</span> (dst reg off)
  (set$ dst (load-word (+ reg (lshift off 3)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf6ddf98" class="outline-4">
<h4 id="orgf6ddf98"><span class="section-number-4">2.2.28.</span> <code>MOVKWi</code></h4>
<div class="outline-text-4" id="text-2-2-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 26, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">MOVKWi</span> (dst reg imm off) (MOVK*i dst reg imm off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org448282f" class="outline-4">
<h4 id="org448282f"><span class="section-number-4">2.2.29.</span> <code>MOVKXi</code></h4>
<div class="outline-text-4" id="text-2-2-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 27, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">MOVKXi</span> (dst reg imm off) (MOVK*i dst reg imm off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org44b2846" class="outline-4">
<h4 id="org44b2846"><span class="section-number-4">2.2.30.</span> <code>MOVNWi</code></h4>
<div class="outline-text-4" id="text-2-2-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 19, characters 0-65</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">MOVNWi</span> (dst imm off)
  (setw dst (lnot (lshift imm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd4df023" class="outline-4">
<h4 id="orgd4df023"><span class="section-number-4">2.2.31.</span> <code>MOVZWi</code></h4>
<div class="outline-text-4" id="text-2-2-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 16, characters 0-58</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">MOVZWi</span> (dst imm pos)
  (setw dst (lshift imm pos)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org702bfec" class="outline-4">
<h4 id="org702bfec"><span class="section-number-4">2.2.32.</span> <code>MOVZXi</code></h4>
<div class="outline-text-4" id="text-2-2-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 13, characters 0-58</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">MOVZXi</span> (dst imm pos)
  (set$ dst (lshift imm pos)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org534828d" class="outline-4">
<h4 id="org534828d"><span class="section-number-4">2.2.33.</span> <code>ORNWrs</code></h4>
<div class="outline-text-4" id="text-2-2-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 79, characters 0-54</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ORNWrs</span> (rd rn rm is) (ORN*rs setw rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd3de3b0" class="outline-4">
<h4 id="orgd3de3b0"><span class="section-number-4">2.2.34.</span> <code>ORNXrs</code></h4>
<div class="outline-text-4" id="text-2-2-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 80, characters 0-54</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ORNXrs</span> (rd rn rm is) (ORN*rs set$ rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga13bfa0" class="outline-4">
<h4 id="orga13bfa0"><span class="section-number-4">2.2.35.</span> <code>ORRWrs</code></h4>
<div class="outline-text-4" id="text-2-2-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 85, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ORRWrs</span> (rd rn rm is) (log*?rs setw logor  rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgaf78a5e" class="outline-4">
<h4 id="orgaf78a5e"><span class="section-number-4">2.2.36.</span> <code>ORRXrs</code></h4>
<div class="outline-text-4" id="text-2-2-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 88, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ORRXrs</span> (rd rn rm is) (log*?rs set$ logor  rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga3fbdd0" class="outline-4">
<h4 id="orga3fbdd0"><span class="section-number-4">2.2.37.</span> <code>RET</code></h4>
<div class="outline-text-4" id="text-2-2-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 231, characters 0-35</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">RET</span> (dst)
  (exec-addr dst))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2a0730d" class="outline-4">
<h4 id="org2a0730d"><span class="section-number-4">2.2.38.</span> <code>SBFMWri</code></h4>
<div class="outline-text-4" id="text-2-2-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 73, characters 0-71</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SBFMWri</span> (xd xr ir is)
  (make-BFM setw cast-signed xd xr ir is))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4d51c61" class="outline-4">
<h4 id="org4d51c61"><span class="section-number-4">2.2.39.</span> <code>SBFMXri</code></h4>
<div class="outline-text-4" id="text-2-2-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 70, characters 0-71</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SBFMXri</span> (xd xr ir is)
  (make-BFM set$ cast-signed xd xr ir is))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbb86d14" class="outline-4">
<h4 id="orgbb86d14"><span class="section-number-4">2.2.40.</span> <code>STPXi</code></h4>
<div class="outline-text-4" id="text-2-2-40">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 178, characters 0-145</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">STPXi</span> (t1 t2 base off)
  (<span style="color: #00ffff;">let</span> ((off (lshift off 4)))
    (store-word base (+ base off))
    (store-word base (+ base off (sizeof word)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7a3ea98" class="outline-4">
<h4 id="org7a3ea98"><span class="section-number-4">2.2.41.</span> <code>STPXpre</code></h4>
<div class="outline-text-4" id="text-2-2-41">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 172, characters 0-169</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">STPXpre</span> (dst t1 t2 _ off)
  (<span style="color: #00ffff;">let</span> ((off (lshift off 3)))
    (store-word (+ dst off) t1)
    (store-word (+ dst off (sizeof word)) t2)
    (set$ dst (+ dst off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge5bfd85" class="outline-4">
<h4 id="orge5bfd85"><span class="section-number-4">2.2.42.</span> <code>STRBBui</code></h4>
<div class="outline-text-4" id="text-2-2-42">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 210, characters 0-60</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">STRBBui</span> (src reg off)
  (store-byte (+ reg off) src))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcfdf2fe" class="outline-4">
<h4 id="orgcfdf2fe"><span class="section-number-4">2.2.43.</span> <code>STRWui</code></h4>
<div class="outline-text-4" id="text-2-2-43">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 198, characters 0-106</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">STRWui</span> (src reg off)
  (<span style="color: #00ffff;">let</span> ((off (lshift off 2)))
    (store-word (+ reg off) (cast-low 32 src))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbcae8cd" class="outline-4">
<h4 id="orgbcae8cd"><span class="section-number-4">2.2.44.</span> <code>STRXroX</code></h4>
<div class="outline-text-4" id="text-2-2-44">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 202, characters 0-83</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">STRXroX</span> (rt rn rm _ shift)
  (store-word (+ rn (lshift rm (* shift 3))) rt))

</pre>
</div>
</div>
</div>

<div id="outline-container-org38a4d06" class="outline-4">
<h4 id="org38a4d06"><span class="section-number-4">2.2.45.</span> <code>STRXui</code></h4>
<div class="outline-text-4" id="text-2-2-45">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 194, characters 0-92</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">STRXui</span> (src reg off)
  (<span style="color: #00ffff;">let</span> ((off (lshift off 3)))
    (store-word (+ reg off) src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org34453d3" class="outline-4">
<h4 id="org34453d3"><span class="section-number-4">2.2.46.</span> <code>SUBSWri</code></h4>
<div class="outline-text-4" id="text-2-2-46">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 123, characters 0-93</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBSWri</span> (rd rn imm off)
  (add-with-carry/clear-base rd rn (lnot (lshift imm off)) 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf1ac3f3" class="outline-4">
<h4 id="orgf1ac3f3"><span class="section-number-4">2.2.47.</span> <code>SUBSWrs</code></h4>
<div class="outline-text-4" id="text-2-2-47">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 118, characters 0-98</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBSWrs</span> (rd rn rm off)
  (add-with-carry/clear-base
   rd
   rn (lnot (shifted rm off)) 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5c12a77" class="outline-4">
<h4 id="org5c12a77"><span class="section-number-4">2.2.48.</span> <code>SUBSXri</code></h4>
<div class="outline-text-4" id="text-2-2-48">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 127, characters 0-82</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBSXri</span> (rd rn imm off)
  (add-with-carry rd rn (lnot (lshift imm off)) 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgaa31077" class="outline-4">
<h4 id="orgaa31077"><span class="section-number-4">2.2.49.</span> <code>SUBSXrs</code></h4>
<div class="outline-text-4" id="text-2-2-49">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 115, characters 0-81</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBSXrs</span> (rd rn rm off)
  (add-with-carry rd rn (lnot (shifted rm off)) 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgeede73a" class="outline-4">
<h4 id="orgeede73a"><span class="section-number-4">2.2.50.</span> <code>SUBWri</code></h4>
<div class="outline-text-4" id="text-2-2-50">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 136, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBWri</span> (rd rn imm off)
  (setw rd (- rn (lshift imm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga5bb931" class="outline-4">
<h4 id="orga5bb931"><span class="section-number-4">2.2.51.</span> <code>SUBWrs</code></h4>
<div class="outline-text-4" id="text-2-2-51">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 105, characters 0-60</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBWrs</span> (dst r1 v s)
  (setw dst (- r1 (lshift v s))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org98defb1" class="outline-4">
<h4 id="org98defb1"><span class="section-number-4">2.2.52.</span> <code>SUBXri</code></h4>
<div class="outline-text-4" id="text-2-2-52">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 133, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBXri</span> (rd rn imm off)
  (set$ rd (- rn (lshift imm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4d1e75d" class="outline-4">
<h4 id="org4d1e75d"><span class="section-number-4">2.2.53.</span> <code>SUBXrs</code></h4>
<div class="outline-text-4" id="text-2-2-53">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 130, characters 0-65</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBXrs</span> (rd rn rm off)
  (set$ rd (- rn (shifted rm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8f31b1b" class="outline-4">
<h4 id="org8f31b1b"><span class="section-number-4">2.2.54.</span> <code>SUBXrx64</code></h4>
<div class="outline-text-4" id="text-2-2-54">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 112, characters 0-68</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBXrx64</span> (rd rn rm off)
  (set$ rd (- rn (extended rm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9ed44fe" class="outline-4">
<h4 id="org9ed44fe"><span class="section-number-4">2.2.55.</span> <code>UBFMWri</code></h4>
<div class="outline-text-4" id="text-2-2-55">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 67, characters 0-73</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">UBFMWri</span> (xd xr ir is)
  (make-BFM setw cast-unsigned xd xr ir is))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9537e5d" class="outline-4">
<h4 id="org9537e5d"><span class="section-number-4">2.2.56.</span> <code>UBFMXri</code></h4>
<div class="outline-text-4" id="text-2-2-56">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 64, characters 0-73</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">UBFMXri</span> (xd xr ir is)
  (make-BFM set$ cast-unsigned xd xr ir is))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5ab5996" class="outline-4">
<h4 id="org5ab5996"><span class="section-number-4">2.2.57.</span> <code>add-with-carry</code></h4>
<div class="outline-text-4" id="text-2-2-57">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 12, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry</span> (rd x y c)
  (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
    (set-flags r x y)
    (set$ rd r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4c8f2be" class="outline-4">
<h4 id="org4c8f2be"><span class="section-number-4">2.2.58.</span> <code>add-with-carry/clear-base</code></h4>
<div class="outline-text-4" id="text-2-2-58">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 17, characters 0-126</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry/clear-base</span> (rd x y c)
  (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
    (set-flags r y x)
    (clear-base rd)
    (set$ rd r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd6d8287" class="outline-4">
<h4 id="orgd6d8287"><span class="section-number-4">2.2.59.</span> <code>add-with-carry/it-block</code></h4>
<div class="outline-text-4" id="text-2-2-59">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 23, characters 0-183</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry/it-block</span> (rd x y c cnd)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
      (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
        (set-flags r x y))
      (set$ rd r))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4c1bb75" class="outline-4">
<h4 id="org4c1bb75"><span class="section-number-4">2.2.60.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-2-2-60">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5132531" class="outline-4">
<h4 id="org5132531"><span class="section-number-4">2.2.61.</span> <code>clear-base</code></h4>
<div class="outline-text-4" id="text-2-2-61">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 63, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">clear-base</span> (reg)
  (set$ (alias-base-register reg) 0))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6e00fea" class="outline-4">
<h4 id="org6e00fea"><span class="section-number-4">2.2.62.</span> <code>condition-holds</code></h4>
<div class="outline-text-4" id="text-2-2-62">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 42, characters 0-372</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">condition-holds</span> (cnd)
  (<span style="color: #00ffff;">case</span> cnd
    0b0000 ZF
    0b0001 (lnot ZF)
    0b0010 CF
    0b0010 (lnot CF)
    0b0100 NF
    0b0101 (lnot NF)
    0b0110 VF
    0b0111 (lnot VF)
    0b1000 (logand CF (lnot ZF))
    0b1001 (logor (lnot CF) ZF)
    0b1010 (= NF VF)
    0b1011 (/= NF VF)
    0b1100 (logand (= NF VF) (lnot ZF))
    0b1101 (logor (/= NF VF) ZF)
    true))

</pre>
</div>
</div>
</div>

<div id="outline-container-org649bbb1" class="outline-4">
<h4 id="org649bbb1"><span class="section-number-4">2.2.63.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-2-2-63">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org01cbb9b" class="outline-4">
<h4 id="org01cbb9b"><span class="section-number-4">2.2.64.</span> <code>extended</code></h4>
<div class="outline-text-4" id="text-2-2-64">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 157, characters 0-470</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">extended</span> (rm bits)
  (<span style="color: #00ffff;">declare</span> (visibility <span style="color: #b0c4de;">:private</span>))
  (<span style="color: #00ffff;">let</span> ((typ (extract 5 3 bits))
        (off (extract 2 0 bits)))
    (lshift (<span style="color: #00ffff;">case</span> typ
              0b000 (unsigned-extend 8 rm)
              0b001 (unsigned-extend 16 rm)
              0b010 (unsigned-extend 32 rm)
              0b011 rm
              0b100 (signed-extend 8 rm)
              0b101 (signed-extend 16 rm)
              0b110 (signed-extend 32 rm)
              0b111 rm)
            off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga685b95" class="outline-4">
<h4 id="orga685b95"><span class="section-number-4">2.2.65.</span> <code>is-unconditional</code></h4>
<div class="outline-text-4" id="text-2-2-65">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 60, characters 0-47</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">is-unconditional</span> (cnd)
  (= cnd 0b1110))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfdd96b7" class="outline-4">
<h4 id="orgfdd96b7"><span class="section-number-4">2.2.66.</span> <code>logandnot</code></h4>
<div class="outline-text-4" id="text-2-2-66">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 30, characters 0-49</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">logandnot</span> (rd rn)
  (logand rd (lnot rn)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org18584c3" class="outline-4">
<h4 id="org18584c3"><span class="section-number-4">2.2.67.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-2-2-67">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgccbe646" class="outline-4">
<h4 id="orgccbe646"><span class="section-number-4">2.2.68.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-2-2-68">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6b59f14" class="outline-4">
<h4 id="org6b59f14"><span class="section-number-4">2.2.69.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-2-2-69">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org902ddab" class="outline-4">
<h4 id="org902ddab"><span class="section-number-4">2.2.70.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-2-2-70">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5c2091a" class="outline-4">
<h4 id="org5c2091a"><span class="section-number-4">2.2.71.</span> <code>relative-jump</code></h4>
<div class="outline-text-4" id="text-2-2-71">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 213, characters 0-82</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">relative-jump</span> (off)
  (exec-addr (+ (get-program-counter) (lshift off 2))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2f01b49" class="outline-4">
<h4 id="org2f01b49"><span class="section-number-4">2.2.72.</span> <code>set-flags</code></h4>
<div class="outline-text-4" id="text-2-2-72">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 6, characters 0-120</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">set-flags</span> (r x y)
  (set NF (msb r))
  (set VF (overflow r x y))
  (set ZF (is-zero r))
  (set CF (carry r x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org06cdc6a" class="outline-4">
<h4 id="org06cdc6a"><span class="section-number-4">2.2.73.</span> <code>shifted</code></h4>
<div class="outline-text-4" id="text-2-2-73">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 142, characters 0-221</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">shifted</span> (rm off)
  (<span style="color: #00ffff;">declare</span> (visibility <span style="color: #b0c4de;">:private</span>))
  (<span style="color: #00ffff;">let</span> ((typ (extract 7 6 off))
        (off (extract 5 0 off)))
    (<span style="color: #00ffff;">case</span> typ
      0b00 (lshift rm off)
      0b01 (rshift rm off)
      0b10 (arshift rm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8d5e31e" class="outline-4">
<h4 id="org8d5e31e"><span class="section-number-4">2.2.74.</span> <code>signed-extend</code></h4>
<div class="outline-text-4" id="text-2-2-74">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 154, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">signed-extend</span> (n rm)
  (cast-signed (word) (cast-low n rm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org61e1ad3" class="outline-4">
<h4 id="org61e1ad3"><span class="section-number-4">2.2.75.</span> <code>unsigned-extend</code></h4>
<div class="outline-text-4" id="text-2-2-75">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 151, characters 0-71</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">unsigned-extend</span> (n rm)
  (cast-unsigned (word) (cast-low n rm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc2092b5" class="outline-4">
<h4 id="orgc2092b5"><span class="section-number-4">2.2.76.</span> <code>word</code></h4>
<div class="outline-text-4" id="text-2-2-76">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 11, characters 0-28</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">word</span> () (word-width))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org86d5f02" class="outline-3">
<h3 id="org86d5f02"><span class="section-number-3">2.3.</span> Macros</h3>
<div class="outline-text-3" id="text-2-3">
</div>
<div id="outline-container-org7d3e68b" class="outline-4">
<h4 id="org7d3e68b"><span class="section-number-4">2.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-2-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org78fa81e" class="outline-4">
<h4 id="org78fa81e"><span class="section-number-4">2.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-2-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8963770" class="outline-4">
<h4 id="org8963770"><span class="section-number-4">2.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-2-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd669e55" class="outline-4">
<h4 id="orgd669e55"><span class="section-number-4">2.3.4.</span> <code>MOVK*i</code></h4>
<div class="outline-text-4" id="text-2-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 22, characters 0-150</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">MOVK*i</span> (dst reg imm off)
  (<span style="color: #00ffff;">let</span> ((mask (lnot (lshift (- (lshift 1 16) 1) off))))
    (set$ dst (logor (logand reg mask) (lshift imm off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5ba147d" class="outline-4">
<h4 id="org5ba147d"><span class="section-number-4">2.3.5.</span> <code>ORN*rs</code></h4>
<div class="outline-text-4" id="text-2-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 76, characters 0-79</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ORN*rs</span> (set rd rn rm is)
  (set rd (logor rn (lnot (lshift rm is)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd5ffd2d" class="outline-4">
<h4 id="orgd5ffd2d"><span class="section-number-4">2.3.6.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-2-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 106, characters 0-194</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x)
  <span style="color: #ffa07a;">"(and X Y ...) evaluates expressions X,Y,... until the first</span>
<span style="color: #ffa07a;">  expression that returns false. The value of the whole form is the</span>
<span style="color: #ffa07a;">  value of the last evaluated expression."</span> x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org32d6c56" class="outline-4">
<h4 id="org32d6c56"><span class="section-number-4">2.3.7.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-2-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org588b410" class="outline-4">
<h4 id="org588b410"><span class="section-number-4">2.3.8.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-2-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3168d15" class="outline-4">
<h4 id="org3168d15"><span class="section-number-4">2.3.9.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-2-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org316b041" class="outline-4">
<h4 id="org316b041"><span class="section-number-4">2.3.10.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-2-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1208fc8" class="outline-4">
<h4 id="org1208fc8"><span class="section-number-4">2.3.11.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-2-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgaac270b" class="outline-4">
<h4 id="orgaac270b"><span class="section-number-4">2.3.12.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-2-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 164, characters 0-32</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org708b6e3" class="outline-4">
<h4 id="org708b6e3"><span class="section-number-4">2.3.13.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-2-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd1fdafd" class="outline-4">
<h4 id="orgd1fdafd"><span class="section-number-4">2.3.14.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-2-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org85c2dcd" class="outline-4">
<h4 id="org85c2dcd"><span class="section-number-4">2.3.15.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-2-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc3201f3" class="outline-4">
<h4 id="orgc3201f3"><span class="section-number-4">2.3.16.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-2-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1a6bf6f" class="outline-4">
<h4 id="org1a6bf6f"><span class="section-number-4">2.3.17.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-2-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7d6bc27" class="outline-4">
<h4 id="org7d6bc27"><span class="section-number-4">2.3.18.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-2-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd3a2472" class="outline-4">
<h4 id="orgd3a2472"><span class="section-number-4">2.3.19.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-2-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 100, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x)
  <span style="color: #ffa07a;">"(decr X Y ...) decrements the value bound with the variables X, Y, ..."</span>
  (set x (-1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb2606d7" class="outline-4">
<h4 id="orgb2606d7"><span class="section-number-4">2.3.20.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-2-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 16, characters 0-154</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F Y X) if applied</span>
<span style="color: #ffa07a;">   in the little endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian little)))
  (f y x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org839eee5" class="outline-4">
<h4 id="org839eee5"><span class="section-number-4">2.3.21.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-2-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 148, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x)
  <span style="color: #ffa07a;">"(fold F A X Y ...) expands to (F (F A X) Y) ..."</span>
  (f a x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga369dda" class="outline-4">
<h4 id="orga369dda"><span class="section-number-4">2.3.22.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-2-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 93, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x)
  <span style="color: #ffa07a;">"(incr X Y ...) increments the value bound with the variables X, Y, ..."</span>
  (set x (+1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org59739d9" class="outline-4">
<h4 id="org59739d9"><span class="section-number-4">2.3.23.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-2-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 142, characters 0-102</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y)
  <span style="color: #ffa07a;">"(is-in X A B C ...) returns true if X is equal A or B or C or ..."</span>
  (= x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-org57c39cb" class="outline-4">
<h4 id="org57c39cb"><span class="section-number-4">2.3.24.</span> <code>log*?rs</code></h4>
<div class="outline-text-4" id="text-2-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 82, characters 0-74</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">log*?rs</span> (set op rd rn rm is)
  (set rd (op rn (shifted rm is))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd25b8ef" class="outline-4">
<h4 id="orgd25b8ef"><span class="section-number-4">2.3.25.</span> <code>make-BFM</code></h4>
<div class="outline-text-4" id="text-2-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 52, characters 0-405</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-BFM</span> (set cast xd xr ir is)
  (<span style="color: #00ffff;">let</span> ((rs (word)))
    (<span style="color: #00ffff;">if</span> (&lt; is ir)
        (<span style="color: #00ffff;">if</span> (and (/= is (- rs 1)) (= (+ is 1) ir))
            (set xd (lshift xr (- rs ir)))
            (set xd (lshift
                      (cast rs (extract is 0 xr))
                      (- rs ir))))
        (<span style="color: #00ffff;">if</span> (= is (- rs 1))
            (set xd (rshift xr ir))
            (set xd (cast rs (extract is ir xr)))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb0b5daf" class="outline-4">
<h4 id="orgb0b5daf"><span class="section-number-4">2.3.26.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-2-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb7eb0a7" class="outline-4">
<h4 id="orgb7eb0a7"><span class="section-number-4">2.3.27.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-2-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 158, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x)
  <span style="color: #ffa07a;">"(max X Y ...) returns the upper bound of the (X,Y,...) set"</span>
  x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgef1637e" class="outline-4">
<h4 id="orgef1637e"><span class="section-number-4">2.3.28.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-2-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 153, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x)
  <span style="color: #ffa07a;">"(min X Y ...) returns the lower bound of the (X,Y,...) set"</span>
      x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdb72a0d" class="outline-4">
<h4 id="orgdb72a0d"><span class="section-number-4">2.3.29.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-2-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3090d29" class="outline-4">
<h4 id="org3090d29"><span class="section-number-4">2.3.30.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-2-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd4d5925" class="outline-4">
<h4 id="orgd4d5925"><span class="section-number-4">2.3.31.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-2-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 113, characters 0-346</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x xs)
  <span style="color: #ffa07a;">"(or &lt;expr&gt; ...) evaluates a sequence of expressions EXPR from left</span>
<span style="color: #ffa07a;">   to right until it meets the first expression that evaluates to the</span>
<span style="color: #ffa07a;">   truth value, that will become the value of the whole form. If no</span>
<span style="color: #ffa07a;">   expression returned the truth value, then the result of the whole</span>
<span style="color: #ffa07a;">   form is 0:1"</span>
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r r (or xs))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgac05b57" class="outline-4">
<h4 id="orgac05b57"><span class="section-number-4">2.3.32.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-2-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org09632f8" class="outline-4">
<h4 id="org09632f8"><span class="section-number-4">2.3.33.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-2-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbf0f02e" class="outline-4">
<h4 id="orgbf0f02e"><span class="section-number-4">2.3.34.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-2-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgadccf42" class="outline-4">
<h4 id="orgadccf42"><span class="section-number-4">2.3.35.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-2-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc2752a4" class="outline-4">
<h4 id="orgc2752a4"><span class="section-number-4">2.3.36.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-2-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc85301" class="outline-4">
<h4 id="orgfc85301"><span class="section-number-4">2.3.37.</span> <code>setw</code></h4>
<div class="outline-text-4" id="text-2-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 66, characters 0-147</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">setw</span> (reg val)
  <span style="color: #ffa07a;">"(set Wx V) sets a Wx register clearing the upper 32 bits."</span>
  (<span style="color: #00ffff;">let</span> ((res val))
    (clear-base reg)
    (set$ reg res)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org38022d7" class="outline-4">
<h4 id="org38022d7"><span class="section-number-4">2.3.38.</span> <code>shift-with-carry</code></h4>
<div class="outline-text-4" id="text-2-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 33, characters 0-273</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">shift-with-carry</span> (shift rd rn rm cnd)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (<span style="color: #00ffff;">let</span> ((r (cast-signed (word-width) rn)))
      (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
        (set CF (msb r))
        (set$ rd (shift r rm))
        (set ZF (is-zero rd))
        (set NF (msb rd))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org24c2861" class="outline-4">
<h4 id="org24c2861"><span class="section-number-4">2.3.39.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-2-3-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org78154fa" class="outline-4">
<h4 id="org78154fa"><span class="section-number-4">2.3.40.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-2-3-40">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-org020c3fd" class="outline-4">
<h4 id="org020c3fd"><span class="section-number-4">2.3.41.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-2-3-41">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf39e0a9" class="outline-4">
<h4 id="orgf39e0a9"><span class="section-number-4">2.3.42.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-2-3-42">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6f880ff" class="outline-4">
<h4 id="org6f880ff"><span class="section-number-4">2.3.43.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-2-3-43">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga865964" class="outline-4">
<h4 id="orga865964"><span class="section-number-4">2.3.44.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-2-3-44">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc83c907" class="outline-3">
<h3 id="orgc83c907"><span class="section-number-3">2.4.</span> Primitives</h3>
<div class="outline-text-3" id="text-2-4">
</div>
<div id="outline-container-org8dcdeaf" class="outline-4">
<h4 id="org8dcdeaf"><span class="section-number-4">2.4.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-2-4-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-org562d57e" class="outline-4">
<h4 id="org562d57e"><span class="section-number-4">2.4.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-2-4-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-org50f9ea3" class="outline-4">
<h4 id="org50f9ea3"><span class="section-number-4">2.4.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-2-4-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-org556a785" class="outline-4">
<h4 id="org556a785"><span class="section-number-4">2.4.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-2-4-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-org8ec4021" class="outline-4">
<h4 id="org8ec4021"><span class="section-number-4">2.4.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-2-4-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-org33d8754" class="outline-4">
<h4 id="org33d8754"><span class="section-number-4">2.4.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-2-4-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-org6e7da23" class="outline-4">
<h4 id="org6e7da23"><span class="section-number-4">2.4.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-2-4-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-org6326049" class="outline-4">
<h4 id="org6326049"><span class="section-number-4">2.4.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-2-4-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-orgf1d583a" class="outline-4">
<h4 id="orgf1d583a"><span class="section-number-4">2.4.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-2-4-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-org1ddc5d8" class="outline-4">
<h4 id="org1ddc5d8"><span class="section-number-4">2.4.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-2-4-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-org91af516" class="outline-4">
<h4 id="org91af516"><span class="section-number-4">2.4.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-2-4-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-org8640f2f" class="outline-4">
<h4 id="org8640f2f"><span class="section-number-4">2.4.12.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-2-4-12">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org7189e2d" class="outline-4">
<h4 id="org7189e2d"><span class="section-number-4">2.4.13.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-2-4-13">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-org510e58b" class="outline-4">
<h4 id="org510e58b"><span class="section-number-4">2.4.14.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-2-4-14">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-org162add4" class="outline-4">
<h4 id="org162add4"><span class="section-number-4">2.4.15.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-2-4-15">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-orgefca7e7" class="outline-4">
<h4 id="orgefca7e7"><span class="section-number-4">2.4.16.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-2-4-16">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org4e192bf" class="outline-4">
<h4 id="org4e192bf"><span class="section-number-4">2.4.17.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-2-4-17">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-org70add4c" class="outline-4">
<h4 id="org70add4c"><span class="section-number-4">2.4.18.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-2-4-18">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-orgc2b94ca" class="outline-4">
<h4 id="orgc2b94ca"><span class="section-number-4">2.4.19.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-2-4-19">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-org836a3c9" class="outline-4">
<h4 id="org836a3c9"><span class="section-number-4">2.4.20.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-2-4-20">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-orgdc2711d" class="outline-4">
<h4 id="orgdc2711d"><span class="section-number-4">2.4.21.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-2-4-21">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-org418f53e" class="outline-4">
<h4 id="org418f53e"><span class="section-number-4">2.4.22.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-2-4-22">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-org768858e" class="outline-4">
<h4 id="org768858e"><span class="section-number-4">2.4.23.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-2-4-23">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-orged3a693" class="outline-4">
<h4 id="orged3a693"><span class="section-number-4">2.4.24.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-2-4-24">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-orgc4189ef" class="outline-4">
<h4 id="orgc4189ef"><span class="section-number-4">2.4.25.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-2-4-25">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-org112f738" class="outline-4">
<h4 id="org112f738"><span class="section-number-4">2.4.26.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-2-4-26">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-orge1ed812" class="outline-4">
<h4 id="orge1ed812"><span class="section-number-4">2.4.27.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-2-4-27">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-orgb251a47" class="outline-4">
<h4 id="orgb251a47"><span class="section-number-4">2.4.28.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-2-4-28">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org6337bb5" class="outline-4">
<h4 id="org6337bb5"><span class="section-number-4">2.4.29.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-2-4-29">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-orge40cb23" class="outline-4">
<h4 id="orge40cb23"><span class="section-number-4">2.4.30.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-2-4-30">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org969a653" class="outline-4">
<h4 id="org969a653"><span class="section-number-4">2.4.31.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-2-4-31">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org902b922" class="outline-4">
<h4 id="org902b922"><span class="section-number-4">2.4.32.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-2-4-32">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org4cf519d" class="outline-4">
<h4 id="org4cf519d"><span class="section-number-4">2.4.33.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-2-4-33">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org6951c6d" class="outline-4">
<h4 id="org6951c6d"><span class="section-number-4">2.4.34.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-2-4-34">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orga6fa3e9" class="outline-4">
<h4 id="orga6fa3e9"><span class="section-number-4">2.4.35.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-2-4-35">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org5346829" class="outline-4">
<h4 id="org5346829"><span class="section-number-4">2.4.36.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-2-4-36">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgea6d226" class="outline-4">
<h4 id="orgea6d226"><span class="section-number-4">2.4.37.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-2-4-37">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgf5ccbfe" class="outline-4">
<h4 id="orgf5ccbfe"><span class="section-number-4">2.4.38.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-2-4-38">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-org391e65c" class="outline-4">
<h4 id="org391e65c"><span class="section-number-4">2.4.39.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-2-4-39">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-orgdb8670c" class="outline-4">
<h4 id="orgdb8670c"><span class="section-number-4">2.4.40.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-2-4-40">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-orgb265759" class="outline-4">
<h4 id="orgb265759"><span class="section-number-4">2.4.41.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-2-4-41">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-org07a2c69" class="outline-4">
<h4 id="org07a2c69"><span class="section-number-4">2.4.42.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-2-4-42">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-org72044bd" class="outline-4">
<h4 id="org72044bd"><span class="section-number-4">2.4.43.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-2-4-43">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-org661a900" class="outline-4">
<h4 id="org661a900"><span class="section-number-4">2.4.44.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-2-4-44">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgcc09249" class="outline-4">
<h4 id="orgcc09249"><span class="section-number-4">2.4.45.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-2-4-45">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-org4a1ee7b" class="outline-4">
<h4 id="org4a1ee7b"><span class="section-number-4">2.4.46.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-2-4-46">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-org4b687e1" class="outline-4">
<h4 id="org4b687e1"><span class="section-number-4">2.4.47.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-2-4-47">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org932e4d4" class="outline-4">
<h4 id="org932e4d4"><span class="section-number-4">2.4.48.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-2-4-48">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgdb66956" class="outline-4">
<h4 id="orgdb66956"><span class="section-number-4">2.4.49.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-2-4-49">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org1f3b482" class="outline-4">
<h4 id="org1f3b482"><span class="section-number-4">2.4.50.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-2-4-50">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-orgc47b3c2" class="outline-4">
<h4 id="orgc47b3c2"><span class="section-number-4">2.4.51.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-2-4-51">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-org36b4da7" class="outline-4">
<h4 id="org36b4da7"><span class="section-number-4">2.4.52.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-2-4-52">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org9b1a85c" class="outline-4">
<h4 id="org9b1a85c"><span class="section-number-4">2.4.53.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-2-4-53">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org16de80c" class="outline-4">
<h4 id="org16de80c"><span class="section-number-4">2.4.54.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-2-4-54">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org334bbb6" class="outline-4">
<h4 id="org334bbb6"><span class="section-number-4">2.4.55.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-2-4-55">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-org637ef8e" class="outline-4">
<h4 id="org637ef8e"><span class="section-number-4">2.4.56.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-2-4-56">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org24b6917" class="outline-2">
<h2 id="org24b6917"><span class="section-number-2">3.</span> Package <code>arm</code></h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orgfc18f77" class="outline-3">
<h3 id="orgfc18f77"><span class="section-number-3">3.1.</span> Constants</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-org832bb3e" class="outline-4">
<h4 id="org832bb3e"><span class="section-number-4">3.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-3-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgab3dffa" class="outline-4">
<h4 id="orgab3dffa"><span class="section-number-4">3.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-3-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org2a6095a" class="outline-4">
<h4 id="org2a6095a"><span class="section-number-4">3.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-3-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org941886b" class="outline-3">
<h3 id="org941886b"><span class="section-number-3">3.2.</span> Functions</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-org7907b19" class="outline-4">
<h4 id="org7907b19"><span class="section-number-4">3.2.1.</span> <code>add-with-carry</code></h4>
<div class="outline-text-4" id="text-3-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 12, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry</span> (rd x y c)
  (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
    (set-flags r x y)
    (set$ rd r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbe56059" class="outline-4">
<h4 id="orgbe56059"><span class="section-number-4">3.2.2.</span> <code>add-with-carry/clear-base</code></h4>
<div class="outline-text-4" id="text-3-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 17, characters 0-126</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry/clear-base</span> (rd x y c)
  (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
    (set-flags r y x)
    (clear-base rd)
    (set$ rd r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org035b690" class="outline-4">
<h4 id="org035b690"><span class="section-number-4">3.2.3.</span> <code>add-with-carry/it-block</code></h4>
<div class="outline-text-4" id="text-3-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 23, characters 0-183</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry/it-block</span> (rd x y c cnd)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
      (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
        (set-flags r x y))
      (set$ rd r))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2188f7a" class="outline-4">
<h4 id="org2188f7a"><span class="section-number-4">3.2.4.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-3-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6d14671" class="outline-4">
<h4 id="org6d14671"><span class="section-number-4">3.2.5.</span> <code>clear-base</code></h4>
<div class="outline-text-4" id="text-3-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 63, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">clear-base</span> (reg)
  (set$ (alias-base-register reg) 0))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1c61c8f" class="outline-4">
<h4 id="org1c61c8f"><span class="section-number-4">3.2.6.</span> <code>condition-holds</code></h4>
<div class="outline-text-4" id="text-3-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 42, characters 0-372</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">condition-holds</span> (cnd)
  (<span style="color: #00ffff;">case</span> cnd
    0b0000 ZF
    0b0001 (lnot ZF)
    0b0010 CF
    0b0010 (lnot CF)
    0b0100 NF
    0b0101 (lnot NF)
    0b0110 VF
    0b0111 (lnot VF)
    0b1000 (logand CF (lnot ZF))
    0b1001 (logor (lnot CF) ZF)
    0b1010 (= NF VF)
    0b1011 (/= NF VF)
    0b1100 (logand (= NF VF) (lnot ZF))
    0b1101 (logor (/= NF VF) ZF)
    true))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0ac0cfa" class="outline-4">
<h4 id="org0ac0cfa"><span class="section-number-4">3.2.7.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-3-2-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbe9201e" class="outline-4">
<h4 id="orgbe9201e"><span class="section-number-4">3.2.8.</span> <code>is-unconditional</code></h4>
<div class="outline-text-4" id="text-3-2-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 60, characters 0-47</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">is-unconditional</span> (cnd)
  (= cnd 0b1110))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7b37aca" class="outline-4">
<h4 id="org7b37aca"><span class="section-number-4">3.2.9.</span> <code>logandnot</code></h4>
<div class="outline-text-4" id="text-3-2-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 30, characters 0-49</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">logandnot</span> (rd rn)
  (logand rd (lnot rn)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgaf75363" class="outline-4">
<h4 id="orgaf75363"><span class="section-number-4">3.2.10.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-3-2-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga502e58" class="outline-4">
<h4 id="orga502e58"><span class="section-number-4">3.2.11.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-3-2-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org542338c" class="outline-4">
<h4 id="org542338c"><span class="section-number-4">3.2.12.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-3-2-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0404d69" class="outline-4">
<h4 id="org0404d69"><span class="section-number-4">3.2.13.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-3-2-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org41db3f8" class="outline-4">
<h4 id="org41db3f8"><span class="section-number-4">3.2.14.</span> <code>set-flags</code></h4>
<div class="outline-text-4" id="text-3-2-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 6, characters 0-120</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">set-flags</span> (r x y)
  (set NF (msb r))
  (set VF (overflow r x y))
  (set ZF (is-zero r))
  (set CF (carry r x y)))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc67e53d" class="outline-3">
<h3 id="orgc67e53d"><span class="section-number-3">3.3.</span> Macros</h3>
<div class="outline-text-3" id="text-3-3">
</div>
<div id="outline-container-org773efd3" class="outline-4">
<h4 id="org773efd3"><span class="section-number-4">3.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-3-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org80f0e22" class="outline-4">
<h4 id="org80f0e22"><span class="section-number-4">3.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-3-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2e2d9bf" class="outline-4">
<h4 id="org2e2d9bf"><span class="section-number-4">3.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-3-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org038aca8" class="outline-4">
<h4 id="org038aca8"><span class="section-number-4">3.3.4.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-3-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 110, characters 0-55</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x xs)
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r (and xs) r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9ee71bc" class="outline-4">
<h4 id="org9ee71bc"><span class="section-number-4">3.3.5.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-3-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0f78a6a" class="outline-4">
<h4 id="org0f78a6a"><span class="section-number-4">3.3.6.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-3-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb3067b5" class="outline-4">
<h4 id="orgb3067b5"><span class="section-number-4">3.3.7.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-3-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgac8a889" class="outline-4">
<h4 id="orgac8a889"><span class="section-number-4">3.3.8.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-3-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd6ce35c" class="outline-4">
<h4 id="orgd6ce35c"><span class="section-number-4">3.3.9.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-3-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2dce2cd" class="outline-4">
<h4 id="org2dce2cd"><span class="section-number-4">3.3.10.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-3-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 166, characters 0-75</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k k' x xs)
  (<span style="color: #00ffff;">if</span> (= k k') x (case/dispatch k xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org714245f" class="outline-4">
<h4 id="org714245f"><span class="section-number-4">3.3.11.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-3-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdf47872" class="outline-4">
<h4 id="orgdf47872"><span class="section-number-4">3.3.12.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-3-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org51daadc" class="outline-4">
<h4 id="org51daadc"><span class="section-number-4">3.3.13.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-3-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org70b076a" class="outline-4">
<h4 id="org70b076a"><span class="section-number-4">3.3.14.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-3-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf092571" class="outline-4">
<h4 id="orgf092571"><span class="section-number-4">3.3.15.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-3-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8810e91" class="outline-4">
<h4 id="org8810e91"><span class="section-number-4">3.3.16.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-3-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org66174f1" class="outline-4">
<h4 id="org66174f1"><span class="section-number-4">3.3.17.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-3-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 103, characters 0-50</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x xs)
  (<span style="color: #00ffff;">prog</span> (decr x) (decr xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb8bb019" class="outline-4">
<h4 id="orgb8bb019"><span class="section-number-4">3.3.18.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-3-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 22, characters 0-148</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F X Y) if applied</span>
<span style="color: #ffa07a;">   in the big endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian big)))
  (f x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfcace75" class="outline-4">
<h4 id="orgfcace75"><span class="section-number-4">3.3.19.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-3-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 151, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x xs) (fold f (f a x) xs))

</pre>
</div>
</div>
</div>

<div id="outline-container-org01de42f" class="outline-4">
<h4 id="org01de42f"><span class="section-number-4">3.3.20.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-3-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 97, characters 0-50</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x xs)
  (<span style="color: #00ffff;">prog</span> (incr x) (incr xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6ffbe04" class="outline-4">
<h4 id="org6ffbe04"><span class="section-number-4">3.3.21.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-3-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 145, characters 0-57</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y ys)
  (or (is-in x y) (is-in x ys)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcf6ed60" class="outline-4">
<h4 id="orgcf6ed60"><span class="section-number-4">3.3.22.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-3-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9265002" class="outline-4">
<h4 id="org9265002"><span class="section-number-4">3.3.23.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-3-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 162, characters 0-42</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x y ys) (max (max x y) ys))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8e1fb87" class="outline-4">
<h4 id="org8e1fb87"><span class="section-number-4">3.3.24.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-3-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 157, characters 0-42</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x y ys) (min (min x y) ys))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1359f29" class="outline-4">
<h4 id="org1359f29"><span class="section-number-4">3.3.25.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-3-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org59ed6f7" class="outline-4">
<h4 id="org59ed6f7"><span class="section-number-4">3.3.26.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-3-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2227eeb" class="outline-4">
<h4 id="org2227eeb"><span class="section-number-4">3.3.27.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-3-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 120, characters 0-19</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd0ce7d2" class="outline-4">
<h4 id="orgd0ce7d2"><span class="section-number-4">3.3.28.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-3-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org91649aa" class="outline-4">
<h4 id="org91649aa"><span class="section-number-4">3.3.29.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-3-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9e1a018" class="outline-4">
<h4 id="org9e1a018"><span class="section-number-4">3.3.30.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-3-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org08a0b18" class="outline-4">
<h4 id="org08a0b18"><span class="section-number-4">3.3.31.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-3-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf04c179" class="outline-4">
<h4 id="orgf04c179"><span class="section-number-4">3.3.32.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-3-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org291a400" class="outline-4">
<h4 id="org291a400"><span class="section-number-4">3.3.33.</span> <code>setw</code></h4>
<div class="outline-text-4" id="text-3-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 66, characters 0-147</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">setw</span> (reg val)
  <span style="color: #ffa07a;">"(set Wx V) sets a Wx register clearing the upper 32 bits."</span>
  (<span style="color: #00ffff;">let</span> ((res val))
    (clear-base reg)
    (set$ reg res)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc2261ab" class="outline-4">
<h4 id="orgc2261ab"><span class="section-number-4">3.3.34.</span> <code>shift-with-carry</code></h4>
<div class="outline-text-4" id="text-3-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 33, characters 0-273</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">shift-with-carry</span> (shift rd rn rm cnd)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (<span style="color: #00ffff;">let</span> ((r (cast-signed (word-width) rn)))
      (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
        (set CF (msb r))
        (set$ rd (shift r rm))
        (set ZF (is-zero rd))
        (set NF (msb rd))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1a41b3a" class="outline-4">
<h4 id="org1a41b3a"><span class="section-number-4">3.3.35.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-3-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc1114b" class="outline-4">
<h4 id="orgfc1114b"><span class="section-number-4">3.3.36.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-3-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4c7c966" class="outline-4">
<h4 id="org4c7c966"><span class="section-number-4">3.3.37.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-3-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-org20918b7" class="outline-4">
<h4 id="org20918b7"><span class="section-number-4">3.3.38.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-3-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga6ad146" class="outline-4">
<h4 id="orga6ad146"><span class="section-number-4">3.3.39.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-3-3-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5b5b5f3" class="outline-4">
<h4 id="org5b5b5f3"><span class="section-number-4">3.3.40.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-3-3-40">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org27c86f1" class="outline-3">
<h3 id="org27c86f1"><span class="section-number-3">3.4.</span> Primitives</h3>
<div class="outline-text-3" id="text-3-4">
</div>
<div id="outline-container-orgbb936ac" class="outline-4">
<h4 id="orgbb936ac"><span class="section-number-4">3.4.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-3-4-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-orgd172415" class="outline-4">
<h4 id="orgd172415"><span class="section-number-4">3.4.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-3-4-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-org8bfd5b6" class="outline-4">
<h4 id="org8bfd5b6"><span class="section-number-4">3.4.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-3-4-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-orgb3227de" class="outline-4">
<h4 id="orgb3227de"><span class="section-number-4">3.4.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-3-4-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-orgfc87777" class="outline-4">
<h4 id="orgfc87777"><span class="section-number-4">3.4.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-3-4-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-org5b5867e" class="outline-4">
<h4 id="org5b5867e"><span class="section-number-4">3.4.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-3-4-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-org4a18b0b" class="outline-4">
<h4 id="org4a18b0b"><span class="section-number-4">3.4.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-3-4-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-org79db629" class="outline-4">
<h4 id="org79db629"><span class="section-number-4">3.4.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-3-4-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-orgdf71d0c" class="outline-4">
<h4 id="orgdf71d0c"><span class="section-number-4">3.4.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-3-4-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-org39ae4a7" class="outline-4">
<h4 id="org39ae4a7"><span class="section-number-4">3.4.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-3-4-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-orga125325" class="outline-4">
<h4 id="orga125325"><span class="section-number-4">3.4.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-3-4-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-org3bf64c9" class="outline-4">
<h4 id="org3bf64c9"><span class="section-number-4">3.4.12.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-3-4-12">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgbe444a2" class="outline-4">
<h4 id="orgbe444a2"><span class="section-number-4">3.4.13.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-3-4-13">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-orgebcde35" class="outline-4">
<h4 id="orgebcde35"><span class="section-number-4">3.4.14.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-3-4-14">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-orgb459436" class="outline-4">
<h4 id="orgb459436"><span class="section-number-4">3.4.15.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-3-4-15">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-orgc367502" class="outline-4">
<h4 id="orgc367502"><span class="section-number-4">3.4.16.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-3-4-16">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org8fbc8a5" class="outline-4">
<h4 id="org8fbc8a5"><span class="section-number-4">3.4.17.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-3-4-17">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-org2b08ff7" class="outline-4">
<h4 id="org2b08ff7"><span class="section-number-4">3.4.18.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-3-4-18">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-orga848748" class="outline-4">
<h4 id="orga848748"><span class="section-number-4">3.4.19.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-3-4-19">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-org6c62d22" class="outline-4">
<h4 id="org6c62d22"><span class="section-number-4">3.4.20.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-3-4-20">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-orgf4815bb" class="outline-4">
<h4 id="orgf4815bb"><span class="section-number-4">3.4.21.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-3-4-21">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-orge8fe474" class="outline-4">
<h4 id="orge8fe474"><span class="section-number-4">3.4.22.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-3-4-22">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-orgdd11558" class="outline-4">
<h4 id="orgdd11558"><span class="section-number-4">3.4.23.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-3-4-23">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-org010531a" class="outline-4">
<h4 id="org010531a"><span class="section-number-4">3.4.24.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-3-4-24">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-org08d0c5b" class="outline-4">
<h4 id="org08d0c5b"><span class="section-number-4">3.4.25.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-3-4-25">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-orgcd4732d" class="outline-4">
<h4 id="orgcd4732d"><span class="section-number-4">3.4.26.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-3-4-26">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-org9f6fb1e" class="outline-4">
<h4 id="org9f6fb1e"><span class="section-number-4">3.4.27.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-3-4-27">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-orgf22706f" class="outline-4">
<h4 id="orgf22706f"><span class="section-number-4">3.4.28.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-3-4-28">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org1067900" class="outline-4">
<h4 id="org1067900"><span class="section-number-4">3.4.29.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-3-4-29">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-org027731d" class="outline-4">
<h4 id="org027731d"><span class="section-number-4">3.4.30.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-3-4-30">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orga9e52e8" class="outline-4">
<h4 id="orga9e52e8"><span class="section-number-4">3.4.31.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-3-4-31">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org6007599" class="outline-4">
<h4 id="org6007599"><span class="section-number-4">3.4.32.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-3-4-32">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org59d531e" class="outline-4">
<h4 id="org59d531e"><span class="section-number-4">3.4.33.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-3-4-33">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org017de28" class="outline-4">
<h4 id="org017de28"><span class="section-number-4">3.4.34.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-3-4-34">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org6131d0f" class="outline-4">
<h4 id="org6131d0f"><span class="section-number-4">3.4.35.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-3-4-35">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org45c20c8" class="outline-4">
<h4 id="org45c20c8"><span class="section-number-4">3.4.36.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-3-4-36">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org81ea241" class="outline-4">
<h4 id="org81ea241"><span class="section-number-4">3.4.37.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-3-4-37">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgfe2bcc9" class="outline-4">
<h4 id="orgfe2bcc9"><span class="section-number-4">3.4.38.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-3-4-38">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-org95df1ca" class="outline-4">
<h4 id="org95df1ca"><span class="section-number-4">3.4.39.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-3-4-39">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-org24b8135" class="outline-4">
<h4 id="org24b8135"><span class="section-number-4">3.4.40.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-3-4-40">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org3f4e2dc" class="outline-4">
<h4 id="org3f4e2dc"><span class="section-number-4">3.4.41.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-3-4-41">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-org208f8dc" class="outline-4">
<h4 id="org208f8dc"><span class="section-number-4">3.4.42.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-3-4-42">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-orgaf906ac" class="outline-4">
<h4 id="orgaf906ac"><span class="section-number-4">3.4.43.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-3-4-43">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-org3ed503b" class="outline-4">
<h4 id="org3ed503b"><span class="section-number-4">3.4.44.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-3-4-44">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgda0dd60" class="outline-4">
<h4 id="orgda0dd60"><span class="section-number-4">3.4.45.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-3-4-45">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-orgb02a475" class="outline-4">
<h4 id="orgb02a475"><span class="section-number-4">3.4.46.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-3-4-46">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgf58e123" class="outline-4">
<h4 id="orgf58e123"><span class="section-number-4">3.4.47.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-3-4-47">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgd046bb7" class="outline-4">
<h4 id="orgd046bb7"><span class="section-number-4">3.4.48.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-3-4-48">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgef1b4b0" class="outline-4">
<h4 id="orgef1b4b0"><span class="section-number-4">3.4.49.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-3-4-49">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org4b6c222" class="outline-4">
<h4 id="org4b6c222"><span class="section-number-4">3.4.50.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-3-4-50">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-org1ffe465" class="outline-4">
<h4 id="org1ffe465"><span class="section-number-4">3.4.51.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-3-4-51">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-org3acf4b5" class="outline-4">
<h4 id="org3acf4b5"><span class="section-number-4">3.4.52.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-3-4-52">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-orgfdc2766" class="outline-4">
<h4 id="orgfdc2766"><span class="section-number-4">3.4.53.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-3-4-53">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org713b6a4" class="outline-4">
<h4 id="org713b6a4"><span class="section-number-4">3.4.54.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-3-4-54">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org4a12437" class="outline-4">
<h4 id="org4a12437"><span class="section-number-4">3.4.55.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-3-4-55">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-org7603dc3" class="outline-4">
<h4 id="org7603dc3"><span class="section-number-4">3.4.56.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-3-4-56">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgfa4426d" class="outline-2">
<h2 id="orgfa4426d"><span class="section-number-2">4.</span> Package <code>bap</code></h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org78a529f" class="outline-3">
<h3 id="org78a529f"><span class="section-number-3">4.1.</span> Constants</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-orgaddf218" class="outline-4">
<h4 id="orgaddf218"><span class="section-number-4">4.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-4-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org7771f29" class="outline-4">
<h4 id="org7771f29"><span class="section-number-4">4.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-4-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org265abbd" class="outline-4">
<h4 id="org265abbd"><span class="section-number-4">4.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-4-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org6fa8598" class="outline-3">
<h3 id="org6fa8598"><span class="section-number-3">4.2.</span> Functions</h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-orgdd39a03" class="outline-4">
<h4 id="orgdd39a03"><span class="section-number-4">4.2.1.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-4-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgead9a6d" class="outline-4">
<h4 id="orgead9a6d"><span class="section-number-4">4.2.2.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-4-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org53101cb" class="outline-4">
<h4 id="org53101cb"><span class="section-number-4">4.2.3.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-4-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org46d91f2" class="outline-4">
<h4 id="org46d91f2"><span class="section-number-4">4.2.4.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-4-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgad88aa5" class="outline-4">
<h4 id="orgad88aa5"><span class="section-number-4">4.2.5.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-4-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5f5876b" class="outline-4">
<h4 id="org5f5876b"><span class="section-number-4">4.2.6.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-4-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgaedbcc5" class="outline-3">
<h3 id="orgaedbcc5"><span class="section-number-3">4.3.</span> Macros</h3>
<div class="outline-text-3" id="text-4-3">
</div>
<div id="outline-container-org6635217" class="outline-4">
<h4 id="org6635217"><span class="section-number-4">4.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-4-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0377db" class="outline-4">
<h4 id="orgc0377db"><span class="section-number-4">4.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-4-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgda70a4a" class="outline-4">
<h4 id="orgda70a4a"><span class="section-number-4">4.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-4-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf803f66" class="outline-4">
<h4 id="orgf803f66"><span class="section-number-4">4.3.4.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-4-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 106, characters 0-194</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x)
  <span style="color: #ffa07a;">"(and X Y ...) evaluates expressions X,Y,... until the first</span>
<span style="color: #ffa07a;">  expression that returns false. The value of the whole form is the</span>
<span style="color: #ffa07a;">  value of the last evaluated expression."</span> x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org3490c4e" class="outline-4">
<h4 id="org3490c4e"><span class="section-number-4">4.3.5.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-4-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3501d03" class="outline-4">
<h4 id="org3501d03"><span class="section-number-4">4.3.6.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-4-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-org90c7eb6" class="outline-4">
<h4 id="org90c7eb6"><span class="section-number-4">4.3.7.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-4-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0adf2d5" class="outline-4">
<h4 id="org0adf2d5"><span class="section-number-4">4.3.8.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-4-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1133a40" class="outline-4">
<h4 id="org1133a40"><span class="section-number-4">4.3.9.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-4-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6a93cf6" class="outline-4">
<h4 id="org6a93cf6"><span class="section-number-4">4.3.10.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-4-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 164, characters 0-32</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org24ae4a4" class="outline-4">
<h4 id="org24ae4a4"><span class="section-number-4">4.3.11.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-4-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9cc95b7" class="outline-4">
<h4 id="org9cc95b7"><span class="section-number-4">4.3.12.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-4-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0e5c105" class="outline-4">
<h4 id="org0e5c105"><span class="section-number-4">4.3.13.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-4-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcf03d50" class="outline-4">
<h4 id="orgcf03d50"><span class="section-number-4">4.3.14.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-4-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc3b779a" class="outline-4">
<h4 id="orgc3b779a"><span class="section-number-4">4.3.15.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-4-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd734e4d" class="outline-4">
<h4 id="orgd734e4d"><span class="section-number-4">4.3.16.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-4-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org61c5a83" class="outline-4">
<h4 id="org61c5a83"><span class="section-number-4">4.3.17.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-4-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 100, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x)
  <span style="color: #ffa07a;">"(decr X Y ...) decrements the value bound with the variables X, Y, ..."</span>
  (set x (-1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgca51f1f" class="outline-4">
<h4 id="orgca51f1f"><span class="section-number-4">4.3.18.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-4-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 16, characters 0-154</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F Y X) if applied</span>
<span style="color: #ffa07a;">   in the little endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian little)))
  (f y x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org072ee3f" class="outline-4">
<h4 id="org072ee3f"><span class="section-number-4">4.3.19.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-4-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 148, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x)
  <span style="color: #ffa07a;">"(fold F A X Y ...) expands to (F (F A X) Y) ..."</span>
  (f a x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7f99e6b" class="outline-4">
<h4 id="org7f99e6b"><span class="section-number-4">4.3.20.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-4-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 93, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x)
  <span style="color: #ffa07a;">"(incr X Y ...) increments the value bound with the variables X, Y, ..."</span>
  (set x (+1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6c37620" class="outline-4">
<h4 id="org6c37620"><span class="section-number-4">4.3.21.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-4-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 142, characters 0-102</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y)
  <span style="color: #ffa07a;">"(is-in X A B C ...) returns true if X is equal A or B or C or ..."</span>
  (= x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgce81643" class="outline-4">
<h4 id="orgce81643"><span class="section-number-4">4.3.22.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-4-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-orged220ae" class="outline-4">
<h4 id="orged220ae"><span class="section-number-4">4.3.23.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-4-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 158, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x)
  <span style="color: #ffa07a;">"(max X Y ...) returns the upper bound of the (X,Y,...) set"</span>
  x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org32c5c03" class="outline-4">
<h4 id="org32c5c03"><span class="section-number-4">4.3.24.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-4-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 153, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x)
  <span style="color: #ffa07a;">"(min X Y ...) returns the lower bound of the (X,Y,...) set"</span>
      x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf5fa43a" class="outline-4">
<h4 id="orgf5fa43a"><span class="section-number-4">4.3.25.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-4-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org185fd44" class="outline-4">
<h4 id="org185fd44"><span class="section-number-4">4.3.26.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-4-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4843fc9" class="outline-4">
<h4 id="org4843fc9"><span class="section-number-4">4.3.27.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-4-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 113, characters 0-346</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x xs)
  <span style="color: #ffa07a;">"(or &lt;expr&gt; ...) evaluates a sequence of expressions EXPR from left</span>
<span style="color: #ffa07a;">   to right until it meets the first expression that evaluates to the</span>
<span style="color: #ffa07a;">   truth value, that will become the value of the whole form. If no</span>
<span style="color: #ffa07a;">   expression returned the truth value, then the result of the whole</span>
<span style="color: #ffa07a;">   form is 0:1"</span>
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r r (or xs))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgae0e3d0" class="outline-4">
<h4 id="orgae0e3d0"><span class="section-number-4">4.3.28.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-4-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge4e41bb" class="outline-4">
<h4 id="orge4e41bb"><span class="section-number-4">4.3.29.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-4-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge195bb9" class="outline-4">
<h4 id="orge195bb9"><span class="section-number-4">4.3.30.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-4-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga56fc37" class="outline-4">
<h4 id="orga56fc37"><span class="section-number-4">4.3.31.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-4-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga2ec92e" class="outline-4">
<h4 id="orga2ec92e"><span class="section-number-4">4.3.32.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-4-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd1aee29" class="outline-4">
<h4 id="orgd1aee29"><span class="section-number-4">4.3.33.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-4-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdae3d7e" class="outline-4">
<h4 id="orgdae3d7e"><span class="section-number-4">4.3.34.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-4-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc7bc60" class="outline-4">
<h4 id="orgbc7bc60"><span class="section-number-4">4.3.35.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-4-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd9c0b8d" class="outline-4">
<h4 id="orgd9c0b8d"><span class="section-number-4">4.3.36.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-4-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdfd538a" class="outline-4">
<h4 id="orgdfd538a"><span class="section-number-4">4.3.37.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-4-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-org00e99f9" class="outline-4">
<h4 id="org00e99f9"><span class="section-number-4">4.3.38.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-4-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9469c4a" class="outline-3">
<h3 id="org9469c4a"><span class="section-number-3">4.4.</span> Methods</h3>
<div class="outline-text-3" id="text-4-4">
</div>
<div id="outline-container-org32e18b0" class="outline-4">
<h4 id="org32e18b0"><span class="section-number-4">4.4.1.</span> <code>patterns-action</code></h4>
<div class="outline-text-4" id="text-4-4-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb-patterns.lisp", line 5, characters 0-320</span>
(<span style="color: #00ffff;">defmethod</span> <span style="color: #87cefa;">bap:patterns-action</span> (action addr attrs)
  (<span style="color: #00ffff;">when</span> (= action 'setcontext)
    (<span style="color: #00ffff;">let</span> ((name (patterns-attribute attrs <span style="color: #b0c4de;">:name</span>))
          (mode (patterns-attribute attrs <span style="color: #b0c4de;">:value</span>)))
      (<span style="color: #00ffff;">when</span> (and name mode (= name 'TMode))
        (<span style="color: #00ffff;">let</span> ((lang (<span style="color: #00ffff;">if</span> (= mode '1) <span style="color: #b0c4de;">:T32</span> <span style="color: #b0c4de;">:A32</span>)))
          (arm-set-encoding addr lang))))))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org03a63c2" class="outline-3">
<h3 id="org03a63c2"><span class="section-number-3">4.5.</span> Primitives</h3>
<div class="outline-text-3" id="text-4-5">
</div>
<div id="outline-container-org65054d3" class="outline-4">
<h4 id="org65054d3"><span class="section-number-4">4.5.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-4-5-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-org64af827" class="outline-4">
<h4 id="org64af827"><span class="section-number-4">4.5.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-4-5-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-org3dad589" class="outline-4">
<h4 id="org3dad589"><span class="section-number-4">4.5.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-4-5-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-orgc4a9099" class="outline-4">
<h4 id="orgc4a9099"><span class="section-number-4">4.5.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-4-5-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-org8623b09" class="outline-4">
<h4 id="org8623b09"><span class="section-number-4">4.5.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-4-5-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-org29e1019" class="outline-4">
<h4 id="org29e1019"><span class="section-number-4">4.5.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-4-5-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-orgf8ba4b5" class="outline-4">
<h4 id="orgf8ba4b5"><span class="section-number-4">4.5.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-4-5-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-orgefdf270" class="outline-4">
<h4 id="orgefdf270"><span class="section-number-4">4.5.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-4-5-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-org1c415de" class="outline-4">
<h4 id="org1c415de"><span class="section-number-4">4.5.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-4-5-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-orgb47ba7e" class="outline-4">
<h4 id="orgb47ba7e"><span class="section-number-4">4.5.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-4-5-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-org89529bc" class="outline-4">
<h4 id="org89529bc"><span class="section-number-4">4.5.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-4-5-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-orgb4933c0" class="outline-4">
<h4 id="orgb4933c0"><span class="section-number-4">4.5.12.</span> <code>arm-set-encoding</code></h4>
<div class="outline-text-4" id="text-4-5-12">
<p>
(arm-set-encoding ADDR ENC) specifies the encoding of instruction at ADDR as ENC, where ENC is either, :T32 or :A32
</p>
</div>
</div>
<div id="outline-container-org21b6baa" class="outline-4">
<h4 id="org21b6baa"><span class="section-number-4">4.5.13.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-4-5-13">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org54447b7" class="outline-4">
<h4 id="org54447b7"><span class="section-number-4">4.5.14.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-4-5-14">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-org3ad670c" class="outline-4">
<h4 id="org3ad670c"><span class="section-number-4">4.5.15.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-4-5-15">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-org17eac9e" class="outline-4">
<h4 id="org17eac9e"><span class="section-number-4">4.5.16.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-4-5-16">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org915dd41" class="outline-4">
<h4 id="org915dd41"><span class="section-number-4">4.5.17.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-4-5-17">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-orgf86e53c" class="outline-4">
<h4 id="orgf86e53c"><span class="section-number-4">4.5.18.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-4-5-18">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-orgf241e4c" class="outline-4">
<h4 id="orgf241e4c"><span class="section-number-4">4.5.19.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-4-5-19">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-org50ceaf8" class="outline-4">
<h4 id="org50ceaf8"><span class="section-number-4">4.5.20.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-4-5-20">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-org04ae1e7" class="outline-4">
<h4 id="org04ae1e7"><span class="section-number-4">4.5.21.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-4-5-21">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-org52fc6a0" class="outline-4">
<h4 id="org52fc6a0"><span class="section-number-4">4.5.22.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-4-5-22">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-org14e9c85" class="outline-4">
<h4 id="org14e9c85"><span class="section-number-4">4.5.23.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-4-5-23">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-org0d0c445" class="outline-4">
<h4 id="org0d0c445"><span class="section-number-4">4.5.24.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-4-5-24">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-org3cfbd7f" class="outline-4">
<h4 id="org3cfbd7f"><span class="section-number-4">4.5.25.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-4-5-25">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-org2c82da7" class="outline-4">
<h4 id="org2c82da7"><span class="section-number-4">4.5.26.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-4-5-26">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-orgd26ac7c" class="outline-4">
<h4 id="orgd26ac7c"><span class="section-number-4">4.5.27.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-4-5-27">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-org01bcd71" class="outline-4">
<h4 id="org01bcd71"><span class="section-number-4">4.5.28.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-4-5-28">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-org54d847c" class="outline-4">
<h4 id="org54d847c"><span class="section-number-4">4.5.29.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-4-5-29">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org23e4d59" class="outline-4">
<h4 id="org23e4d59"><span class="section-number-4">4.5.30.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-4-5-30">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-org3da454a" class="outline-4">
<h4 id="org3da454a"><span class="section-number-4">4.5.31.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-4-5-31">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org67b020a" class="outline-4">
<h4 id="org67b020a"><span class="section-number-4">4.5.32.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-4-5-32">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgfcbfa15" class="outline-4">
<h4 id="orgfcbfa15"><span class="section-number-4">4.5.33.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-4-5-33">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org22a01c1" class="outline-4">
<h4 id="org22a01c1"><span class="section-number-4">4.5.34.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-4-5-34">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org509c8af" class="outline-4">
<h4 id="org509c8af"><span class="section-number-4">4.5.35.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-4-5-35">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgce1f283" class="outline-4">
<h4 id="orgce1f283"><span class="section-number-4">4.5.36.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-4-5-36">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orga9aefaa" class="outline-4">
<h4 id="orga9aefaa"><span class="section-number-4">4.5.37.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-4-5-37">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgb0667ca" class="outline-4">
<h4 id="orgb0667ca"><span class="section-number-4">4.5.38.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-4-5-38">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org84059de" class="outline-4">
<h4 id="org84059de"><span class="section-number-4">4.5.39.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-4-5-39">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-orgd739013" class="outline-4">
<h4 id="orgd739013"><span class="section-number-4">4.5.40.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-4-5-40">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-org1ea047f" class="outline-4">
<h4 id="org1ea047f"><span class="section-number-4">4.5.41.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-4-5-41">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-orgd4a0edc" class="outline-4">
<h4 id="orgd4a0edc"><span class="section-number-4">4.5.42.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-4-5-42">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-orgb2f9511" class="outline-4">
<h4 id="orgb2f9511"><span class="section-number-4">4.5.43.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-4-5-43">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-org91af4db" class="outline-4">
<h4 id="org91af4db"><span class="section-number-4">4.5.44.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-4-5-44">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-org2ad6d31" class="outline-4">
<h4 id="org2ad6d31"><span class="section-number-4">4.5.45.</span> <code>patterns-attribute</code></h4>
<div class="outline-text-4" id="text-4-5-45">
<p>
(patterns-attribute ATTRS NAME) returns the attribute NAME of the attributes ATTRS or NIL if no such attribute is present
</p>
</div>
</div>
<div id="outline-container-org03e2394" class="outline-4">
<h4 id="org03e2394"><span class="section-number-4">4.5.46.</span> <code>promise-function-start</code></h4>
<div class="outline-text-4" id="text-4-5-46">
<p>
undocumented
</p>
</div>
</div>
<div id="outline-container-org458d6a4" class="outline-4">
<h4 id="org458d6a4"><span class="section-number-4">4.5.47.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-4-5-47">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org36c21ee" class="outline-4">
<h4 id="org36c21ee"><span class="section-number-4">4.5.48.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-4-5-48">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-org8228abc" class="outline-4">
<h4 id="org8228abc"><span class="section-number-4">4.5.49.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-4-5-49">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-org1f5509f" class="outline-4">
<h4 id="org1f5509f"><span class="section-number-4">4.5.50.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-4-5-50">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orga8fc97b" class="outline-4">
<h4 id="orga8fc97b"><span class="section-number-4">4.5.51.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-4-5-51">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org2262874" class="outline-4">
<h4 id="org2262874"><span class="section-number-4">4.5.52.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-4-5-52">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgdc17e18" class="outline-4">
<h4 id="orgdc17e18"><span class="section-number-4">4.5.53.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-4-5-53">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-orgf477456" class="outline-4">
<h4 id="orgf477456"><span class="section-number-4">4.5.54.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-4-5-54">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-orgcffaba4" class="outline-4">
<h4 id="orgcffaba4"><span class="section-number-4">4.5.55.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-4-5-55">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org5b9ffc0" class="outline-4">
<h4 id="org5b9ffc0"><span class="section-number-4">4.5.56.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-4-5-56">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org7627937" class="outline-4">
<h4 id="org7627937"><span class="section-number-4">4.5.57.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-4-5-57">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-orgc45173e" class="outline-4">
<h4 id="orgc45173e"><span class="section-number-4">4.5.58.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-4-5-58">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-orga2214b9" class="outline-4">
<h4 id="orga2214b9"><span class="section-number-4">4.5.59.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-4-5-59">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
<div id="outline-container-orgc6e8a26" class="outline-3">
<h3 id="orgc6e8a26"><span class="section-number-3">4.6.</span> Signals</h3>
<div class="outline-text-3" id="text-4-6">
</div>
<div id="outline-container-org1ee88a6" class="outline-4">
<h4 id="org1ee88a6"><span class="section-number-4">4.6.1.</span> <code>patterns-action</code></h4>
<div class="outline-text-4" id="text-4-6-1">
<p>
(patterns-action ACTION ADDR ATTRS) is signaled when ACTION matches at ADDR. The ATTRS is key-value set of attributes accessible with patterns-attribute
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org0a8d349" class="outline-2">
<h2 id="org0a8d349"><span class="section-number-2">5.</span> Package <code>core</code></h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org1c9e51f" class="outline-3">
<h3 id="org1c9e51f"><span class="section-number-3">5.1.</span> Constants</h3>
<div class="outline-text-3" id="text-5-1">
</div>
<div id="outline-container-orgcb4c769" class="outline-4">
<h4 id="orgcb4c769"><span class="section-number-4">5.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-5-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org831ebe3" class="outline-4">
<h4 id="org831ebe3"><span class="section-number-4">5.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-5-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-orge366331" class="outline-4">
<h4 id="orge366331"><span class="section-number-4">5.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-5-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgae125e2" class="outline-3">
<h3 id="orgae125e2"><span class="section-number-3">5.2.</span> Functions</h3>
<div class="outline-text-3" id="text-5-2">
</div>
<div id="outline-container-org0c59970" class="outline-4">
<h4 id="org0c59970"><span class="section-number-4">5.2.1.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-5-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb735b9a" class="outline-4">
<h4 id="orgb735b9a"><span class="section-number-4">5.2.2.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-5-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf4b8366" class="outline-4">
<h4 id="orgf4b8366"><span class="section-number-4">5.2.3.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-5-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd812bc2" class="outline-4">
<h4 id="orgd812bc2"><span class="section-number-4">5.2.4.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-5-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7bd4305" class="outline-4">
<h4 id="org7bd4305"><span class="section-number-4">5.2.5.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-5-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge25e383" class="outline-4">
<h4 id="orge25e383"><span class="section-number-4">5.2.6.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-5-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga4dff7a" class="outline-3">
<h3 id="orga4dff7a"><span class="section-number-3">5.3.</span> Macros</h3>
<div class="outline-text-3" id="text-5-3">
</div>
<div id="outline-container-org65048f3" class="outline-4">
<h4 id="org65048f3"><span class="section-number-4">5.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-5-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbd5cd22" class="outline-4">
<h4 id="orgbd5cd22"><span class="section-number-4">5.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-5-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb7efb0f" class="outline-4">
<h4 id="orgb7efb0f"><span class="section-number-4">5.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-5-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org23b4f8e" class="outline-4">
<h4 id="org23b4f8e"><span class="section-number-4">5.3.4.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-5-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 106, characters 0-194</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x)
  <span style="color: #ffa07a;">"(and X Y ...) evaluates expressions X,Y,... until the first</span>
<span style="color: #ffa07a;">  expression that returns false. The value of the whole form is the</span>
<span style="color: #ffa07a;">  value of the last evaluated expression."</span> x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org5dae428" class="outline-4">
<h4 id="org5dae428"><span class="section-number-4">5.3.5.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-5-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org289ce2f" class="outline-4">
<h4 id="org289ce2f"><span class="section-number-4">5.3.6.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-5-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgce3b7ed" class="outline-4">
<h4 id="orgce3b7ed"><span class="section-number-4">5.3.7.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-5-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7391064" class="outline-4">
<h4 id="org7391064"><span class="section-number-4">5.3.8.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-5-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1e454fa" class="outline-4">
<h4 id="org1e454fa"><span class="section-number-4">5.3.9.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-5-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org51434ea" class="outline-4">
<h4 id="org51434ea"><span class="section-number-4">5.3.10.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-5-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 164, characters 0-32</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org951e8a5" class="outline-4">
<h4 id="org951e8a5"><span class="section-number-4">5.3.11.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-5-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc1cc057" class="outline-4">
<h4 id="orgc1cc057"><span class="section-number-4">5.3.12.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-5-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga9a0b23" class="outline-4">
<h4 id="orga9a0b23"><span class="section-number-4">5.3.13.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-5-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org32aa86c" class="outline-4">
<h4 id="org32aa86c"><span class="section-number-4">5.3.14.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-5-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3e30e58" class="outline-4">
<h4 id="org3e30e58"><span class="section-number-4">5.3.15.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-5-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcf28a3c" class="outline-4">
<h4 id="orgcf28a3c"><span class="section-number-4">5.3.16.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-5-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd7dc9d2" class="outline-4">
<h4 id="orgd7dc9d2"><span class="section-number-4">5.3.17.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-5-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 100, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x)
  <span style="color: #ffa07a;">"(decr X Y ...) decrements the value bound with the variables X, Y, ..."</span>
  (set x (-1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2fb52ec" class="outline-4">
<h4 id="org2fb52ec"><span class="section-number-4">5.3.18.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-5-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 16, characters 0-154</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F Y X) if applied</span>
<span style="color: #ffa07a;">   in the little endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian little)))
  (f y x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcc64998" class="outline-4">
<h4 id="orgcc64998"><span class="section-number-4">5.3.19.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-5-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 148, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x)
  <span style="color: #ffa07a;">"(fold F A X Y ...) expands to (F (F A X) Y) ..."</span>
  (f a x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge3f53a1" class="outline-4">
<h4 id="orge3f53a1"><span class="section-number-4">5.3.20.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-5-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 93, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x)
  <span style="color: #ffa07a;">"(incr X Y ...) increments the value bound with the variables X, Y, ..."</span>
  (set x (+1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc1a766" class="outline-4">
<h4 id="orgbc1a766"><span class="section-number-4">5.3.21.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-5-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 142, characters 0-102</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y)
  <span style="color: #ffa07a;">"(is-in X A B C ...) returns true if X is equal A or B or C or ..."</span>
  (= x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7c37e33" class="outline-4">
<h4 id="org7c37e33"><span class="section-number-4">5.3.22.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-5-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3c096f9" class="outline-4">
<h4 id="org3c096f9"><span class="section-number-4">5.3.23.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-5-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 158, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x)
  <span style="color: #ffa07a;">"(max X Y ...) returns the upper bound of the (X,Y,...) set"</span>
  x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org4123336" class="outline-4">
<h4 id="org4123336"><span class="section-number-4">5.3.24.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-5-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 153, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x)
  <span style="color: #ffa07a;">"(min X Y ...) returns the lower bound of the (X,Y,...) set"</span>
      x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc661d43" class="outline-4">
<h4 id="orgc661d43"><span class="section-number-4">5.3.25.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-5-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org99ef436" class="outline-4">
<h4 id="org99ef436"><span class="section-number-4">5.3.26.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-5-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org27a1239" class="outline-4">
<h4 id="org27a1239"><span class="section-number-4">5.3.27.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-5-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 113, characters 0-346</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x xs)
  <span style="color: #ffa07a;">"(or &lt;expr&gt; ...) evaluates a sequence of expressions EXPR from left</span>
<span style="color: #ffa07a;">   to right until it meets the first expression that evaluates to the</span>
<span style="color: #ffa07a;">   truth value, that will become the value of the whole form. If no</span>
<span style="color: #ffa07a;">   expression returned the truth value, then the result of the whole</span>
<span style="color: #ffa07a;">   form is 0:1"</span>
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r r (or xs))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org14b7b97" class="outline-4">
<h4 id="org14b7b97"><span class="section-number-4">5.3.28.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-5-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9ef4796" class="outline-4">
<h4 id="org9ef4796"><span class="section-number-4">5.3.29.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-5-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org514d24c" class="outline-4">
<h4 id="org514d24c"><span class="section-number-4">5.3.30.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-5-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4dcb21d" class="outline-4">
<h4 id="org4dcb21d"><span class="section-number-4">5.3.31.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-5-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org15757bd" class="outline-4">
<h4 id="org15757bd"><span class="section-number-4">5.3.32.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-5-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6972c94" class="outline-4">
<h4 id="org6972c94"><span class="section-number-4">5.3.33.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-5-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0341ef5" class="outline-4">
<h4 id="org0341ef5"><span class="section-number-4">5.3.34.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-5-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1b8661b" class="outline-4">
<h4 id="org1b8661b"><span class="section-number-4">5.3.35.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-5-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-org91f904a" class="outline-4">
<h4 id="org91f904a"><span class="section-number-4">5.3.36.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-5-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-org730d737" class="outline-4">
<h4 id="org730d737"><span class="section-number-4">5.3.37.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-5-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-org624de80" class="outline-4">
<h4 id="org624de80"><span class="section-number-4">5.3.38.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-5-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org870dc56" class="outline-3">
<h3 id="org870dc56"><span class="section-number-3">5.4.</span> Primitives</h3>
<div class="outline-text-3" id="text-5-4">
</div>
<div id="outline-container-org74f4056" class="outline-4">
<h4 id="org74f4056"><span class="section-number-4">5.4.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-5-4-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-org6c8ae85" class="outline-4">
<h4 id="org6c8ae85"><span class="section-number-4">5.4.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-5-4-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-org8bf7d5a" class="outline-4">
<h4 id="org8bf7d5a"><span class="section-number-4">5.4.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-5-4-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-org8123064" class="outline-4">
<h4 id="org8123064"><span class="section-number-4">5.4.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-5-4-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-org563b370" class="outline-4">
<h4 id="org563b370"><span class="section-number-4">5.4.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-5-4-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-orgfba6bec" class="outline-4">
<h4 id="orgfba6bec"><span class="section-number-4">5.4.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-5-4-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-org50a36bf" class="outline-4">
<h4 id="org50a36bf"><span class="section-number-4">5.4.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-5-4-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-org777a5e7" class="outline-4">
<h4 id="org777a5e7"><span class="section-number-4">5.4.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-5-4-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-org6e36d64" class="outline-4">
<h4 id="org6e36d64"><span class="section-number-4">5.4.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-5-4-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-org477b9f8" class="outline-4">
<h4 id="org477b9f8"><span class="section-number-4">5.4.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-5-4-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-org3b7711e" class="outline-4">
<h4 id="org3b7711e"><span class="section-number-4">5.4.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-5-4-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-orgcaf418c" class="outline-4">
<h4 id="orgcaf418c"><span class="section-number-4">5.4.12.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-5-4-12">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org5651784" class="outline-4">
<h4 id="org5651784"><span class="section-number-4">5.4.13.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-5-4-13">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-orgd23e693" class="outline-4">
<h4 id="orgd23e693"><span class="section-number-4">5.4.14.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-5-4-14">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-org07125da" class="outline-4">
<h4 id="org07125da"><span class="section-number-4">5.4.15.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-5-4-15">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org34758d3" class="outline-4">
<h4 id="org34758d3"><span class="section-number-4">5.4.16.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-5-4-16">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-orga1f2274" class="outline-4">
<h4 id="orga1f2274"><span class="section-number-4">5.4.17.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-5-4-17">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-orge09a372" class="outline-4">
<h4 id="orge09a372"><span class="section-number-4">5.4.18.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-5-4-18">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-org95de7cc" class="outline-4">
<h4 id="org95de7cc"><span class="section-number-4">5.4.19.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-5-4-19">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-orgf4ed76e" class="outline-4">
<h4 id="orgf4ed76e"><span class="section-number-4">5.4.20.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-5-4-20">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-org7ec2410" class="outline-4">
<h4 id="org7ec2410"><span class="section-number-4">5.4.21.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-5-4-21">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-orge3fa680" class="outline-4">
<h4 id="orge3fa680"><span class="section-number-4">5.4.22.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-5-4-22">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-orgd8b04e8" class="outline-4">
<h4 id="orgd8b04e8"><span class="section-number-4">5.4.23.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-5-4-23">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-org1b7f1b9" class="outline-4">
<h4 id="org1b7f1b9"><span class="section-number-4">5.4.24.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-5-4-24">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-org2394ca0" class="outline-4">
<h4 id="org2394ca0"><span class="section-number-4">5.4.25.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-5-4-25">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-org5210fd7" class="outline-4">
<h4 id="org5210fd7"><span class="section-number-4">5.4.26.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-5-4-26">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-orgb0b9518" class="outline-4">
<h4 id="orgb0b9518"><span class="section-number-4">5.4.27.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-5-4-27">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-org9a02f58" class="outline-4">
<h4 id="org9a02f58"><span class="section-number-4">5.4.28.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-5-4-28">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org0fe0dbc" class="outline-4">
<h4 id="org0fe0dbc"><span class="section-number-4">5.4.29.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-5-4-29">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-org9916582" class="outline-4">
<h4 id="org9916582"><span class="section-number-4">5.4.30.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-5-4-30">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgb34f90a" class="outline-4">
<h4 id="orgb34f90a"><span class="section-number-4">5.4.31.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-5-4-31">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org75d1632" class="outline-4">
<h4 id="org75d1632"><span class="section-number-4">5.4.32.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-5-4-32">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgf6704a0" class="outline-4">
<h4 id="orgf6704a0"><span class="section-number-4">5.4.33.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-5-4-33">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org5b2de89" class="outline-4">
<h4 id="org5b2de89"><span class="section-number-4">5.4.34.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-5-4-34">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org3622dea" class="outline-4">
<h4 id="org3622dea"><span class="section-number-4">5.4.35.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-5-4-35">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org4b91249" class="outline-4">
<h4 id="org4b91249"><span class="section-number-4">5.4.36.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-5-4-36">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgacfbb1f" class="outline-4">
<h4 id="orgacfbb1f"><span class="section-number-4">5.4.37.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-5-4-37">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org5e04db5" class="outline-4">
<h4 id="org5e04db5"><span class="section-number-4">5.4.38.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-5-4-38">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-orgdb4d46e" class="outline-4">
<h4 id="orgdb4d46e"><span class="section-number-4">5.4.39.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-5-4-39">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-orgef37e93" class="outline-4">
<h4 id="orgef37e93"><span class="section-number-4">5.4.40.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-5-4-40">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-orgced7f5e" class="outline-4">
<h4 id="orgced7f5e"><span class="section-number-4">5.4.41.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-5-4-41">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-orge73ec29" class="outline-4">
<h4 id="orge73ec29"><span class="section-number-4">5.4.42.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-5-4-42">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-org0c606f4" class="outline-4">
<h4 id="org0c606f4"><span class="section-number-4">5.4.43.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-5-4-43">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-org213424d" class="outline-4">
<h4 id="org213424d"><span class="section-number-4">5.4.44.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-5-4-44">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org6d5a4fb" class="outline-4">
<h4 id="org6d5a4fb"><span class="section-number-4">5.4.45.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-5-4-45">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-org2af575d" class="outline-4">
<h4 id="org2af575d"><span class="section-number-4">5.4.46.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-5-4-46">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgc3a2670" class="outline-4">
<h4 id="orgc3a2670"><span class="section-number-4">5.4.47.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-5-4-47">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgb9ed484" class="outline-4">
<h4 id="orgb9ed484"><span class="section-number-4">5.4.48.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-5-4-48">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orge7c2f7d" class="outline-4">
<h4 id="orge7c2f7d"><span class="section-number-4">5.4.49.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-5-4-49">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org9444907" class="outline-4">
<h4 id="org9444907"><span class="section-number-4">5.4.50.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-5-4-50">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-orgf15bdc9" class="outline-4">
<h4 id="orgf15bdc9"><span class="section-number-4">5.4.51.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-5-4-51">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-orge8c11e1" class="outline-4">
<h4 id="orge8c11e1"><span class="section-number-4">5.4.52.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-5-4-52">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org8fb0518" class="outline-4">
<h4 id="org8fb0518"><span class="section-number-4">5.4.53.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-5-4-53">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-orga3ccf06" class="outline-4">
<h4 id="orga3ccf06"><span class="section-number-4">5.4.54.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-5-4-54">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org8aace33" class="outline-4">
<h4 id="org8aace33"><span class="section-number-4">5.4.55.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-5-4-55">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-org43951df" class="outline-4">
<h4 id="org43951df"><span class="section-number-4">5.4.56.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-5-4-56">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org2448cde" class="outline-2">
<h2 id="org2448cde"><span class="section-number-2">6.</span> Package <code>llvm-aarch64</code></h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-org38d1732" class="outline-3">
<h3 id="org38d1732"><span class="section-number-3">6.1.</span> Constants</h3>
<div class="outline-text-3" id="text-6-1">
</div>
<div id="outline-container-orge21dd56" class="outline-4">
<h4 id="orge21dd56"><span class="section-number-4">6.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-6-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org19c6837" class="outline-4">
<h4 id="org19c6837"><span class="section-number-4">6.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-6-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org836035c" class="outline-4">
<h4 id="org836035c"><span class="section-number-4">6.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-6-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga8acbdf" class="outline-3">
<h3 id="orga8acbdf"><span class="section-number-3">6.2.</span> Functions</h3>
<div class="outline-text-3" id="text-6-2">
</div>
<div id="outline-container-org7d1a5c1" class="outline-4">
<h4 id="org7d1a5c1"><span class="section-number-4">6.2.1.</span> <code>ADDWri</code></h4>
<div class="outline-text-4" id="text-6-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 108, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDWri</span> (dst r1 imm s)
  (setw dst (+ r1 (lshift imm s))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9d0e382" class="outline-4">
<h4 id="org9d0e382"><span class="section-number-4">6.2.2.</span> <code>ADDWrs</code></h4>
<div class="outline-text-4" id="text-6-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 102, characters 0-60</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDWrs</span> (dst r1 v s)
  (setw dst (+ r1 (lshift v s))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga0743ce" class="outline-4">
<h4 id="orga0743ce"><span class="section-number-4">6.2.3.</span> <code>ADDXri</code></h4>
<div class="outline-text-4" id="text-6-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 29, characters 0-70</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDXri</span> (dst src imm off)
  (set$ dst (+ src (lshift imm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd61586b" class="outline-4">
<h4 id="orgd61586b"><span class="section-number-4">6.2.4.</span> <code>ADDXrs</code></h4>
<div class="outline-text-4" id="text-6-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 139, characters 0-65</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDXrs</span> (rd rn rm off)
  (set$ rd (+ rn (shifted rm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6ac7d74" class="outline-4">
<h4 id="org6ac7d74"><span class="section-number-4">6.2.5.</span> <code>ADRP</code></h4>
<div class="outline-text-4" id="text-6-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 97, characters 0-148</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADRP</span> (dst imm)
  (set$ dst (+
             (logand (get-program-counter) (lshift -1 12))
             (cast-signed (word) (lshift imm 12)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org900652a" class="outline-4">
<h4 id="org900652a"><span class="section-number-4">6.2.6.</span> <code>ANDWri</code></h4>
<div class="outline-text-4" id="text-6-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 93, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ANDWri</span> (dst rn imm)
  (setw dst (logand rn imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org84bfaaa" class="outline-4">
<h4 id="org84bfaaa"><span class="section-number-4">6.2.7.</span> <code>ANDWrs</code></h4>
<div class="outline-text-4" id="text-6-2-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 87, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ANDWrs</span> (rd rn rm is) (log*?rs setw logand rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcb33f6a" class="outline-4">
<h4 id="orgcb33f6a"><span class="section-number-4">6.2.8.</span> <code>ANDXrs</code></h4>
<div class="outline-text-4" id="text-6-2-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 90, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ANDXrs</span> (rd rn rm is) (log*?rs set$ logand rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-org139c835" class="outline-4">
<h4 id="org139c835"><span class="section-number-4">6.2.9.</span> <code>B</code></h4>
<div class="outline-text-4" id="text-6-2-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 227, characters 0-37</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">B</span> (off)
  (relative-jump off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga6e3b3d" class="outline-4">
<h4 id="orga6e3b3d"><span class="section-number-4">6.2.10.</span> <code>BL</code></h4>
<div class="outline-text-4" id="text-6-2-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 216, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BL</span> (off)
  (set LR (+ (get-program-counter) 4))
  (relative-jump off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org97610ec" class="outline-4">
<h4 id="org97610ec"><span class="section-number-4">6.2.11.</span> <code>BLR</code></h4>
<div class="outline-text-4" id="text-6-2-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 223, characters 0-74</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BLR</span> (reg)
  (set LR (+ (get-program-counter) 4))
  (exec-addr reg))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdcf9edd" class="outline-4">
<h4 id="orgdcf9edd"><span class="section-number-4">6.2.12.</span> <code>BR</code></h4>
<div class="outline-text-4" id="text-6-2-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 220, characters 0-34</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BR</span> (reg)
  (exec-addr reg))

</pre>
</div>
</div>
</div>

<div id="outline-container-org715d3ca" class="outline-4">
<h4 id="org715d3ca"><span class="section-number-4">6.2.13.</span> <code>Bcc</code></h4>
<div class="outline-text-4" id="text-6-2-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 250, characters 0-76</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">Bcc</span> (cnd off)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (relative-jump off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5ed9337" class="outline-4">
<h4 id="org5ed9337"><span class="section-number-4">6.2.14.</span> <code>CBNZW</code></h4>
<div class="outline-text-4" id="text-6-2-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 246, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">CBNZW</span> (reg off)
  (<span style="color: #00ffff;">when</span> (/= reg 0)
    (relative-jump off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc494fb2" class="outline-4">
<h4 id="orgc494fb2"><span class="section-number-4">6.2.15.</span> <code>CBNZX</code></h4>
<div class="outline-text-4" id="text-6-2-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 242, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">CBNZX</span> (reg off)
  (<span style="color: #00ffff;">when</span> (/= reg 0)
    (relative-jump off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6f44d36" class="outline-4">
<h4 id="org6f44d36"><span class="section-number-4">6.2.16.</span> <code>CBZW</code></h4>
<div class="outline-text-4" id="text-6-2-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 238, characters 0-69</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">CBZW</span> (reg off)
  (<span style="color: #00ffff;">when</span> (is-zero reg)
    (relative-jump off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2d19b65" class="outline-4">
<h4 id="org2d19b65"><span class="section-number-4">6.2.17.</span> <code>CBZX</code></h4>
<div class="outline-text-4" id="text-6-2-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 234, characters 0-69</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">CBZX</span> (reg off)
  (<span style="color: #00ffff;">when</span> (is-zero reg)
    (relative-jump off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org104508a" class="outline-4">
<h4 id="org104508a"><span class="section-number-4">6.2.18.</span> <code>EORWrs</code></h4>
<div class="outline-text-4" id="text-6-2-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 86, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">EORWrs</span> (rd rn rm is) (log*?rs setw logxor rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgba22e5e" class="outline-4">
<h4 id="orgba22e5e"><span class="section-number-4">6.2.19.</span> <code>EORXrs</code></h4>
<div class="outline-text-4" id="text-6-2-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 89, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">EORXrs</span> (rd rn rm is) (log*?rs set$ logxor rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-org458244a" class="outline-4">
<h4 id="org458244a"><span class="section-number-4">6.2.20.</span> <code>LDPXi</code></h4>
<div class="outline-text-4" id="text-6-2-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 189, characters 0-153</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDPXi</span> (r1 r2 base off)
  (<span style="color: #00ffff;">let</span> ((off (lshift off 3)))
    (set$ r1 (load-word (+ base off)))
    (set$ r2 (load-word (+ base off (sizeof word))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb4def2a" class="outline-4">
<h4 id="orgb4def2a"><span class="section-number-4">6.2.21.</span> <code>LDPXpost</code></h4>
<div class="outline-text-4" id="text-6-2-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 183, characters 0-175</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDPXpost</span> (dst r1 r2 base off)
  (<span style="color: #00ffff;">let</span> ((off (lshift off 3)))
    (set$ r1 (load-word base))
    (set$ r2 (load-word (+ base (sizeof word))))
    (set$ dst (+ dst off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0ff81b0" class="outline-4">
<h4 id="org0ff81b0"><span class="section-number-4">6.2.22.</span> <code>LDRBBroX</code></h4>
<div class="outline-text-4" id="text-6-2-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 48, characters 0-102</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDRBBroX</span> (dst reg off _ _)
  (set$ dst
        (cast-unsigned (word) (load-byte (+ reg off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org446e7ea" class="outline-4">
<h4 id="org446e7ea"><span class="section-number-4">6.2.23.</span> <code>LDRBBui</code></h4>
<div class="outline-text-4" id="text-6-2-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 44, characters 0-97</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDRBBui</span> (dst reg off)
  (setw dst
        (cast-unsigned (word) (load-byte (+ reg off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2fd51b9" class="outline-4">
<h4 id="org2fd51b9"><span class="section-number-4">6.2.24.</span> <code>LDRSWui</code></h4>
<div class="outline-text-4" id="text-6-2-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 35, characters 0-127</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDRSWui</span> (dst base off)
  (set$ dst (cast-signed
             (word)
             (load-hword (+ base (lshift off 2))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org348fe29" class="outline-4">
<h4 id="org348fe29"><span class="section-number-4">6.2.25.</span> <code>LDRWui</code></h4>
<div class="outline-text-4" id="text-6-2-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 40, characters 0-108</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDRWui</span> (dst reg off)
  (setw dst
        (cast-unsigned (word) (load-hword (+ reg (lshift off 2))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3ecdc34" class="outline-4">
<h4 id="org3ecdc34"><span class="section-number-4">6.2.26.</span> <code>LDRXroX</code></h4>
<div class="outline-text-4" id="text-6-2-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 205, characters 0-89</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDRXroX</span> (rt rn rm _ shift)
  (set$ rt (load-word (+ rn (lshift rm (* shift 3))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0d3a7b1" class="outline-4">
<h4 id="org0d3a7b1"><span class="section-number-4">6.2.27.</span> <code>LDRXui</code></h4>
<div class="outline-text-4" id="text-6-2-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 32, characters 0-76</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LDRXui</span> (dst reg off)
  (set$ dst (load-word (+ reg (lshift off 3)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1c4c74c" class="outline-4">
<h4 id="org1c4c74c"><span class="section-number-4">6.2.28.</span> <code>MOVKWi</code></h4>
<div class="outline-text-4" id="text-6-2-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 26, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">MOVKWi</span> (dst reg imm off) (MOVK*i dst reg imm off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbaf387c" class="outline-4">
<h4 id="orgbaf387c"><span class="section-number-4">6.2.29.</span> <code>MOVKXi</code></h4>
<div class="outline-text-4" id="text-6-2-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 27, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">MOVKXi</span> (dst reg imm off) (MOVK*i dst reg imm off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org52b933c" class="outline-4">
<h4 id="org52b933c"><span class="section-number-4">6.2.30.</span> <code>MOVNWi</code></h4>
<div class="outline-text-4" id="text-6-2-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 19, characters 0-65</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">MOVNWi</span> (dst imm off)
  (setw dst (lnot (lshift imm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org59ad09c" class="outline-4">
<h4 id="org59ad09c"><span class="section-number-4">6.2.31.</span> <code>MOVZWi</code></h4>
<div class="outline-text-4" id="text-6-2-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 16, characters 0-58</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">MOVZWi</span> (dst imm pos)
  (setw dst (lshift imm pos)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org88a95ef" class="outline-4">
<h4 id="org88a95ef"><span class="section-number-4">6.2.32.</span> <code>MOVZXi</code></h4>
<div class="outline-text-4" id="text-6-2-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 13, characters 0-58</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">MOVZXi</span> (dst imm pos)
  (set$ dst (lshift imm pos)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8f005e9" class="outline-4">
<h4 id="org8f005e9"><span class="section-number-4">6.2.33.</span> <code>ORNWrs</code></h4>
<div class="outline-text-4" id="text-6-2-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 79, characters 0-54</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ORNWrs</span> (rd rn rm is) (ORN*rs setw rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5306cca" class="outline-4">
<h4 id="org5306cca"><span class="section-number-4">6.2.34.</span> <code>ORNXrs</code></h4>
<div class="outline-text-4" id="text-6-2-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 80, characters 0-54</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ORNXrs</span> (rd rn rm is) (ORN*rs set$ rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc5da525" class="outline-4">
<h4 id="orgc5da525"><span class="section-number-4">6.2.35.</span> <code>ORRWrs</code></h4>
<div class="outline-text-4" id="text-6-2-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 85, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ORRWrs</span> (rd rn rm is) (log*?rs setw logor  rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb784620" class="outline-4">
<h4 id="orgb784620"><span class="section-number-4">6.2.36.</span> <code>ORRXrs</code></h4>
<div class="outline-text-4" id="text-6-2-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 88, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ORRXrs</span> (rd rn rm is) (log*?rs set$ logor  rd rn rm is))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1888d92" class="outline-4">
<h4 id="org1888d92"><span class="section-number-4">6.2.37.</span> <code>RET</code></h4>
<div class="outline-text-4" id="text-6-2-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 231, characters 0-35</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">RET</span> (dst)
  (exec-addr dst))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4143e38" class="outline-4">
<h4 id="org4143e38"><span class="section-number-4">6.2.38.</span> <code>SBFMWri</code></h4>
<div class="outline-text-4" id="text-6-2-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 73, characters 0-71</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SBFMWri</span> (xd xr ir is)
  (make-BFM setw cast-signed xd xr ir is))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2492ec2" class="outline-4">
<h4 id="org2492ec2"><span class="section-number-4">6.2.39.</span> <code>SBFMXri</code></h4>
<div class="outline-text-4" id="text-6-2-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 70, characters 0-71</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SBFMXri</span> (xd xr ir is)
  (make-BFM set$ cast-signed xd xr ir is))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf5fae41" class="outline-4">
<h4 id="orgf5fae41"><span class="section-number-4">6.2.40.</span> <code>STPXi</code></h4>
<div class="outline-text-4" id="text-6-2-40">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 178, characters 0-145</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">STPXi</span> (t1 t2 base off)
  (<span style="color: #00ffff;">let</span> ((off (lshift off 4)))
    (store-word base (+ base off))
    (store-word base (+ base off (sizeof word)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5e84d71" class="outline-4">
<h4 id="org5e84d71"><span class="section-number-4">6.2.41.</span> <code>STPXpre</code></h4>
<div class="outline-text-4" id="text-6-2-41">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 172, characters 0-169</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">STPXpre</span> (dst t1 t2 _ off)
  (<span style="color: #00ffff;">let</span> ((off (lshift off 3)))
    (store-word (+ dst off) t1)
    (store-word (+ dst off (sizeof word)) t2)
    (set$ dst (+ dst off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3bf7ab3" class="outline-4">
<h4 id="org3bf7ab3"><span class="section-number-4">6.2.42.</span> <code>STRBBui</code></h4>
<div class="outline-text-4" id="text-6-2-42">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 210, characters 0-60</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">STRBBui</span> (src reg off)
  (store-byte (+ reg off) src))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0d8b433" class="outline-4">
<h4 id="org0d8b433"><span class="section-number-4">6.2.43.</span> <code>STRWui</code></h4>
<div class="outline-text-4" id="text-6-2-43">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 198, characters 0-106</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">STRWui</span> (src reg off)
  (<span style="color: #00ffff;">let</span> ((off (lshift off 2)))
    (store-word (+ reg off) (cast-low 32 src))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org415d6f7" class="outline-4">
<h4 id="org415d6f7"><span class="section-number-4">6.2.44.</span> <code>STRXroX</code></h4>
<div class="outline-text-4" id="text-6-2-44">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 202, characters 0-83</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">STRXroX</span> (rt rn rm _ shift)
  (store-word (+ rn (lshift rm (* shift 3))) rt))

</pre>
</div>
</div>
</div>

<div id="outline-container-org48efcea" class="outline-4">
<h4 id="org48efcea"><span class="section-number-4">6.2.45.</span> <code>STRXui</code></h4>
<div class="outline-text-4" id="text-6-2-45">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 194, characters 0-92</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">STRXui</span> (src reg off)
  (<span style="color: #00ffff;">let</span> ((off (lshift off 3)))
    (store-word (+ reg off) src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4406fbd" class="outline-4">
<h4 id="org4406fbd"><span class="section-number-4">6.2.46.</span> <code>SUBSWri</code></h4>
<div class="outline-text-4" id="text-6-2-46">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 123, characters 0-93</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBSWri</span> (rd rn imm off)
  (add-with-carry/clear-base rd rn (lnot (lshift imm off)) 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc5edc4d" class="outline-4">
<h4 id="orgc5edc4d"><span class="section-number-4">6.2.47.</span> <code>SUBSWrs</code></h4>
<div class="outline-text-4" id="text-6-2-47">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 118, characters 0-98</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBSWrs</span> (rd rn rm off)
  (add-with-carry/clear-base
   rd
   rn (lnot (shifted rm off)) 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb697b99" class="outline-4">
<h4 id="orgb697b99"><span class="section-number-4">6.2.48.</span> <code>SUBSXri</code></h4>
<div class="outline-text-4" id="text-6-2-48">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 127, characters 0-82</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBSXri</span> (rd rn imm off)
  (add-with-carry rd rn (lnot (lshift imm off)) 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org984d993" class="outline-4">
<h4 id="org984d993"><span class="section-number-4">6.2.49.</span> <code>SUBSXrs</code></h4>
<div class="outline-text-4" id="text-6-2-49">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 115, characters 0-81</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBSXrs</span> (rd rn rm off)
  (add-with-carry rd rn (lnot (shifted rm off)) 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdab203e" class="outline-4">
<h4 id="orgdab203e"><span class="section-number-4">6.2.50.</span> <code>SUBWri</code></h4>
<div class="outline-text-4" id="text-6-2-50">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 136, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBWri</span> (rd rn imm off)
  (setw rd (- rn (lshift imm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga4b91cc" class="outline-4">
<h4 id="orga4b91cc"><span class="section-number-4">6.2.51.</span> <code>SUBWrs</code></h4>
<div class="outline-text-4" id="text-6-2-51">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 105, characters 0-60</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBWrs</span> (dst r1 v s)
  (setw dst (- r1 (lshift v s))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgec7832a" class="outline-4">
<h4 id="orgec7832a"><span class="section-number-4">6.2.52.</span> <code>SUBXri</code></h4>
<div class="outline-text-4" id="text-6-2-52">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 133, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBXri</span> (rd rn imm off)
  (set$ rd (- rn (lshift imm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org59ef75d" class="outline-4">
<h4 id="org59ef75d"><span class="section-number-4">6.2.53.</span> <code>SUBXrs</code></h4>
<div class="outline-text-4" id="text-6-2-53">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 130, characters 0-65</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBXrs</span> (rd rn rm off)
  (set$ rd (- rn (shifted rm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4c488b9" class="outline-4">
<h4 id="org4c488b9"><span class="section-number-4">6.2.54.</span> <code>SUBXrx64</code></h4>
<div class="outline-text-4" id="text-6-2-54">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 112, characters 0-68</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBXrx64</span> (rd rn rm off)
  (set$ rd (- rn (extended rm off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org94f6fe3" class="outline-4">
<h4 id="org94f6fe3"><span class="section-number-4">6.2.55.</span> <code>UBFMWri</code></h4>
<div class="outline-text-4" id="text-6-2-55">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 67, characters 0-73</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">UBFMWri</span> (xd xr ir is)
  (make-BFM setw cast-unsigned xd xr ir is))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1467717" class="outline-4">
<h4 id="org1467717"><span class="section-number-4">6.2.56.</span> <code>UBFMXri</code></h4>
<div class="outline-text-4" id="text-6-2-56">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 64, characters 0-73</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">UBFMXri</span> (xd xr ir is)
  (make-BFM set$ cast-unsigned xd xr ir is))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0d390c2" class="outline-4">
<h4 id="org0d390c2"><span class="section-number-4">6.2.57.</span> <code>add-with-carry</code></h4>
<div class="outline-text-4" id="text-6-2-57">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 12, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry</span> (rd x y c)
  (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
    (set-flags r x y)
    (set$ rd r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga158aa0" class="outline-4">
<h4 id="orga158aa0"><span class="section-number-4">6.2.58.</span> <code>add-with-carry/clear-base</code></h4>
<div class="outline-text-4" id="text-6-2-58">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 17, characters 0-126</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry/clear-base</span> (rd x y c)
  (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
    (set-flags r y x)
    (clear-base rd)
    (set$ rd r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3ed6de2" class="outline-4">
<h4 id="org3ed6de2"><span class="section-number-4">6.2.59.</span> <code>add-with-carry/it-block</code></h4>
<div class="outline-text-4" id="text-6-2-59">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 23, characters 0-183</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry/it-block</span> (rd x y c cnd)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
      (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
        (set-flags r x y))
      (set$ rd r))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf5dd01d" class="outline-4">
<h4 id="orgf5dd01d"><span class="section-number-4">6.2.60.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-6-2-60">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org12b255e" class="outline-4">
<h4 id="org12b255e"><span class="section-number-4">6.2.61.</span> <code>clear-base</code></h4>
<div class="outline-text-4" id="text-6-2-61">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 63, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">clear-base</span> (reg)
  (set$ (alias-base-register reg) 0))

</pre>
</div>
</div>
</div>

<div id="outline-container-org829944b" class="outline-4">
<h4 id="org829944b"><span class="section-number-4">6.2.62.</span> <code>condition-holds</code></h4>
<div class="outline-text-4" id="text-6-2-62">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 42, characters 0-372</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">condition-holds</span> (cnd)
  (<span style="color: #00ffff;">case</span> cnd
    0b0000 ZF
    0b0001 (lnot ZF)
    0b0010 CF
    0b0010 (lnot CF)
    0b0100 NF
    0b0101 (lnot NF)
    0b0110 VF
    0b0111 (lnot VF)
    0b1000 (logand CF (lnot ZF))
    0b1001 (logor (lnot CF) ZF)
    0b1010 (= NF VF)
    0b1011 (/= NF VF)
    0b1100 (logand (= NF VF) (lnot ZF))
    0b1101 (logor (/= NF VF) ZF)
    true))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4fc77cd" class="outline-4">
<h4 id="org4fc77cd"><span class="section-number-4">6.2.63.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-6-2-63">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf413583" class="outline-4">
<h4 id="orgf413583"><span class="section-number-4">6.2.64.</span> <code>is-unconditional</code></h4>
<div class="outline-text-4" id="text-6-2-64">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 60, characters 0-47</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">is-unconditional</span> (cnd)
  (= cnd 0b1110))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd6cf8e5" class="outline-4">
<h4 id="orgd6cf8e5"><span class="section-number-4">6.2.65.</span> <code>logandnot</code></h4>
<div class="outline-text-4" id="text-6-2-65">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 30, characters 0-49</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">logandnot</span> (rd rn)
  (logand rd (lnot rn)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3d09b34" class="outline-4">
<h4 id="org3d09b34"><span class="section-number-4">6.2.66.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-6-2-66">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org20a7e9e" class="outline-4">
<h4 id="org20a7e9e"><span class="section-number-4">6.2.67.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-6-2-67">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org78a7d4a" class="outline-4">
<h4 id="org78a7d4a"><span class="section-number-4">6.2.68.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-6-2-68">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga758d6d" class="outline-4">
<h4 id="orga758d6d"><span class="section-number-4">6.2.69.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-6-2-69">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga64c8ec" class="outline-4">
<h4 id="orga64c8ec"><span class="section-number-4">6.2.70.</span> <code>relative-jump</code></h4>
<div class="outline-text-4" id="text-6-2-70">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 213, characters 0-82</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">relative-jump</span> (off)
  (exec-addr (+ (get-program-counter) (lshift off 2))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org301a708" class="outline-4">
<h4 id="org301a708"><span class="section-number-4">6.2.71.</span> <code>set-flags</code></h4>
<div class="outline-text-4" id="text-6-2-71">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 6, characters 0-120</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">set-flags</span> (r x y)
  (set NF (msb r))
  (set VF (overflow r x y))
  (set ZF (is-zero r))
  (set CF (carry r x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdbfa0ef" class="outline-4">
<h4 id="orgdbfa0ef"><span class="section-number-4">6.2.72.</span> <code>signed-extend</code></h4>
<div class="outline-text-4" id="text-6-2-72">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 154, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">signed-extend</span> (n rm)
  (cast-signed (word) (cast-low n rm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb16e0ef" class="outline-4">
<h4 id="orgb16e0ef"><span class="section-number-4">6.2.73.</span> <code>unsigned-extend</code></h4>
<div class="outline-text-4" id="text-6-2-73">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 151, characters 0-71</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">unsigned-extend</span> (n rm)
  (cast-unsigned (word) (cast-low n rm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb36b56d" class="outline-4">
<h4 id="orgb36b56d"><span class="section-number-4">6.2.74.</span> <code>word</code></h4>
<div class="outline-text-4" id="text-6-2-74">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 11, characters 0-28</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">word</span> () (word-width))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org39c1e27" class="outline-3">
<h3 id="org39c1e27"><span class="section-number-3">6.3.</span> Macros</h3>
<div class="outline-text-3" id="text-6-3">
</div>
<div id="outline-container-org2abc901" class="outline-4">
<h4 id="org2abc901"><span class="section-number-4">6.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-6-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org99df1fc" class="outline-4">
<h4 id="org99df1fc"><span class="section-number-4">6.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-6-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga042be4" class="outline-4">
<h4 id="orga042be4"><span class="section-number-4">6.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-6-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org83df00a" class="outline-4">
<h4 id="org83df00a"><span class="section-number-4">6.3.4.</span> <code>MOVK*i</code></h4>
<div class="outline-text-4" id="text-6-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 22, characters 0-150</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">MOVK*i</span> (dst reg imm off)
  (<span style="color: #00ffff;">let</span> ((mask (lnot (lshift (- (lshift 1 16) 1) off))))
    (set$ dst (logor (logand reg mask) (lshift imm off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0c64216" class="outline-4">
<h4 id="org0c64216"><span class="section-number-4">6.3.5.</span> <code>ORN*rs</code></h4>
<div class="outline-text-4" id="text-6-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 76, characters 0-79</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ORN*rs</span> (set rd rn rm is)
  (set rd (logor rn (lnot (lshift rm is)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4df6278" class="outline-4">
<h4 id="org4df6278"><span class="section-number-4">6.3.6.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-6-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 110, characters 0-55</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x xs)
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r (and xs) r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb3dc475" class="outline-4">
<h4 id="orgb3dc475"><span class="section-number-4">6.3.7.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-6-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org527ca7e" class="outline-4">
<h4 id="org527ca7e"><span class="section-number-4">6.3.8.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-6-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge1a1d73" class="outline-4">
<h4 id="orge1a1d73"><span class="section-number-4">6.3.9.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-6-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf01f7f6" class="outline-4">
<h4 id="orgf01f7f6"><span class="section-number-4">6.3.10.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-6-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga5a738d" class="outline-4">
<h4 id="orga5a738d"><span class="section-number-4">6.3.11.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-6-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org64072f3" class="outline-4">
<h4 id="org64072f3"><span class="section-number-4">6.3.12.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-6-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 166, characters 0-75</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k k' x xs)
  (<span style="color: #00ffff;">if</span> (= k k') x (case/dispatch k xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org572ca27" class="outline-4">
<h4 id="org572ca27"><span class="section-number-4">6.3.13.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-6-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1d6c555" class="outline-4">
<h4 id="org1d6c555"><span class="section-number-4">6.3.14.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-6-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7f483ea" class="outline-4">
<h4 id="org7f483ea"><span class="section-number-4">6.3.15.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-6-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1d1a5a8" class="outline-4">
<h4 id="org1d1a5a8"><span class="section-number-4">6.3.16.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-6-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcf17ea8" class="outline-4">
<h4 id="orgcf17ea8"><span class="section-number-4">6.3.17.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-6-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org708aa82" class="outline-4">
<h4 id="org708aa82"><span class="section-number-4">6.3.18.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-6-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge5fa4a5" class="outline-4">
<h4 id="orge5fa4a5"><span class="section-number-4">6.3.19.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-6-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 103, characters 0-50</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x xs)
  (<span style="color: #00ffff;">prog</span> (decr x) (decr xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3153a8b" class="outline-4">
<h4 id="org3153a8b"><span class="section-number-4">6.3.20.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-6-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 22, characters 0-148</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F X Y) if applied</span>
<span style="color: #ffa07a;">   in the big endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian big)))
  (f x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb7a90f7" class="outline-4">
<h4 id="orgb7a90f7"><span class="section-number-4">6.3.21.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-6-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 151, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x xs) (fold f (f a x) xs))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5b53e44" class="outline-4">
<h4 id="org5b53e44"><span class="section-number-4">6.3.22.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-6-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 97, characters 0-50</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x xs)
  (<span style="color: #00ffff;">prog</span> (incr x) (incr xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org032238d" class="outline-4">
<h4 id="org032238d"><span class="section-number-4">6.3.23.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-6-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 145, characters 0-57</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y ys)
  (or (is-in x y) (is-in x ys)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org63a961d" class="outline-4">
<h4 id="org63a961d"><span class="section-number-4">6.3.24.</span> <code>log*?rs</code></h4>
<div class="outline-text-4" id="text-6-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 82, characters 0-74</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">log*?rs</span> (set op rd rn rm is)
  (set rd (op rn (shifted rm is))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org274a01c" class="outline-4">
<h4 id="org274a01c"><span class="section-number-4">6.3.25.</span> <code>make-BFM</code></h4>
<div class="outline-text-4" id="text-6-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "aarch64.lisp", line 52, characters 0-405</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-BFM</span> (set cast xd xr ir is)
  (<span style="color: #00ffff;">let</span> ((rs (word)))
    (<span style="color: #00ffff;">if</span> (&lt; is ir)
        (<span style="color: #00ffff;">if</span> (and (/= is (- rs 1)) (= (+ is 1) ir))
            (set xd (lshift xr (- rs ir)))
            (set xd (lshift
                      (cast rs (extract is 0 xr))
                      (- rs ir))))
        (<span style="color: #00ffff;">if</span> (= is (- rs 1))
            (set xd (rshift xr ir))
            (set xd (cast rs (extract is ir xr)))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga223027" class="outline-4">
<h4 id="orga223027"><span class="section-number-4">6.3.26.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-6-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-org92053bb" class="outline-4">
<h4 id="org92053bb"><span class="section-number-4">6.3.27.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-6-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 162, characters 0-42</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x y ys) (max (max x y) ys))

</pre>
</div>
</div>
</div>

<div id="outline-container-org13d7556" class="outline-4">
<h4 id="org13d7556"><span class="section-number-4">6.3.28.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-6-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 157, characters 0-42</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x y ys) (min (min x y) ys))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgafc3f8b" class="outline-4">
<h4 id="orgafc3f8b"><span class="section-number-4">6.3.29.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-6-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org880552f" class="outline-4">
<h4 id="org880552f"><span class="section-number-4">6.3.30.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-6-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge8dea6c" class="outline-4">
<h4 id="orge8dea6c"><span class="section-number-4">6.3.31.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-6-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 120, characters 0-19</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb4735b0" class="outline-4">
<h4 id="orgb4735b0"><span class="section-number-4">6.3.32.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-6-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge66ef09" class="outline-4">
<h4 id="orge66ef09"><span class="section-number-4">6.3.33.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-6-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbbd2233" class="outline-4">
<h4 id="orgbbd2233"><span class="section-number-4">6.3.34.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-6-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org38c5fde" class="outline-4">
<h4 id="org38c5fde"><span class="section-number-4">6.3.35.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-6-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4a89849" class="outline-4">
<h4 id="org4a89849"><span class="section-number-4">6.3.36.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-6-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4c3eb3b" class="outline-4">
<h4 id="org4c3eb3b"><span class="section-number-4">6.3.37.</span> <code>setw</code></h4>
<div class="outline-text-4" id="text-6-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 66, characters 0-147</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">setw</span> (reg val)
  <span style="color: #ffa07a;">"(set Wx V) sets a Wx register clearing the upper 32 bits."</span>
  (<span style="color: #00ffff;">let</span> ((res val))
    (clear-base reg)
    (set$ reg res)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org962917c" class="outline-4">
<h4 id="org962917c"><span class="section-number-4">6.3.38.</span> <code>shift-with-carry</code></h4>
<div class="outline-text-4" id="text-6-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 33, characters 0-273</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">shift-with-carry</span> (shift rd rn rm cnd)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (<span style="color: #00ffff;">let</span> ((r (cast-signed (word-width) rn)))
      (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
        (set CF (msb r))
        (set$ rd (shift r rm))
        (set ZF (is-zero rd))
        (set NF (msb rd))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org592b92d" class="outline-4">
<h4 id="org592b92d"><span class="section-number-4">6.3.39.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-6-3-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3423d40" class="outline-4">
<h4 id="org3423d40"><span class="section-number-4">6.3.40.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-6-3-40">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdd4343e" class="outline-4">
<h4 id="orgdd4343e"><span class="section-number-4">6.3.41.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-6-3-41">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8d90457" class="outline-4">
<h4 id="org8d90457"><span class="section-number-4">6.3.42.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-6-3-42">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-org648d20b" class="outline-4">
<h4 id="org648d20b"><span class="section-number-4">6.3.43.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-6-3-43">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge2d181e" class="outline-4">
<h4 id="orge2d181e"><span class="section-number-4">6.3.44.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-6-3-44">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orged58017" class="outline-3">
<h3 id="orged58017"><span class="section-number-3">6.4.</span> Primitives</h3>
<div class="outline-text-3" id="text-6-4">
</div>
<div id="outline-container-orgf1b2573" class="outline-4">
<h4 id="orgf1b2573"><span class="section-number-4">6.4.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-6-4-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-org379a17f" class="outline-4">
<h4 id="org379a17f"><span class="section-number-4">6.4.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-6-4-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-org5c1e1ec" class="outline-4">
<h4 id="org5c1e1ec"><span class="section-number-4">6.4.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-6-4-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-org25ce9e3" class="outline-4">
<h4 id="org25ce9e3"><span class="section-number-4">6.4.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-6-4-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-orge108330" class="outline-4">
<h4 id="orge108330"><span class="section-number-4">6.4.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-6-4-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-orgeb3b947" class="outline-4">
<h4 id="orgeb3b947"><span class="section-number-4">6.4.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-6-4-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-org8b7d198" class="outline-4">
<h4 id="org8b7d198"><span class="section-number-4">6.4.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-6-4-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-org1a752a5" class="outline-4">
<h4 id="org1a752a5"><span class="section-number-4">6.4.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-6-4-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-org5bf73ab" class="outline-4">
<h4 id="org5bf73ab"><span class="section-number-4">6.4.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-6-4-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-org50f7e53" class="outline-4">
<h4 id="org50f7e53"><span class="section-number-4">6.4.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-6-4-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-orgcdb298c" class="outline-4">
<h4 id="orgcdb298c"><span class="section-number-4">6.4.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-6-4-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-org3ac44f9" class="outline-4">
<h4 id="org3ac44f9"><span class="section-number-4">6.4.12.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-6-4-12">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org420359e" class="outline-4">
<h4 id="org420359e"><span class="section-number-4">6.4.13.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-6-4-13">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-org5b0ea85" class="outline-4">
<h4 id="org5b0ea85"><span class="section-number-4">6.4.14.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-6-4-14">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-orgd367406" class="outline-4">
<h4 id="orgd367406"><span class="section-number-4">6.4.15.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-6-4-15">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org9a44ecb" class="outline-4">
<h4 id="org9a44ecb"><span class="section-number-4">6.4.16.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-6-4-16">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org7771827" class="outline-4">
<h4 id="org7771827"><span class="section-number-4">6.4.17.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-6-4-17">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-orga422b76" class="outline-4">
<h4 id="orga422b76"><span class="section-number-4">6.4.18.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-6-4-18">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-org5f131c9" class="outline-4">
<h4 id="org5f131c9"><span class="section-number-4">6.4.19.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-6-4-19">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-org5765625" class="outline-4">
<h4 id="org5765625"><span class="section-number-4">6.4.20.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-6-4-20">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-orgd010972" class="outline-4">
<h4 id="orgd010972"><span class="section-number-4">6.4.21.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-6-4-21">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-org7f5eef6" class="outline-4">
<h4 id="org7f5eef6"><span class="section-number-4">6.4.22.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-6-4-22">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-org11f3638" class="outline-4">
<h4 id="org11f3638"><span class="section-number-4">6.4.23.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-6-4-23">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-org5a56fd2" class="outline-4">
<h4 id="org5a56fd2"><span class="section-number-4">6.4.24.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-6-4-24">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-org766ab65" class="outline-4">
<h4 id="org766ab65"><span class="section-number-4">6.4.25.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-6-4-25">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-org30fa0fc" class="outline-4">
<h4 id="org30fa0fc"><span class="section-number-4">6.4.26.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-6-4-26">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-orgcbd6c75" class="outline-4">
<h4 id="orgcbd6c75"><span class="section-number-4">6.4.27.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-6-4-27">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-orgd0de169" class="outline-4">
<h4 id="orgd0de169"><span class="section-number-4">6.4.28.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-6-4-28">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgbba31d2" class="outline-4">
<h4 id="orgbba31d2"><span class="section-number-4">6.4.29.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-6-4-29">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-org1b0456d" class="outline-4">
<h4 id="org1b0456d"><span class="section-number-4">6.4.30.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-6-4-30">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org30ea837" class="outline-4">
<h4 id="org30ea837"><span class="section-number-4">6.4.31.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-6-4-31">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgece9b57" class="outline-4">
<h4 id="orgece9b57"><span class="section-number-4">6.4.32.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-6-4-32">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgb417926" class="outline-4">
<h4 id="orgb417926"><span class="section-number-4">6.4.33.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-6-4-33">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org27ed938" class="outline-4">
<h4 id="org27ed938"><span class="section-number-4">6.4.34.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-6-4-34">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org6f3218c" class="outline-4">
<h4 id="org6f3218c"><span class="section-number-4">6.4.35.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-6-4-35">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org4f4d986" class="outline-4">
<h4 id="org4f4d986"><span class="section-number-4">6.4.36.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-6-4-36">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgd318ef4" class="outline-4">
<h4 id="orgd318ef4"><span class="section-number-4">6.4.37.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-6-4-37">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgcccc38f" class="outline-4">
<h4 id="orgcccc38f"><span class="section-number-4">6.4.38.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-6-4-38">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-org8d5c50c" class="outline-4">
<h4 id="org8d5c50c"><span class="section-number-4">6.4.39.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-6-4-39">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-org548adec" class="outline-4">
<h4 id="org548adec"><span class="section-number-4">6.4.40.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-6-4-40">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org6888b05" class="outline-4">
<h4 id="org6888b05"><span class="section-number-4">6.4.41.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-6-4-41">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-orgaeb0e4b" class="outline-4">
<h4 id="orgaeb0e4b"><span class="section-number-4">6.4.42.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-6-4-42">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-org165a092" class="outline-4">
<h4 id="org165a092"><span class="section-number-4">6.4.43.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-6-4-43">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-org0d7acd3" class="outline-4">
<h4 id="org0d7acd3"><span class="section-number-4">6.4.44.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-6-4-44">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org6e0161b" class="outline-4">
<h4 id="org6e0161b"><span class="section-number-4">6.4.45.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-6-4-45">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-orgaca375f" class="outline-4">
<h4 id="orgaca375f"><span class="section-number-4">6.4.46.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-6-4-46">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgc122b52" class="outline-4">
<h4 id="orgc122b52"><span class="section-number-4">6.4.47.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-6-4-47">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org5fa6ad3" class="outline-4">
<h4 id="org5fa6ad3"><span class="section-number-4">6.4.48.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-6-4-48">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgaaf2bb5" class="outline-4">
<h4 id="orgaaf2bb5"><span class="section-number-4">6.4.49.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-6-4-49">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org33ca54d" class="outline-4">
<h4 id="org33ca54d"><span class="section-number-4">6.4.50.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-6-4-50">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-org6718e81" class="outline-4">
<h4 id="org6718e81"><span class="section-number-4">6.4.51.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-6-4-51">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-org442b10e" class="outline-4">
<h4 id="org442b10e"><span class="section-number-4">6.4.52.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-6-4-52">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org55b9e49" class="outline-4">
<h4 id="org55b9e49"><span class="section-number-4">6.4.53.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-6-4-53">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org040d967" class="outline-4">
<h4 id="org040d967"><span class="section-number-4">6.4.54.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-6-4-54">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org93b58ab" class="outline-4">
<h4 id="org93b58ab"><span class="section-number-4">6.4.55.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-6-4-55">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-org57de93f" class="outline-4">
<h4 id="org57de93f"><span class="section-number-4">6.4.56.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-6-4-56">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org8948e44" class="outline-2">
<h2 id="org8948e44"><span class="section-number-2">7.</span> Package <code>llvm-riscv32</code></h2>
<div class="outline-text-2" id="text-7">
</div>
<div id="outline-container-org0b08b8f" class="outline-3">
<h3 id="org0b08b8f"><span class="section-number-3">7.1.</span> Constants</h3>
<div class="outline-text-3" id="text-7-1">
</div>
<div id="outline-container-orgc91d29f" class="outline-4">
<h4 id="orgc91d29f"><span class="section-number-4">7.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-7-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org4fff108" class="outline-4">
<h4 id="org4fff108"><span class="section-number-4">7.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-7-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org7552f7d" class="outline-4">
<h4 id="org7552f7d"><span class="section-number-4">7.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-7-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org93e0bcc" class="outline-3">
<h3 id="org93e0bcc"><span class="section-number-3">7.2.</span> Functions</h3>
<div class="outline-text-3" id="text-7-2">
</div>
<div id="outline-container-org235af0f" class="outline-4">
<h4 id="org235af0f"><span class="section-number-4">7.2.1.</span> <code>ADDI</code></h4>
<div class="outline-text-4" id="text-7-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 9, characters 0-51</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDI</span> (dst src off)
  (set$ dst (+ src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org330c3db" class="outline-4">
<h4 id="org330c3db"><span class="section-number-4">7.2.2.</span> <code>ADDIW</code></h4>
<div class="outline-text-4" id="text-7-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 22, characters 0-48</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDIW</span> (dst src off)
  (add3 dst src off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org806fae4" class="outline-4">
<h4 id="org806fae4"><span class="section-number-4">7.2.3.</span> <code>ADDW</code></h4>
<div class="outline-text-4" id="text-7-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 28, characters 0-47</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDW</span> (dst src off)
  (add3 dst src off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgeee928a" class="outline-4">
<h4 id="orgeee928a"><span class="section-number-4">7.2.4.</span> <code>ANDI</code></h4>
<div class="outline-text-4" id="text-7-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 130, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ANDI</span> (dst src off)
  (set$ dst (logand src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org546fa11" class="outline-4">
<h4 id="org546fa11"><span class="section-number-4">7.2.5.</span> <code>AUIPC</code></h4>
<div class="outline-text-4" id="text-7-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 61, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">AUIPC</span> (dst off)
  (set$ dst (+ (get-program-counter) off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1a09be2" class="outline-4">
<h4 id="org1a09be2"><span class="section-number-4">7.2.6.</span> <code>BEQ</code></h4>
<div class="outline-text-4" id="text-7-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 188, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BEQ</span> (rs1 rs2 off)
  (conditional-jump (= rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5a14f91" class="outline-4">
<h4 id="org5a14f91"><span class="section-number-4">7.2.7.</span> <code>BEQZ</code></h4>
<div class="outline-text-4" id="text-7-2-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 206, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BEQZ</span> (rs1 off)
  (conditional-jump (is-zero rs1) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7108409" class="outline-4">
<h4 id="org7108409"><span class="section-number-4">7.2.8.</span> <code>BLT</code></h4>
<div class="outline-text-4" id="text-7-2-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 191, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BLT</span> (rs1 rs2 off)
  (conditional-jump (&lt; rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8603dcc" class="outline-4">
<h4 id="org8603dcc"><span class="section-number-4">7.2.9.</span> <code>BNE</code></h4>
<div class="outline-text-4" id="text-7-2-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 194, characters 0-63</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BNE</span> (rs1 rs2 off)
  (conditional-jump (/= rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge53ec0e" class="outline-4">
<h4 id="orge53ec0e"><span class="section-number-4">7.2.10.</span> <code>BNEZ</code></h4>
<div class="outline-text-4" id="text-7-2-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 212, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BNEZ</span> (rs1 off)
  (conditional-jump (not (is-zero rs1)) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org493144f" class="outline-4">
<h4 id="org493144f"><span class="section-number-4">7.2.11.</span> <code>C_ADD</code></h4>
<div class="outline-text-4" id="text-7-2-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 34, characters 0-46</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADD</span> (rd r1 r2)
  (set$ rd (+ r1 r2)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf101e09" class="outline-4">
<h4 id="orgf101e09"><span class="section-number-4">7.2.12.</span> <code>C_ADDI</code></h4>
<div class="outline-text-4" id="text-7-2-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 12, characters 0-53</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDI</span> (dst src off)
  (set$ dst (+ src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2953a50" class="outline-4">
<h4 id="org2953a50"><span class="section-number-4">7.2.13.</span> <code>C_ADDI16SP</code></h4>
<div class="outline-text-4" id="text-7-2-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 40, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDI16SP</span> (dst src off)
  (set$ dst (+ src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb70c0b7" class="outline-4">
<h4 id="orgb70c0b7"><span class="section-number-4">7.2.14.</span> <code>C_ADDI4SPN</code></h4>
<div class="outline-text-4" id="text-7-2-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 37, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDI4SPN</span> (dst src off)
  (set$ dst (+ src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc5dec07" class="outline-4">
<h4 id="orgc5dec07"><span class="section-number-4">7.2.15.</span> <code>C_ADDIW</code></h4>
<div class="outline-text-4" id="text-7-2-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 25, characters 0-50</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDIW</span> (dst src off)
  (add3 dst src off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org88c8379" class="outline-4">
<h4 id="org88c8379"><span class="section-number-4">7.2.16.</span> <code>C_ADDW</code></h4>
<div class="outline-text-4" id="text-7-2-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 31, characters 0-43</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDW</span> (rd r1 r2)
  (add3 rd r1 r2))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1dee436" class="outline-4">
<h4 id="org1dee436"><span class="section-number-4">7.2.17.</span> <code>C_BEQ</code></h4>
<div class="outline-text-4" id="text-7-2-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 197, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BEQ</span> (rs1 rs2 off)
  (conditional-jump (= rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2b7abee" class="outline-4">
<h4 id="org2b7abee"><span class="section-number-4">7.2.18.</span> <code>C_BEQZ</code></h4>
<div class="outline-text-4" id="text-7-2-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 209, characters 0-63</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BEQZ</span> (rs1 off)
  (conditional-jump (is-zero rs1) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9a7817f" class="outline-4">
<h4 id="org9a7817f"><span class="section-number-4">7.2.19.</span> <code>C_BLT</code></h4>
<div class="outline-text-4" id="text-7-2-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 200, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BLT</span> (rs1 rs2 off)
  (conditional-jump (&lt; rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1982ed1" class="outline-4">
<h4 id="org1982ed1"><span class="section-number-4">7.2.20.</span> <code>C_BNE</code></h4>
<div class="outline-text-4" id="text-7-2-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 203, characters 0-65</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BNE</span> (rs1 rs2 off)
  (conditional-jump (/= rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3717f9a" class="outline-4">
<h4 id="org3717f9a"><span class="section-number-4">7.2.21.</span> <code>C_BNEZ</code></h4>
<div class="outline-text-4" id="text-7-2-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 215, characters 0-69</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BNEZ</span> (rs1 off)
  (conditional-jump (not (is-zero rs1)) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org473c8fa" class="outline-4">
<h4 id="org473c8fa"><span class="section-number-4">7.2.22.</span> <code>C_J</code></h4>
<div class="outline-text-4" id="text-7-2-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 175, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_J</span> (dst)
  (exec-addr (+ (get-program-counter) dst)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge57d9ab" class="outline-4">
<h4 id="orge57d9ab"><span class="section-number-4">7.2.23.</span> <code>C_JALR</code></h4>
<div class="outline-text-4" id="text-7-2-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 178, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_JALR</span> (dst)
  (set X1 (+ (get-program-counter) 2))
  (exec-addr dst))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0be3eef" class="outline-4">
<h4 id="org0be3eef"><span class="section-number-4">7.2.24.</span> <code>C_JR</code></h4>
<div class="outline-text-4" id="text-7-2-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 172, characters 0-36</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_JR</span> (dst)
  (exec-addr dst))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb611475" class="outline-4">
<h4 id="orgb611475"><span class="section-number-4">7.2.25.</span> <code>C_LD</code></h4>
<div class="outline-text-4" id="text-7-2-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 79, characters 0-68</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_LD</span> (dst reg off)
  (set$ dst (core:load-word (+ reg off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge89cdce" class="outline-4">
<h4 id="orge89cdce"><span class="section-number-4">7.2.26.</span> <code>C_LDSP</code></h4>
<div class="outline-text-4" id="text-7-2-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 104, characters 0-70</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_LDSP</span> (dst reg off)
  (set$ dst (core:load-word (+ reg off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1dc2f8a" class="outline-4">
<h4 id="org1dc2f8a"><span class="section-number-4">7.2.27.</span> <code>C_LI</code></h4>
<div class="outline-text-4" id="text-7-2-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 70, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_LI</span> (dst imm)
  (set$ dst (cast-signed (word-width) imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9ec9cf4" class="outline-4">
<h4 id="org9ec9cf4"><span class="section-number-4">7.2.28.</span> <code>C_LUI</code></h4>
<div class="outline-text-4" id="text-7-2-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 55, characters 0-161</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_LUI</span> (dst imm)
  (set$ dst (lshift (cast-signed
                     (- (word-width) 12)
                     (cast-low 6 imm))
                    12)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd6b41a3" class="outline-4">
<h4 id="orgd6b41a3"><span class="section-number-4">7.2.29.</span> <code>C_MV</code></h4>
<div class="outline-text-4" id="text-7-2-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 52, characters 0-39</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_MV</span> (dst src)
  (set$ dst src))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge1110d3" class="outline-4">
<h4 id="orge1110d3"><span class="section-number-4">7.2.30.</span> <code>C_SD</code></h4>
<div class="outline-text-4" id="text-7-2-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 116, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SD</span> (val reg imm)
  (store-word (+ reg imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0dae152" class="outline-4">
<h4 id="org0dae152"><span class="section-number-4">7.2.31.</span> <code>C_SDSP</code></h4>
<div class="outline-text-4" id="text-7-2-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 107, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SDSP</span> (val sp imm)
  (store-word (+ sp imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4efdff5" class="outline-4">
<h4 id="org4efdff5"><span class="section-number-4">7.2.32.</span> <code>C_SLLI</code></h4>
<div class="outline-text-4" id="text-7-2-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 154, characters 0-58</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SLLI</span> (dst reg off)
  (set$ dst (lshift reg off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc46647b" class="outline-4">
<h4 id="orgc46647b"><span class="section-number-4">7.2.33.</span> <code>C_SRAI</code></h4>
<div class="outline-text-4" id="text-7-2-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 145, characters 0-59</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SRAI</span> (dst src imm)
  (set$ dst (arshift src imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd5b89c9" class="outline-4">
<h4 id="orgd5b89c9"><span class="section-number-4">7.2.34.</span> <code>C_SRLI</code></h4>
<div class="outline-text-4" id="text-7-2-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 142, characters 0-58</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SRLI</span> (dst reg off)
  (set$ dst (rshift reg off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9c4a9c7" class="outline-4">
<h4 id="org9c4a9c7"><span class="section-number-4">7.2.35.</span> <code>C_SUB</code></h4>
<div class="outline-text-4" id="text-7-2-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 46, characters 0-46</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SUB</span> (rd r1 r2)
  (set$ rd (- r1 r2)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcab1096" class="outline-4">
<h4 id="orgcab1096"><span class="section-number-4">7.2.36.</span> <code>JAL</code></h4>
<div class="outline-text-4" id="text-7-2-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 162, characters 0-107</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">JAL</span> (lr off)
  (<span style="color: #00ffff;">let</span> ((pc (get-program-counter)))
    (set$ lr (+ pc 4))
    (exec-addr (+ pc off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org16ae7cb" class="outline-4">
<h4 id="org16ae7cb"><span class="section-number-4">7.2.37.</span> <code>JALR</code></h4>
<div class="outline-text-4" id="text-7-2-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 167, characters 0-114</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">JALR</span> (lr rs off)
  (<span style="color: #00ffff;">let</span> ((pc (get-program-counter)))
    (set$ lr (+ pc 4))
    (exec-addr (+ pc rs off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd851de4" class="outline-4">
<h4 id="orgd851de4"><span class="section-number-4">7.2.38.</span> <code>LB</code></h4>
<div class="outline-text-4" id="text-7-2-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 95, characters 0-88</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LB</span> (dst reg off)
  (set$ dst (cast-signed (word-width) (load-byte (+ reg off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0fc0156" class="outline-4">
<h4 id="org0fc0156"><span class="section-number-4">7.2.39.</span> <code>LBU</code></h4>
<div class="outline-text-4" id="text-7-2-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 98, characters 0-91</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LBU</span> (dst reg off)
  (set$ dst (cast-unsigned (word-width) (load-byte (+ reg off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc267229" class="outline-4">
<h4 id="orgc267229"><span class="section-number-4">7.2.40.</span> <code>LD</code></h4>
<div class="outline-text-4" id="text-7-2-40">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 76, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LD</span> (dst reg off)
  (set$ dst (core:load-word (+ reg off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgce070c8" class="outline-4">
<h4 id="orgce070c8"><span class="section-number-4">7.2.41.</span> <code>LH</code></h4>
<div class="outline-text-4" id="text-7-2-41">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 89, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LH</span> (dst reg off)
  (load-word cast-signed 4 dst reg off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0be89a7" class="outline-4">
<h4 id="org0be89a7"><span class="section-number-4">7.2.42.</span> <code>LHU</code></h4>
<div class="outline-text-4" id="text-7-2-42">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 101, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LHU</span> (dst reg off)
  (load-word cast-unsigned 4 dst reg off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf119ce4" class="outline-4">
<h4 id="orgf119ce4"><span class="section-number-4">7.2.43.</span> <code>LI</code></h4>
<div class="outline-text-4" id="text-7-2-43">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 67, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LI</span> (dst imm)
  (set$ dst (cast-signed (word-width) imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6c14e22" class="outline-4">
<h4 id="org6c14e22"><span class="section-number-4">7.2.44.</span> <code>LUI</code></h4>
<div class="outline-text-4" id="text-7-2-44">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 64, characters 0-50</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LUI</span> (dst imm)
  (set$ dst (lshift imm 12)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org86c7c6e" class="outline-4">
<h4 id="org86c7c6e"><span class="section-number-4">7.2.45.</span> <code>LW</code></h4>
<div class="outline-text-4" id="text-7-2-45">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 86, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LW</span> (dst reg off)
  (load-word cast-signed 2 dst reg off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbf9e65f" class="outline-4">
<h4 id="orgbf9e65f"><span class="section-number-4">7.2.46.</span> <code>LWU</code></h4>
<div class="outline-text-4" id="text-7-2-46">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 92, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LWU</span> (dst reg off)
  (load-word cast-unsigned 2 dst reg off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7ff99be" class="outline-4">
<h4 id="org7ff99be"><span class="section-number-4">7.2.47.</span> <code>ORI</code></h4>
<div class="outline-text-4" id="text-7-2-47">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 133, characters 0-54</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ORI</span> (dst src off)
  (set$ dst (logor src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7893f8b" class="outline-4">
<h4 id="org7893f8b"><span class="section-number-4">7.2.48.</span> <code>SB</code></h4>
<div class="outline-text-4" id="text-7-2-48">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 125, characters 0-55</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SB</span> (val reg imm)
  (store-byte (+ reg imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7e4adf3" class="outline-4">
<h4 id="org7e4adf3"><span class="section-number-4">7.2.49.</span> <code>SD</code></h4>
<div class="outline-text-4" id="text-7-2-49">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 113, characters 0-55</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SD</span> (val reg imm)
  (store-word (+ reg imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8c5c06b" class="outline-4">
<h4 id="org8c5c06b"><span class="section-number-4">7.2.50.</span> <code>SDSP</code></h4>
<div class="outline-text-4" id="text-7-2-50">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 110, characters 0-55</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SDSP</span> (val sp imm)
  (store-word (+ sp imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6cc48d4" class="outline-4">
<h4 id="org6cc48d4"><span class="section-number-4">7.2.51.</span> <code>SH</code></h4>
<div class="outline-text-4" id="text-7-2-51">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 122, characters 0-85</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SH</span> (val reg imm)
  (store-word (+ reg imm) (cast-low (/ (word-width) 4) val)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgabf0020" class="outline-4">
<h4 id="orgabf0020"><span class="section-number-4">7.2.52.</span> <code>SLLI</code></h4>
<div class="outline-text-4" id="text-7-2-52">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 151, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SLLI</span> (dst reg off)
  (set$ dst (lshift reg off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org054bc14" class="outline-4">
<h4 id="org054bc14"><span class="section-number-4">7.2.53.</span> <code>SLTI</code></h4>
<div class="outline-text-4" id="text-7-2-53">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 158, characters 0-55</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SLTI</span> (dst src off)
  (set$ dst (&lt; dst src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbaae841" class="outline-4">
<h4 id="orgbaae841"><span class="section-number-4">7.2.54.</span> <code>SRAI</code></h4>
<div class="outline-text-4" id="text-7-2-54">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 148, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SRAI</span> (dst src imm)
  (set$ dst (arshift src imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2199ca9" class="outline-4">
<h4 id="org2199ca9"><span class="section-number-4">7.2.55.</span> <code>SRLI</code></h4>
<div class="outline-text-4" id="text-7-2-55">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 139, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SRLI</span> (dst reg off)
  (set$ dst (rshift reg off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc24b438" class="outline-4">
<h4 id="orgc24b438"><span class="section-number-4">7.2.56.</span> <code>SUB</code></h4>
<div class="outline-text-4" id="text-7-2-56">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 43, characters 0-44</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUB</span> (rd r1 r2)
  (set$ rd (- r1 r2)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3ce10cf" class="outline-4">
<h4 id="org3ce10cf"><span class="section-number-4">7.2.57.</span> <code>SW</code></h4>
<div class="outline-text-4" id="text-7-2-57">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 119, characters 0-85</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SW</span> (val reg imm)
  (store-word (+ reg imm) (cast-low (/ (word-width) 2) val)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbecb96b" class="outline-4">
<h4 id="orgbecb96b"><span class="section-number-4">7.2.58.</span> <code>XORI</code></h4>
<div class="outline-text-4" id="text-7-2-58">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 136, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">XORI</span> (dst src off)
  (set$ dst (logxor src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org21d71b6" class="outline-4">
<h4 id="org21d71b6"><span class="section-number-4">7.2.59.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-7-2-59">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb742b6b" class="outline-4">
<h4 id="orgb742b6b"><span class="section-number-4">7.2.60.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-7-2-60">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8caf8c5" class="outline-4">
<h4 id="org8caf8c5"><span class="section-number-4">7.2.61.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-7-2-61">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbc8f9f8" class="outline-4">
<h4 id="orgbc8f9f8"><span class="section-number-4">7.2.62.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-7-2-62">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org17fe6a1" class="outline-4">
<h4 id="org17fe6a1"><span class="section-number-4">7.2.63.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-7-2-63">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org10bb767" class="outline-4">
<h4 id="org10bb767"><span class="section-number-4">7.2.64.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-7-2-64">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge1222b6" class="outline-3">
<h3 id="orge1222b6"><span class="section-number-3">7.3.</span> Macros</h3>
<div class="outline-text-3" id="text-7-3">
</div>
<div id="outline-container-org8ac3693" class="outline-4">
<h4 id="org8ac3693"><span class="section-number-4">7.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-7-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7b687b1" class="outline-4">
<h4 id="org7b687b1"><span class="section-number-4">7.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-7-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga3225e5" class="outline-4">
<h4 id="orga3225e5"><span class="section-number-4">7.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-7-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9a43334" class="outline-4">
<h4 id="org9a43334"><span class="section-number-4">7.3.4.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-7-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 110, characters 0-55</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x xs)
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r (and xs) r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org64763a9" class="outline-4">
<h4 id="org64763a9"><span class="section-number-4">7.3.5.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-7-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org13e9832" class="outline-4">
<h4 id="org13e9832"><span class="section-number-4">7.3.6.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-7-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9dce040" class="outline-4">
<h4 id="org9dce040"><span class="section-number-4">7.3.7.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-7-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org78f6d43" class="outline-4">
<h4 id="org78f6d43"><span class="section-number-4">7.3.8.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-7-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdf3da61" class="outline-4">
<h4 id="orgdf3da61"><span class="section-number-4">7.3.9.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-7-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1cf8e18" class="outline-4">
<h4 id="org1cf8e18"><span class="section-number-4">7.3.10.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-7-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 166, characters 0-75</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k k' x xs)
  (<span style="color: #00ffff;">if</span> (= k k') x (case/dispatch k xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfcd7aac" class="outline-4">
<h4 id="orgfcd7aac"><span class="section-number-4">7.3.11.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-7-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org895d728" class="outline-4">
<h4 id="org895d728"><span class="section-number-4">7.3.12.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-7-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd035d82" class="outline-4">
<h4 id="orgd035d82"><span class="section-number-4">7.3.13.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-7-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org84a2e18" class="outline-4">
<h4 id="org84a2e18"><span class="section-number-4">7.3.14.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-7-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3891012" class="outline-4">
<h4 id="org3891012"><span class="section-number-4">7.3.15.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-7-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6b6040a" class="outline-4">
<h4 id="org6b6040a"><span class="section-number-4">7.3.16.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-7-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org35e275e" class="outline-4">
<h4 id="org35e275e"><span class="section-number-4">7.3.17.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-7-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 103, characters 0-50</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x xs)
  (<span style="color: #00ffff;">prog</span> (decr x) (decr xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdcf969f" class="outline-4">
<h4 id="orgdcf969f"><span class="section-number-4">7.3.18.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-7-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 22, characters 0-148</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F X Y) if applied</span>
<span style="color: #ffa07a;">   in the big endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian big)))
  (f x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-org00ed802" class="outline-4">
<h4 id="org00ed802"><span class="section-number-4">7.3.19.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-7-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 151, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x xs) (fold f (f a x) xs))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8829710" class="outline-4">
<h4 id="org8829710"><span class="section-number-4">7.3.20.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-7-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 97, characters 0-50</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x xs)
  (<span style="color: #00ffff;">prog</span> (incr x) (incr xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9a8f770" class="outline-4">
<h4 id="org9a8f770"><span class="section-number-4">7.3.21.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-7-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 145, characters 0-57</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y ys)
  (or (is-in x y) (is-in x ys)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfb209fc" class="outline-4">
<h4 id="orgfb209fc"><span class="section-number-4">7.3.22.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-7-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 82, characters 0-141</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">load-word</span> (cast part dst reg off)
  (set$ dst (cast (word-width)
                  (load-bits (/ (word-width) part) (+ reg off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7baa4e8" class="outline-4">
<h4 id="org7baa4e8"><span class="section-number-4">7.3.23.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-7-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5c87e83" class="outline-4">
<h4 id="org5c87e83"><span class="section-number-4">7.3.24.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-7-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 162, characters 0-42</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x y ys) (max (max x y) ys))

</pre>
</div>
</div>
</div>

<div id="outline-container-org986c4db" class="outline-4">
<h4 id="org986c4db"><span class="section-number-4">7.3.25.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-7-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 157, characters 0-42</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x y ys) (min (min x y) ys))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6fbb37c" class="outline-4">
<h4 id="org6fbb37c"><span class="section-number-4">7.3.26.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-7-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5515a37" class="outline-4">
<h4 id="org5515a37"><span class="section-number-4">7.3.27.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-7-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org135816d" class="outline-4">
<h4 id="org135816d"><span class="section-number-4">7.3.28.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-7-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 120, characters 0-19</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org338197d" class="outline-4">
<h4 id="org338197d"><span class="section-number-4">7.3.29.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-7-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga3b9938" class="outline-4">
<h4 id="orga3b9938"><span class="section-number-4">7.3.30.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-7-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1615e9e" class="outline-4">
<h4 id="org1615e9e"><span class="section-number-4">7.3.31.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-7-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org641e342" class="outline-4">
<h4 id="org641e342"><span class="section-number-4">7.3.32.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-7-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org47b149d" class="outline-4">
<h4 id="org47b149d"><span class="section-number-4">7.3.33.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-7-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2351409" class="outline-4">
<h4 id="org2351409"><span class="section-number-4">7.3.34.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-7-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga49d13c" class="outline-4">
<h4 id="orga49d13c"><span class="section-number-4">7.3.35.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-7-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge0ce73e" class="outline-4">
<h4 id="orge0ce73e"><span class="section-number-4">7.3.36.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-7-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga75a7fc" class="outline-4">
<h4 id="orga75a7fc"><span class="section-number-4">7.3.37.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-7-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd04e4ea" class="outline-4">
<h4 id="orgd04e4ea"><span class="section-number-4">7.3.38.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-7-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0e35220" class="outline-4">
<h4 id="org0e35220"><span class="section-number-4">7.3.39.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-7-3-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org90f2cf0" class="outline-3">
<h3 id="org90f2cf0"><span class="section-number-3">7.4.</span> Primitives</h3>
<div class="outline-text-3" id="text-7-4">
</div>
<div id="outline-container-org819a11f" class="outline-4">
<h4 id="org819a11f"><span class="section-number-4">7.4.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-7-4-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-org370e828" class="outline-4">
<h4 id="org370e828"><span class="section-number-4">7.4.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-7-4-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-org6ce47ff" class="outline-4">
<h4 id="org6ce47ff"><span class="section-number-4">7.4.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-7-4-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-org5a95c47" class="outline-4">
<h4 id="org5a95c47"><span class="section-number-4">7.4.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-7-4-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-org0accf25" class="outline-4">
<h4 id="org0accf25"><span class="section-number-4">7.4.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-7-4-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-org1fc0f27" class="outline-4">
<h4 id="org1fc0f27"><span class="section-number-4">7.4.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-7-4-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-org8a3a60d" class="outline-4">
<h4 id="org8a3a60d"><span class="section-number-4">7.4.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-7-4-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-orgfdb23d6" class="outline-4">
<h4 id="orgfdb23d6"><span class="section-number-4">7.4.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-7-4-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-org710056e" class="outline-4">
<h4 id="org710056e"><span class="section-number-4">7.4.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-7-4-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-org2d3eb91" class="outline-4">
<h4 id="org2d3eb91"><span class="section-number-4">7.4.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-7-4-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-orgf0cc888" class="outline-4">
<h4 id="orgf0cc888"><span class="section-number-4">7.4.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-7-4-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-org9efaebe" class="outline-4">
<h4 id="org9efaebe"><span class="section-number-4">7.4.12.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-7-4-12">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org2bad660" class="outline-4">
<h4 id="org2bad660"><span class="section-number-4">7.4.13.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-7-4-13">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-org7ae2113" class="outline-4">
<h4 id="org7ae2113"><span class="section-number-4">7.4.14.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-7-4-14">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-org8225f0e" class="outline-4">
<h4 id="org8225f0e"><span class="section-number-4">7.4.15.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-7-4-15">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-orgcfeccd2" class="outline-4">
<h4 id="orgcfeccd2"><span class="section-number-4">7.4.16.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-7-4-16">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org0582b82" class="outline-4">
<h4 id="org0582b82"><span class="section-number-4">7.4.17.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-7-4-17">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-org258e04d" class="outline-4">
<h4 id="org258e04d"><span class="section-number-4">7.4.18.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-7-4-18">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-orgd8ffcd5" class="outline-4">
<h4 id="orgd8ffcd5"><span class="section-number-4">7.4.19.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-7-4-19">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-org998f799" class="outline-4">
<h4 id="org998f799"><span class="section-number-4">7.4.20.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-7-4-20">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-orgf075ea1" class="outline-4">
<h4 id="orgf075ea1"><span class="section-number-4">7.4.21.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-7-4-21">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-org9696352" class="outline-4">
<h4 id="org9696352"><span class="section-number-4">7.4.22.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-7-4-22">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-org2b9f3fb" class="outline-4">
<h4 id="org2b9f3fb"><span class="section-number-4">7.4.23.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-7-4-23">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-org0230571" class="outline-4">
<h4 id="org0230571"><span class="section-number-4">7.4.24.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-7-4-24">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-org99bbdf2" class="outline-4">
<h4 id="org99bbdf2"><span class="section-number-4">7.4.25.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-7-4-25">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-org92baf56" class="outline-4">
<h4 id="org92baf56"><span class="section-number-4">7.4.26.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-7-4-26">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-org987dd3f" class="outline-4">
<h4 id="org987dd3f"><span class="section-number-4">7.4.27.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-7-4-27">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-org27301dd" class="outline-4">
<h4 id="org27301dd"><span class="section-number-4">7.4.28.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-7-4-28">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org3a23e07" class="outline-4">
<h4 id="org3a23e07"><span class="section-number-4">7.4.29.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-7-4-29">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-org4553646" class="outline-4">
<h4 id="org4553646"><span class="section-number-4">7.4.30.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-7-4-30">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org9cb611f" class="outline-4">
<h4 id="org9cb611f"><span class="section-number-4">7.4.31.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-7-4-31">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org89a2117" class="outline-4">
<h4 id="org89a2117"><span class="section-number-4">7.4.32.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-7-4-32">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgbd90183" class="outline-4">
<h4 id="orgbd90183"><span class="section-number-4">7.4.33.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-7-4-33">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgc4371f0" class="outline-4">
<h4 id="orgc4371f0"><span class="section-number-4">7.4.34.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-7-4-34">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgee3d473" class="outline-4">
<h4 id="orgee3d473"><span class="section-number-4">7.4.35.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-7-4-35">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org30a67fb" class="outline-4">
<h4 id="org30a67fb"><span class="section-number-4">7.4.36.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-7-4-36">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgd556d65" class="outline-4">
<h4 id="orgd556d65"><span class="section-number-4">7.4.37.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-7-4-37">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org1cdbb0a" class="outline-4">
<h4 id="org1cdbb0a"><span class="section-number-4">7.4.38.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-7-4-38">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-orgd3f48e5" class="outline-4">
<h4 id="orgd3f48e5"><span class="section-number-4">7.4.39.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-7-4-39">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-org5711aee" class="outline-4">
<h4 id="org5711aee"><span class="section-number-4">7.4.40.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-7-4-40">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-orge5b3a15" class="outline-4">
<h4 id="orge5b3a15"><span class="section-number-4">7.4.41.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-7-4-41">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-org901cddb" class="outline-4">
<h4 id="org901cddb"><span class="section-number-4">7.4.42.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-7-4-42">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-org3e7519c" class="outline-4">
<h4 id="org3e7519c"><span class="section-number-4">7.4.43.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-7-4-43">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-org7c599a3" class="outline-4">
<h4 id="org7c599a3"><span class="section-number-4">7.4.44.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-7-4-44">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org989fb7c" class="outline-4">
<h4 id="org989fb7c"><span class="section-number-4">7.4.45.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-7-4-45">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-orgf4ec89c" class="outline-4">
<h4 id="orgf4ec89c"><span class="section-number-4">7.4.46.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-7-4-46">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-org9b6069c" class="outline-4">
<h4 id="org9b6069c"><span class="section-number-4">7.4.47.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-7-4-47">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org41d14e9" class="outline-4">
<h4 id="org41d14e9"><span class="section-number-4">7.4.48.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-7-4-48">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgadfd9db" class="outline-4">
<h4 id="orgadfd9db"><span class="section-number-4">7.4.49.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-7-4-49">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org03d4650" class="outline-4">
<h4 id="org03d4650"><span class="section-number-4">7.4.50.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-7-4-50">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-org31728c0" class="outline-4">
<h4 id="org31728c0"><span class="section-number-4">7.4.51.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-7-4-51">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-orgd1f1dc8" class="outline-4">
<h4 id="orgd1f1dc8"><span class="section-number-4">7.4.52.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-7-4-52">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-orgf3bed15" class="outline-4">
<h4 id="orgf3bed15"><span class="section-number-4">7.4.53.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-7-4-53">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org857b7ca" class="outline-4">
<h4 id="org857b7ca"><span class="section-number-4">7.4.54.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-7-4-54">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org4df430f" class="outline-4">
<h4 id="org4df430f"><span class="section-number-4">7.4.55.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-7-4-55">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-org6a46ae3" class="outline-4">
<h4 id="org6a46ae3"><span class="section-number-4">7.4.56.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-7-4-56">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org73babfc" class="outline-2">
<h2 id="org73babfc"><span class="section-number-2">8.</span> Package <code>llvm-riscv64</code></h2>
<div class="outline-text-2" id="text-8">
</div>
<div id="outline-container-orgc084ad6" class="outline-3">
<h3 id="orgc084ad6"><span class="section-number-3">8.1.</span> Constants</h3>
<div class="outline-text-3" id="text-8-1">
</div>
<div id="outline-container-org32d216a" class="outline-4">
<h4 id="org32d216a"><span class="section-number-4">8.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-8-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org94f738e" class="outline-4">
<h4 id="org94f738e"><span class="section-number-4">8.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-8-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfe372ba" class="outline-4">
<h4 id="orgfe372ba"><span class="section-number-4">8.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-8-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8a96b14" class="outline-3">
<h3 id="org8a96b14"><span class="section-number-3">8.2.</span> Functions</h3>
<div class="outline-text-3" id="text-8-2">
</div>
<div id="outline-container-org17efdb8" class="outline-4">
<h4 id="org17efdb8"><span class="section-number-4">8.2.1.</span> <code>ADDI</code></h4>
<div class="outline-text-4" id="text-8-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 9, characters 0-51</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDI</span> (dst src off)
  (set$ dst (+ src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4de5a1a" class="outline-4">
<h4 id="org4de5a1a"><span class="section-number-4">8.2.2.</span> <code>ADDIW</code></h4>
<div class="outline-text-4" id="text-8-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 22, characters 0-48</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDIW</span> (dst src off)
  (add3 dst src off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org83d3337" class="outline-4">
<h4 id="org83d3337"><span class="section-number-4">8.2.3.</span> <code>ADDW</code></h4>
<div class="outline-text-4" id="text-8-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 28, characters 0-47</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDW</span> (dst src off)
  (add3 dst src off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbb7bec2" class="outline-4">
<h4 id="orgbb7bec2"><span class="section-number-4">8.2.4.</span> <code>ANDI</code></h4>
<div class="outline-text-4" id="text-8-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 130, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ANDI</span> (dst src off)
  (set$ dst (logand src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0e642c1" class="outline-4">
<h4 id="org0e642c1"><span class="section-number-4">8.2.5.</span> <code>AUIPC</code></h4>
<div class="outline-text-4" id="text-8-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 61, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">AUIPC</span> (dst off)
  (set$ dst (+ (get-program-counter) off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5e0d304" class="outline-4">
<h4 id="org5e0d304"><span class="section-number-4">8.2.6.</span> <code>BEQ</code></h4>
<div class="outline-text-4" id="text-8-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 188, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BEQ</span> (rs1 rs2 off)
  (conditional-jump (= rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1babde6" class="outline-4">
<h4 id="org1babde6"><span class="section-number-4">8.2.7.</span> <code>BEQZ</code></h4>
<div class="outline-text-4" id="text-8-2-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 206, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BEQZ</span> (rs1 off)
  (conditional-jump (is-zero rs1) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd3ae84f" class="outline-4">
<h4 id="orgd3ae84f"><span class="section-number-4">8.2.8.</span> <code>BLT</code></h4>
<div class="outline-text-4" id="text-8-2-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 191, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BLT</span> (rs1 rs2 off)
  (conditional-jump (&lt; rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga9052e7" class="outline-4">
<h4 id="orga9052e7"><span class="section-number-4">8.2.9.</span> <code>BNE</code></h4>
<div class="outline-text-4" id="text-8-2-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 194, characters 0-63</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BNE</span> (rs1 rs2 off)
  (conditional-jump (/= rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6c4064e" class="outline-4">
<h4 id="org6c4064e"><span class="section-number-4">8.2.10.</span> <code>BNEZ</code></h4>
<div class="outline-text-4" id="text-8-2-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 212, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BNEZ</span> (rs1 off)
  (conditional-jump (not (is-zero rs1)) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org81687a7" class="outline-4">
<h4 id="org81687a7"><span class="section-number-4">8.2.11.</span> <code>C_ADD</code></h4>
<div class="outline-text-4" id="text-8-2-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 34, characters 0-46</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADD</span> (rd r1 r2)
  (set$ rd (+ r1 r2)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org537d977" class="outline-4">
<h4 id="org537d977"><span class="section-number-4">8.2.12.</span> <code>C_ADDI</code></h4>
<div class="outline-text-4" id="text-8-2-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 12, characters 0-53</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDI</span> (dst src off)
  (set$ dst (+ src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org44da533" class="outline-4">
<h4 id="org44da533"><span class="section-number-4">8.2.13.</span> <code>C_ADDI16SP</code></h4>
<div class="outline-text-4" id="text-8-2-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 40, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDI16SP</span> (dst src off)
  (set$ dst (+ src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgad70601" class="outline-4">
<h4 id="orgad70601"><span class="section-number-4">8.2.14.</span> <code>C_ADDI4SPN</code></h4>
<div class="outline-text-4" id="text-8-2-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 37, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDI4SPN</span> (dst src off)
  (set$ dst (+ src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org38aa24d" class="outline-4">
<h4 id="org38aa24d"><span class="section-number-4">8.2.15.</span> <code>C_ADDIW</code></h4>
<div class="outline-text-4" id="text-8-2-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 25, characters 0-50</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDIW</span> (dst src off)
  (add3 dst src off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3c0148f" class="outline-4">
<h4 id="org3c0148f"><span class="section-number-4">8.2.16.</span> <code>C_ADDW</code></h4>
<div class="outline-text-4" id="text-8-2-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 31, characters 0-43</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDW</span> (rd r1 r2)
  (add3 rd r1 r2))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4e5e275" class="outline-4">
<h4 id="org4e5e275"><span class="section-number-4">8.2.17.</span> <code>C_BEQ</code></h4>
<div class="outline-text-4" id="text-8-2-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 197, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BEQ</span> (rs1 rs2 off)
  (conditional-jump (= rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org486f0ee" class="outline-4">
<h4 id="org486f0ee"><span class="section-number-4">8.2.18.</span> <code>C_BEQZ</code></h4>
<div class="outline-text-4" id="text-8-2-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 209, characters 0-63</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BEQZ</span> (rs1 off)
  (conditional-jump (is-zero rs1) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3129c01" class="outline-4">
<h4 id="org3129c01"><span class="section-number-4">8.2.19.</span> <code>C_BLT</code></h4>
<div class="outline-text-4" id="text-8-2-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 200, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BLT</span> (rs1 rs2 off)
  (conditional-jump (&lt; rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org013d800" class="outline-4">
<h4 id="org013d800"><span class="section-number-4">8.2.20.</span> <code>C_BNE</code></h4>
<div class="outline-text-4" id="text-8-2-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 203, characters 0-65</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BNE</span> (rs1 rs2 off)
  (conditional-jump (/= rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org46b7005" class="outline-4">
<h4 id="org46b7005"><span class="section-number-4">8.2.21.</span> <code>C_BNEZ</code></h4>
<div class="outline-text-4" id="text-8-2-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 215, characters 0-69</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BNEZ</span> (rs1 off)
  (conditional-jump (not (is-zero rs1)) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org95cb02e" class="outline-4">
<h4 id="org95cb02e"><span class="section-number-4">8.2.22.</span> <code>C_J</code></h4>
<div class="outline-text-4" id="text-8-2-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 175, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_J</span> (dst)
  (exec-addr (+ (get-program-counter) dst)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge587a61" class="outline-4">
<h4 id="orge587a61"><span class="section-number-4">8.2.23.</span> <code>C_JALR</code></h4>
<div class="outline-text-4" id="text-8-2-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 178, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_JALR</span> (dst)
  (set X1 (+ (get-program-counter) 2))
  (exec-addr dst))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf8873a0" class="outline-4">
<h4 id="orgf8873a0"><span class="section-number-4">8.2.24.</span> <code>C_JR</code></h4>
<div class="outline-text-4" id="text-8-2-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 172, characters 0-36</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_JR</span> (dst)
  (exec-addr dst))

</pre>
</div>
</div>
</div>

<div id="outline-container-org331b8df" class="outline-4">
<h4 id="org331b8df"><span class="section-number-4">8.2.25.</span> <code>C_LD</code></h4>
<div class="outline-text-4" id="text-8-2-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 79, characters 0-68</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_LD</span> (dst reg off)
  (set$ dst (core:load-word (+ reg off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org69dba85" class="outline-4">
<h4 id="org69dba85"><span class="section-number-4">8.2.26.</span> <code>C_LDSP</code></h4>
<div class="outline-text-4" id="text-8-2-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 104, characters 0-70</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_LDSP</span> (dst reg off)
  (set$ dst (core:load-word (+ reg off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf21b215" class="outline-4">
<h4 id="orgf21b215"><span class="section-number-4">8.2.27.</span> <code>C_LI</code></h4>
<div class="outline-text-4" id="text-8-2-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 70, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_LI</span> (dst imm)
  (set$ dst (cast-signed (word-width) imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdefa7c6" class="outline-4">
<h4 id="orgdefa7c6"><span class="section-number-4">8.2.28.</span> <code>C_LUI</code></h4>
<div class="outline-text-4" id="text-8-2-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 55, characters 0-161</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_LUI</span> (dst imm)
  (set$ dst (lshift (cast-signed
                     (- (word-width) 12)
                     (cast-low 6 imm))
                    12)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8697d79" class="outline-4">
<h4 id="org8697d79"><span class="section-number-4">8.2.29.</span> <code>C_MV</code></h4>
<div class="outline-text-4" id="text-8-2-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 52, characters 0-39</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_MV</span> (dst src)
  (set$ dst src))

</pre>
</div>
</div>
</div>

<div id="outline-container-org183480b" class="outline-4">
<h4 id="org183480b"><span class="section-number-4">8.2.30.</span> <code>C_SD</code></h4>
<div class="outline-text-4" id="text-8-2-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 116, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SD</span> (val reg imm)
  (store-word (+ reg imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8dca1e7" class="outline-4">
<h4 id="org8dca1e7"><span class="section-number-4">8.2.31.</span> <code>C_SDSP</code></h4>
<div class="outline-text-4" id="text-8-2-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 107, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SDSP</span> (val sp imm)
  (store-word (+ sp imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-org337e38f" class="outline-4">
<h4 id="org337e38f"><span class="section-number-4">8.2.32.</span> <code>C_SLLI</code></h4>
<div class="outline-text-4" id="text-8-2-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 154, characters 0-58</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SLLI</span> (dst reg off)
  (set$ dst (lshift reg off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc763e6c" class="outline-4">
<h4 id="orgc763e6c"><span class="section-number-4">8.2.33.</span> <code>C_SRAI</code></h4>
<div class="outline-text-4" id="text-8-2-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 145, characters 0-59</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SRAI</span> (dst src imm)
  (set$ dst (arshift src imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0d08580" class="outline-4">
<h4 id="org0d08580"><span class="section-number-4">8.2.34.</span> <code>C_SRLI</code></h4>
<div class="outline-text-4" id="text-8-2-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 142, characters 0-58</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SRLI</span> (dst reg off)
  (set$ dst (rshift reg off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org59febe5" class="outline-4">
<h4 id="org59febe5"><span class="section-number-4">8.2.35.</span> <code>C_SUB</code></h4>
<div class="outline-text-4" id="text-8-2-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 46, characters 0-46</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SUB</span> (rd r1 r2)
  (set$ rd (- r1 r2)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb6436f3" class="outline-4">
<h4 id="orgb6436f3"><span class="section-number-4">8.2.36.</span> <code>JAL</code></h4>
<div class="outline-text-4" id="text-8-2-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 162, characters 0-107</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">JAL</span> (lr off)
  (<span style="color: #00ffff;">let</span> ((pc (get-program-counter)))
    (set$ lr (+ pc 4))
    (exec-addr (+ pc off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga07d103" class="outline-4">
<h4 id="orga07d103"><span class="section-number-4">8.2.37.</span> <code>JALR</code></h4>
<div class="outline-text-4" id="text-8-2-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 167, characters 0-114</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">JALR</span> (lr rs off)
  (<span style="color: #00ffff;">let</span> ((pc (get-program-counter)))
    (set$ lr (+ pc 4))
    (exec-addr (+ pc rs off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfa0dcdc" class="outline-4">
<h4 id="orgfa0dcdc"><span class="section-number-4">8.2.38.</span> <code>LB</code></h4>
<div class="outline-text-4" id="text-8-2-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 95, characters 0-88</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LB</span> (dst reg off)
  (set$ dst (cast-signed (word-width) (load-byte (+ reg off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbdd495d" class="outline-4">
<h4 id="orgbdd495d"><span class="section-number-4">8.2.39.</span> <code>LBU</code></h4>
<div class="outline-text-4" id="text-8-2-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 98, characters 0-91</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LBU</span> (dst reg off)
  (set$ dst (cast-unsigned (word-width) (load-byte (+ reg off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org55476b0" class="outline-4">
<h4 id="org55476b0"><span class="section-number-4">8.2.40.</span> <code>LD</code></h4>
<div class="outline-text-4" id="text-8-2-40">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 76, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LD</span> (dst reg off)
  (set$ dst (core:load-word (+ reg off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgce81bea" class="outline-4">
<h4 id="orgce81bea"><span class="section-number-4">8.2.41.</span> <code>LH</code></h4>
<div class="outline-text-4" id="text-8-2-41">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 89, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LH</span> (dst reg off)
  (load-word cast-signed 4 dst reg off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org21eee24" class="outline-4">
<h4 id="org21eee24"><span class="section-number-4">8.2.42.</span> <code>LHU</code></h4>
<div class="outline-text-4" id="text-8-2-42">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 101, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LHU</span> (dst reg off)
  (load-word cast-unsigned 4 dst reg off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org45f47d3" class="outline-4">
<h4 id="org45f47d3"><span class="section-number-4">8.2.43.</span> <code>LI</code></h4>
<div class="outline-text-4" id="text-8-2-43">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 67, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LI</span> (dst imm)
  (set$ dst (cast-signed (word-width) imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9d27dc4" class="outline-4">
<h4 id="org9d27dc4"><span class="section-number-4">8.2.44.</span> <code>LUI</code></h4>
<div class="outline-text-4" id="text-8-2-44">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 64, characters 0-50</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LUI</span> (dst imm)
  (set$ dst (lshift imm 12)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga7c6b50" class="outline-4">
<h4 id="orga7c6b50"><span class="section-number-4">8.2.45.</span> <code>LW</code></h4>
<div class="outline-text-4" id="text-8-2-45">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 86, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LW</span> (dst reg off)
  (load-word cast-signed 2 dst reg off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org76867cf" class="outline-4">
<h4 id="org76867cf"><span class="section-number-4">8.2.46.</span> <code>LWU</code></h4>
<div class="outline-text-4" id="text-8-2-46">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 92, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LWU</span> (dst reg off)
  (load-word cast-unsigned 2 dst reg off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1bba0d4" class="outline-4">
<h4 id="org1bba0d4"><span class="section-number-4">8.2.47.</span> <code>ORI</code></h4>
<div class="outline-text-4" id="text-8-2-47">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 133, characters 0-54</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ORI</span> (dst src off)
  (set$ dst (logor src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1031478" class="outline-4">
<h4 id="org1031478"><span class="section-number-4">8.2.48.</span> <code>SB</code></h4>
<div class="outline-text-4" id="text-8-2-48">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 125, characters 0-55</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SB</span> (val reg imm)
  (store-byte (+ reg imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3b79933" class="outline-4">
<h4 id="org3b79933"><span class="section-number-4">8.2.49.</span> <code>SD</code></h4>
<div class="outline-text-4" id="text-8-2-49">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 113, characters 0-55</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SD</span> (val reg imm)
  (store-word (+ reg imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc5c8815" class="outline-4">
<h4 id="orgc5c8815"><span class="section-number-4">8.2.50.</span> <code>SDSP</code></h4>
<div class="outline-text-4" id="text-8-2-50">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 110, characters 0-55</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SDSP</span> (val sp imm)
  (store-word (+ sp imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb73469d" class="outline-4">
<h4 id="orgb73469d"><span class="section-number-4">8.2.51.</span> <code>SH</code></h4>
<div class="outline-text-4" id="text-8-2-51">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 122, characters 0-85</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SH</span> (val reg imm)
  (store-word (+ reg imm) (cast-low (/ (word-width) 4) val)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org58204b7" class="outline-4">
<h4 id="org58204b7"><span class="section-number-4">8.2.52.</span> <code>SLLI</code></h4>
<div class="outline-text-4" id="text-8-2-52">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 151, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SLLI</span> (dst reg off)
  (set$ dst (lshift reg off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9ca7d3d" class="outline-4">
<h4 id="org9ca7d3d"><span class="section-number-4">8.2.53.</span> <code>SLTI</code></h4>
<div class="outline-text-4" id="text-8-2-53">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 158, characters 0-55</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SLTI</span> (dst src off)
  (set$ dst (&lt; dst src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbd3b609" class="outline-4">
<h4 id="orgbd3b609"><span class="section-number-4">8.2.54.</span> <code>SRAI</code></h4>
<div class="outline-text-4" id="text-8-2-54">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 148, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SRAI</span> (dst src imm)
  (set$ dst (arshift src imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0a2b3a6" class="outline-4">
<h4 id="org0a2b3a6"><span class="section-number-4">8.2.55.</span> <code>SRLI</code></h4>
<div class="outline-text-4" id="text-8-2-55">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 139, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SRLI</span> (dst reg off)
  (set$ dst (rshift reg off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8d25853" class="outline-4">
<h4 id="org8d25853"><span class="section-number-4">8.2.56.</span> <code>SUB</code></h4>
<div class="outline-text-4" id="text-8-2-56">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 43, characters 0-44</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUB</span> (rd r1 r2)
  (set$ rd (- r1 r2)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc71babb" class="outline-4">
<h4 id="orgc71babb"><span class="section-number-4">8.2.57.</span> <code>SW</code></h4>
<div class="outline-text-4" id="text-8-2-57">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 119, characters 0-85</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SW</span> (val reg imm)
  (store-word (+ reg imm) (cast-low (/ (word-width) 2) val)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8876935" class="outline-4">
<h4 id="org8876935"><span class="section-number-4">8.2.58.</span> <code>XORI</code></h4>
<div class="outline-text-4" id="text-8-2-58">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 136, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">XORI</span> (dst src off)
  (set$ dst (logxor src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3c23b9f" class="outline-4">
<h4 id="org3c23b9f"><span class="section-number-4">8.2.59.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-8-2-59">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge9aa390" class="outline-4">
<h4 id="orge9aa390"><span class="section-number-4">8.2.60.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-8-2-60">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2600fee" class="outline-4">
<h4 id="org2600fee"><span class="section-number-4">8.2.61.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-8-2-61">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5947691" class="outline-4">
<h4 id="org5947691"><span class="section-number-4">8.2.62.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-8-2-62">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1a1b67b" class="outline-4">
<h4 id="org1a1b67b"><span class="section-number-4">8.2.63.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-8-2-63">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0b4e6d7" class="outline-4">
<h4 id="org0b4e6d7"><span class="section-number-4">8.2.64.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-8-2-64">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8d0ec80" class="outline-3">
<h3 id="org8d0ec80"><span class="section-number-3">8.3.</span> Macros</h3>
<div class="outline-text-3" id="text-8-3">
</div>
<div id="outline-container-orgf08ef9b" class="outline-4">
<h4 id="orgf08ef9b"><span class="section-number-4">8.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-8-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org53bd1c0" class="outline-4">
<h4 id="org53bd1c0"><span class="section-number-4">8.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-8-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbccde57" class="outline-4">
<h4 id="orgbccde57"><span class="section-number-4">8.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-8-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc806a8a" class="outline-4">
<h4 id="orgc806a8a"><span class="section-number-4">8.3.4.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-8-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 110, characters 0-55</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x xs)
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r (and xs) r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9fa49c2" class="outline-4">
<h4 id="org9fa49c2"><span class="section-number-4">8.3.5.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-8-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org168c65a" class="outline-4">
<h4 id="org168c65a"><span class="section-number-4">8.3.6.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-8-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-org59cb8fa" class="outline-4">
<h4 id="org59cb8fa"><span class="section-number-4">8.3.7.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-8-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1e0e3d8" class="outline-4">
<h4 id="org1e0e3d8"><span class="section-number-4">8.3.8.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-8-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge770fa4" class="outline-4">
<h4 id="orge770fa4"><span class="section-number-4">8.3.9.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-8-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5ee9c17" class="outline-4">
<h4 id="org5ee9c17"><span class="section-number-4">8.3.10.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-8-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 166, characters 0-75</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k k' x xs)
  (<span style="color: #00ffff;">if</span> (= k k') x (case/dispatch k xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8dd1aca" class="outline-4">
<h4 id="org8dd1aca"><span class="section-number-4">8.3.11.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-8-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8342ebc" class="outline-4">
<h4 id="org8342ebc"><span class="section-number-4">8.3.12.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-8-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org06ca157" class="outline-4">
<h4 id="org06ca157"><span class="section-number-4">8.3.13.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-8-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga25e35c" class="outline-4">
<h4 id="orga25e35c"><span class="section-number-4">8.3.14.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-8-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc510077" class="outline-4">
<h4 id="orgc510077"><span class="section-number-4">8.3.15.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-8-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7894dba" class="outline-4">
<h4 id="org7894dba"><span class="section-number-4">8.3.16.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-8-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgddb10e5" class="outline-4">
<h4 id="orgddb10e5"><span class="section-number-4">8.3.17.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-8-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 103, characters 0-50</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x xs)
  (<span style="color: #00ffff;">prog</span> (decr x) (decr xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4d2d30e" class="outline-4">
<h4 id="org4d2d30e"><span class="section-number-4">8.3.18.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-8-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 22, characters 0-148</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F X Y) if applied</span>
<span style="color: #ffa07a;">   in the big endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian big)))
  (f x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2668d57" class="outline-4">
<h4 id="org2668d57"><span class="section-number-4">8.3.19.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-8-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 151, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x xs) (fold f (f a x) xs))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4651666" class="outline-4">
<h4 id="org4651666"><span class="section-number-4">8.3.20.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-8-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 97, characters 0-50</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x xs)
  (<span style="color: #00ffff;">prog</span> (incr x) (incr xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org424bb2d" class="outline-4">
<h4 id="org424bb2d"><span class="section-number-4">8.3.21.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-8-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 145, characters 0-57</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y ys)
  (or (is-in x y) (is-in x ys)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga409548" class="outline-4">
<h4 id="orga409548"><span class="section-number-4">8.3.22.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-8-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 82, characters 0-141</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">load-word</span> (cast part dst reg off)
  (set$ dst (cast (word-width)
                  (load-bits (/ (word-width) part) (+ reg off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org74a14c5" class="outline-4">
<h4 id="org74a14c5"><span class="section-number-4">8.3.23.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-8-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4f7eb8c" class="outline-4">
<h4 id="org4f7eb8c"><span class="section-number-4">8.3.24.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-8-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 162, characters 0-42</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x y ys) (max (max x y) ys))

</pre>
</div>
</div>
</div>

<div id="outline-container-org62b574d" class="outline-4">
<h4 id="org62b574d"><span class="section-number-4">8.3.25.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-8-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 157, characters 0-42</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x y ys) (min (min x y) ys))

</pre>
</div>
</div>
</div>

<div id="outline-container-org706d4b4" class="outline-4">
<h4 id="org706d4b4"><span class="section-number-4">8.3.26.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-8-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge8b6f13" class="outline-4">
<h4 id="orge8b6f13"><span class="section-number-4">8.3.27.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-8-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org50b6b77" class="outline-4">
<h4 id="org50b6b77"><span class="section-number-4">8.3.28.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-8-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 120, characters 0-19</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org9b1e1a6" class="outline-4">
<h4 id="org9b1e1a6"><span class="section-number-4">8.3.29.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-8-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9fe8ebd" class="outline-4">
<h4 id="org9fe8ebd"><span class="section-number-4">8.3.30.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-8-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0aa9b1e" class="outline-4">
<h4 id="org0aa9b1e"><span class="section-number-4">8.3.31.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-8-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8888cc6" class="outline-4">
<h4 id="org8888cc6"><span class="section-number-4">8.3.32.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-8-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7208bfb" class="outline-4">
<h4 id="org7208bfb"><span class="section-number-4">8.3.33.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-8-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org433a3db" class="outline-4">
<h4 id="org433a3db"><span class="section-number-4">8.3.34.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-8-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfff744c" class="outline-4">
<h4 id="orgfff744c"><span class="section-number-4">8.3.35.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-8-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgce7bf85" class="outline-4">
<h4 id="orgce7bf85"><span class="section-number-4">8.3.36.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-8-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-org90dadac" class="outline-4">
<h4 id="org90dadac"><span class="section-number-4">8.3.37.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-8-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-org799db9a" class="outline-4">
<h4 id="org799db9a"><span class="section-number-4">8.3.38.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-8-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0336afa" class="outline-4">
<h4 id="org0336afa"><span class="section-number-4">8.3.39.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-8-3-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge6db3b2" class="outline-3">
<h3 id="orge6db3b2"><span class="section-number-3">8.4.</span> Primitives</h3>
<div class="outline-text-3" id="text-8-4">
</div>
<div id="outline-container-org469e79f" class="outline-4">
<h4 id="org469e79f"><span class="section-number-4">8.4.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-8-4-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-org07d568c" class="outline-4">
<h4 id="org07d568c"><span class="section-number-4">8.4.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-8-4-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-orgf402c8c" class="outline-4">
<h4 id="orgf402c8c"><span class="section-number-4">8.4.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-8-4-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-org892fc15" class="outline-4">
<h4 id="org892fc15"><span class="section-number-4">8.4.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-8-4-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-org72b08f5" class="outline-4">
<h4 id="org72b08f5"><span class="section-number-4">8.4.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-8-4-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-org5bb1c84" class="outline-4">
<h4 id="org5bb1c84"><span class="section-number-4">8.4.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-8-4-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-org13f7b33" class="outline-4">
<h4 id="org13f7b33"><span class="section-number-4">8.4.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-8-4-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-org13037db" class="outline-4">
<h4 id="org13037db"><span class="section-number-4">8.4.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-8-4-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-org4aadc3b" class="outline-4">
<h4 id="org4aadc3b"><span class="section-number-4">8.4.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-8-4-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-orgb689f74" class="outline-4">
<h4 id="orgb689f74"><span class="section-number-4">8.4.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-8-4-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-org70ce8ff" class="outline-4">
<h4 id="org70ce8ff"><span class="section-number-4">8.4.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-8-4-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-org47a3d34" class="outline-4">
<h4 id="org47a3d34"><span class="section-number-4">8.4.12.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-8-4-12">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgc9bc6c0" class="outline-4">
<h4 id="orgc9bc6c0"><span class="section-number-4">8.4.13.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-8-4-13">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-orgd182589" class="outline-4">
<h4 id="orgd182589"><span class="section-number-4">8.4.14.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-8-4-14">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-org8d72ee8" class="outline-4">
<h4 id="org8d72ee8"><span class="section-number-4">8.4.15.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-8-4-15">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org353b4c6" class="outline-4">
<h4 id="org353b4c6"><span class="section-number-4">8.4.16.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-8-4-16">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org12a7554" class="outline-4">
<h4 id="org12a7554"><span class="section-number-4">8.4.17.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-8-4-17">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-org5fb34d1" class="outline-4">
<h4 id="org5fb34d1"><span class="section-number-4">8.4.18.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-8-4-18">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-orge3dcf31" class="outline-4">
<h4 id="orge3dcf31"><span class="section-number-4">8.4.19.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-8-4-19">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-orgd963453" class="outline-4">
<h4 id="orgd963453"><span class="section-number-4">8.4.20.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-8-4-20">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-org1e18228" class="outline-4">
<h4 id="org1e18228"><span class="section-number-4">8.4.21.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-8-4-21">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-orgd470ee4" class="outline-4">
<h4 id="orgd470ee4"><span class="section-number-4">8.4.22.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-8-4-22">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-orgf9dd8d0" class="outline-4">
<h4 id="orgf9dd8d0"><span class="section-number-4">8.4.23.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-8-4-23">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-org4ebbb63" class="outline-4">
<h4 id="org4ebbb63"><span class="section-number-4">8.4.24.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-8-4-24">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-org401647b" class="outline-4">
<h4 id="org401647b"><span class="section-number-4">8.4.25.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-8-4-25">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-orgeb1739a" class="outline-4">
<h4 id="orgeb1739a"><span class="section-number-4">8.4.26.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-8-4-26">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-org706695e" class="outline-4">
<h4 id="org706695e"><span class="section-number-4">8.4.27.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-8-4-27">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-org217f351" class="outline-4">
<h4 id="org217f351"><span class="section-number-4">8.4.28.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-8-4-28">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orge225ea2" class="outline-4">
<h4 id="orge225ea2"><span class="section-number-4">8.4.29.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-8-4-29">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-org61c8b88" class="outline-4">
<h4 id="org61c8b88"><span class="section-number-4">8.4.30.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-8-4-30">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org11b41a0" class="outline-4">
<h4 id="org11b41a0"><span class="section-number-4">8.4.31.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-8-4-31">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgfefc8a8" class="outline-4">
<h4 id="orgfefc8a8"><span class="section-number-4">8.4.32.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-8-4-32">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org97d3afb" class="outline-4">
<h4 id="org97d3afb"><span class="section-number-4">8.4.33.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-8-4-33">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgbb8de97" class="outline-4">
<h4 id="orgbb8de97"><span class="section-number-4">8.4.34.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-8-4-34">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org8a34574" class="outline-4">
<h4 id="org8a34574"><span class="section-number-4">8.4.35.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-8-4-35">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org4d1d414" class="outline-4">
<h4 id="org4d1d414"><span class="section-number-4">8.4.36.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-8-4-36">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgf445394" class="outline-4">
<h4 id="orgf445394"><span class="section-number-4">8.4.37.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-8-4-37">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgddf8412" class="outline-4">
<h4 id="orgddf8412"><span class="section-number-4">8.4.38.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-8-4-38">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-org503af3c" class="outline-4">
<h4 id="org503af3c"><span class="section-number-4">8.4.39.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-8-4-39">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-orga02521a" class="outline-4">
<h4 id="orga02521a"><span class="section-number-4">8.4.40.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-8-4-40">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org844c54f" class="outline-4">
<h4 id="org844c54f"><span class="section-number-4">8.4.41.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-8-4-41">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-org0064f0a" class="outline-4">
<h4 id="org0064f0a"><span class="section-number-4">8.4.42.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-8-4-42">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-org26a7c4d" class="outline-4">
<h4 id="org26a7c4d"><span class="section-number-4">8.4.43.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-8-4-43">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-orgad07ee9" class="outline-4">
<h4 id="orgad07ee9"><span class="section-number-4">8.4.44.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-8-4-44">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org3fc0ff4" class="outline-4">
<h4 id="org3fc0ff4"><span class="section-number-4">8.4.45.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-8-4-45">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-orgd21c350" class="outline-4">
<h4 id="orgd21c350"><span class="section-number-4">8.4.46.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-8-4-46">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-org0bd5d0c" class="outline-4">
<h4 id="org0bd5d0c"><span class="section-number-4">8.4.47.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-8-4-47">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org010f74a" class="outline-4">
<h4 id="org010f74a"><span class="section-number-4">8.4.48.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-8-4-48">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgc05c6d0" class="outline-4">
<h4 id="orgc05c6d0"><span class="section-number-4">8.4.49.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-8-4-49">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgd00e706" class="outline-4">
<h4 id="orgd00e706"><span class="section-number-4">8.4.50.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-8-4-50">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-org6f5e591" class="outline-4">
<h4 id="org6f5e591"><span class="section-number-4">8.4.51.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-8-4-51">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-orgc607ee1" class="outline-4">
<h4 id="orgc607ee1"><span class="section-number-4">8.4.52.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-8-4-52">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org3ee351e" class="outline-4">
<h4 id="org3ee351e"><span class="section-number-4">8.4.53.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-8-4-53">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org59f294b" class="outline-4">
<h4 id="org59f294b"><span class="section-number-4">8.4.54.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-8-4-54">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org66ce4a4" class="outline-4">
<h4 id="org66ce4a4"><span class="section-number-4">8.4.55.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-8-4-55">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-org8607324" class="outline-4">
<h4 id="org8607324"><span class="section-number-4">8.4.56.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-8-4-56">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org452fede" class="outline-2">
<h2 id="org452fede"><span class="section-number-2">9.</span> Package <code>llvm-thumb</code></h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-org26d8ad8" class="outline-3">
<h3 id="org26d8ad8"><span class="section-number-3">9.1.</span> Constants</h3>
<div class="outline-text-3" id="text-9-1">
</div>
<div id="outline-container-orgbb31f8a" class="outline-4">
<h4 id="orgbb31f8a"><span class="section-number-4">9.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-9-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org7fcb973" class="outline-4">
<h4 id="org7fcb973"><span class="section-number-4">9.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-9-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org4970d0c" class="outline-4">
<h4 id="org4970d0c"><span class="section-number-4">9.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-9-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge7da24e" class="outline-3">
<h3 id="orge7da24e"><span class="section-number-3">9.2.</span> Functions</h3>
<div class="outline-text-3" id="text-9-2">
</div>
<div id="outline-container-org4ff5a46" class="outline-4">
<h4 id="org4ff5a46"><span class="section-number-4">9.2.1.</span> <code>add-with-carry</code></h4>
<div class="outline-text-4" id="text-9-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 12, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry</span> (rd x y c)
  (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
    (set-flags r x y)
    (set$ rd r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc34298b" class="outline-4">
<h4 id="orgc34298b"><span class="section-number-4">9.2.2.</span> <code>add-with-carry/clear-base</code></h4>
<div class="outline-text-4" id="text-9-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 17, characters 0-126</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry/clear-base</span> (rd x y c)
  (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
    (set-flags r y x)
    (clear-base rd)
    (set$ rd r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org87faef5" class="outline-4">
<h4 id="org87faef5"><span class="section-number-4">9.2.3.</span> <code>add-with-carry/it-block</code></h4>
<div class="outline-text-4" id="text-9-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 23, characters 0-183</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry/it-block</span> (rd x y c cnd)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
      (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
        (set-flags r x y))
      (set$ rd r))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc57a7b7" class="outline-4">
<h4 id="orgc57a7b7"><span class="section-number-4">9.2.4.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-9-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3872ccf" class="outline-4">
<h4 id="org3872ccf"><span class="section-number-4">9.2.5.</span> <code>clear-base</code></h4>
<div class="outline-text-4" id="text-9-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 63, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">clear-base</span> (reg)
  (set$ (alias-base-register reg) 0))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgea65e96" class="outline-4">
<h4 id="orgea65e96"><span class="section-number-4">9.2.6.</span> <code>condition-holds</code></h4>
<div class="outline-text-4" id="text-9-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 42, characters 0-372</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">condition-holds</span> (cnd)
  (<span style="color: #00ffff;">case</span> cnd
    0b0000 ZF
    0b0001 (lnot ZF)
    0b0010 CF
    0b0010 (lnot CF)
    0b0100 NF
    0b0101 (lnot NF)
    0b0110 VF
    0b0111 (lnot VF)
    0b1000 (logand CF (lnot ZF))
    0b1001 (logor (lnot CF) ZF)
    0b1010 (= NF VF)
    0b1011 (/= NF VF)
    0b1100 (logand (= NF VF) (lnot ZF))
    0b1101 (logor (/= NF VF) ZF)
    true))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd538411" class="outline-4">
<h4 id="orgd538411"><span class="section-number-4">9.2.7.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-9-2-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5ce3c81" class="outline-4">
<h4 id="org5ce3c81"><span class="section-number-4">9.2.8.</span> <code>is-pc</code></h4>
<div class="outline-text-4" id="text-9-2-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 122, characters 0-36</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">is-pc</span> (r) (= (symbol r) 'PC))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1509c77" class="outline-4">
<h4 id="org1509c77"><span class="section-number-4">9.2.9.</span> <code>is-unconditional</code></h4>
<div class="outline-text-4" id="text-9-2-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 60, characters 0-47</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">is-unconditional</span> (cnd)
  (= cnd 0b1110))

</pre>
</div>
</div>
</div>

<div id="outline-container-org95fb279" class="outline-4">
<h4 id="org95fb279"><span class="section-number-4">9.2.10.</span> <code>logandnot</code></h4>
<div class="outline-text-4" id="text-9-2-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 30, characters 0-49</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">logandnot</span> (rd rn)
  (logand rd (lnot rn)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org74a7d45" class="outline-4">
<h4 id="org74a7d45"><span class="section-number-4">9.2.11.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-9-2-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5cad680" class="outline-4">
<h4 id="org5cad680"><span class="section-number-4">9.2.12.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-9-2-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org60355c3" class="outline-4">
<h4 id="org60355c3"><span class="section-number-4">9.2.13.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-9-2-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd734e2f" class="outline-4">
<h4 id="orgd734e2f"><span class="section-number-4">9.2.14.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-9-2-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3999c6f" class="outline-4">
<h4 id="org3999c6f"><span class="section-number-4">9.2.15.</span> <code>set-flags</code></h4>
<div class="outline-text-4" id="text-9-2-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 6, characters 0-120</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">set-flags</span> (r x y)
  (set NF (msb r))
  (set VF (overflow r x y))
  (set ZF (is-zero r))
  (set CF (carry r x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc2755d3" class="outline-4">
<h4 id="orgc2755d3"><span class="section-number-4">9.2.16.</span> <code>t2ADDri12</code></h4>
<div class="outline-text-4" id="text-9-2-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 82, characters 0-125</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2ADDri12</span> (rd rn imm pre _)
  <span style="color: #ffa07a;">"addw rd, rn, imm; A7-189, T4 "</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (set$ rd (+ rn imm))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbf36352" class="outline-4">
<h4 id="orgbf36352"><span class="section-number-4">9.2.17.</span> <code>t2B</code></h4>
<div class="outline-text-4" id="text-9-2-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 92, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2B</span> (off pre _)
  <span style="color: #ffa07a;">"b.w imm; A7-207, T3"</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (exec-addr (+ (t2pc) off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1404c03" class="outline-4">
<h4 id="org1404c03"><span class="section-number-4">9.2.18.</span> <code>t2LDRHi12</code></h4>
<div class="outline-text-4" id="text-9-2-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 111, characters 0-151</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2LDRHi12</span> (rt rn imm pre _)
  <span style="color: #ffa07a;">"ldrh.w rt, [rn, imm]"</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (t2set rt (cast-unsigned 32 (load-bits 16 (+ rn imm))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8d64526" class="outline-4">
<h4 id="org8d64526"><span class="section-number-4">9.2.19.</span> <code>t2LDRSBi12</code></h4>
<div class="outline-text-4" id="text-9-2-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 101, characters 0-150</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2LDRSBi12</span> (rt rn imm pre _)
  <span style="color: #ffa07a;">"ldrsb.w rt, [rn, imm]"</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (t2set rt (cast-signed 32 (load-bits 8 (+ rn imm))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6708292" class="outline-4">
<h4 id="org6708292"><span class="section-number-4">9.2.20.</span> <code>t2LDRSHi12</code></h4>
<div class="outline-text-4" id="text-9-2-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 106, characters 0-151</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2LDRSHi12</span> (rt rn imm pre _)
  <span style="color: #ffa07a;">"ldrsh.w rt, [rn, imm]"</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (t2set rt (cast-signed 32 (load-bits 16 (+ rn imm))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8db77c9" class="outline-4">
<h4 id="org8db77c9"><span class="section-number-4">9.2.21.</span> <code>t2LDRs</code></h4>
<div class="outline-text-4" id="text-9-2-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 97, characters 0-116</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2LDRs</span> (rt rn rm imm pre _)
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (t2set rt (load-word (+ rn (lshift rm imm))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org934e054" class="outline-4">
<h4 id="org934e054"><span class="section-number-4">9.2.22.</span> <code>t2STRDi8</code></h4>
<div class="outline-text-4" id="text-9-2-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 76, characters 0-183</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2STRDi8</span> (rt1 rt2 rn imm pre _)
  <span style="color: #ffa07a;">"strd rt1, rt2, [rn, off]"</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (store-word (+ rn imm) rt1)
    (store-word (+ rn imm (sizeof word-width)) rt2)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org479eef5" class="outline-4">
<h4 id="org479eef5"><span class="section-number-4">9.2.23.</span> <code>t2STRHi12</code></h4>
<div class="outline-text-4" id="text-9-2-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 87, characters 0-148</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2STRHi12</span> (rt rn imm pre _)
  <span style="color: #ffa07a;">"strh.w rt, [rn, imm]; A7-442; T2"</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (store-word (+ rn imm) (cast-low 16 rt))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0231d79" class="outline-4">
<h4 id="org0231d79"><span class="section-number-4">9.2.24.</span> <code>t2pc</code></h4>
<div class="outline-text-4" id="text-9-2-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 120, characters 0-43</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2pc</span> () (+ (get-program-counter) 4))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7a8b8fc" class="outline-4">
<h4 id="org7a8b8fc"><span class="section-number-4">9.2.25.</span> <code>t2reg</code></h4>
<div class="outline-text-4" id="text-9-2-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 124, characters 0-43</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2reg</span> (r)
  (<span style="color: #00ffff;">if</span> (is-pc r) (t2pc) r))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga5b2ca5" class="outline-4">
<h4 id="orga5b2ca5"><span class="section-number-4">9.2.26.</span> <code>t2set</code></h4>
<div class="outline-text-4" id="text-9-2-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 127, characters 0-83</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2set</span> (reg val)
  (<span style="color: #00ffff;">if</span> (is-pc reg)
      (exec-addr val)
    (set$ reg val)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1dee621" class="outline-4">
<h4 id="org1dee621"><span class="section-number-4">9.2.27.</span> <code>tADDhirr</code></h4>
<div class="outline-text-4" id="text-9-2-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 58, characters 0-96</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tADDhirr</span> (rd rn rm cnd _)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (set$ rd (+ rn (t2reg rm)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3653c5c" class="outline-4">
<h4 id="org3653c5c"><span class="section-number-4">9.2.28.</span> <code>tAND</code></h4>
<div class="outline-text-4" id="text-9-2-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 23, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tAND</span> (rd _ rn rm cnd _)
  (tLOGs logand rd rn rm cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc89b936" class="outline-4">
<h4 id="orgc89b936"><span class="section-number-4">9.2.29.</span> <code>tBIC</code></h4>
<div class="outline-text-4" id="text-9-2-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 26, characters 0-99</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tBIC</span> (rd _ rn rm cnd _)
  <span style="color: #ffa07a;">"bics rd, rn, rm ; with rn = rd"</span>
  (tLOGs logandnot rd rn rm cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga737f81" class="outline-4">
<h4 id="orga737f81"><span class="section-number-4">9.2.30.</span> <code>tEOR</code></h4>
<div class="outline-text-4" id="text-9-2-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 20, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tEOR</span> (rd _ rn rm cnd _)
  (tLOGs logxor rd rn rm cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3743528" class="outline-4">
<h4 id="org3743528"><span class="section-number-4">9.2.31.</span> <code>tLSLrr</code></h4>
<div class="outline-text-4" id="text-9-2-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 44, characters 0-94</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tLSLrr</span> (rd _ rn rm cnd _)
  <span style="color: #ffa07a;">"lsls rd, rn, rm"</span>
  (shift-with-carry lshift rd rn rm cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2960e3e" class="outline-4">
<h4 id="org2960e3e"><span class="section-number-4">9.2.32.</span> <code>tLSRrr</code></h4>
<div class="outline-text-4" id="text-9-2-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 48, characters 0-94</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tLSRrr</span> (rd _ rn rm cnd _)
  <span style="color: #ffa07a;">"lsrs rd, rn, rm"</span>
  (shift-with-carry rshift rd rn rm cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1574b4c" class="outline-4">
<h4 id="org1574b4c"><span class="section-number-4">9.2.33.</span> <code>tMOVr</code></h4>
<div class="outline-text-4" id="text-9-2-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 116, characters 0-76</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tMOVr</span> (rt rn pre _)
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (t2set rt rn)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf39e7e8" class="outline-4">
<h4 id="orgf39e7e8"><span class="section-number-4">9.2.34.</span> <code>tMUL</code></h4>
<div class="outline-text-4" id="text-9-2-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 69, characters 0-172</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tMUL</span> (rd _ rn rm cnd _)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (set$ rd (* rn rm))
    (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
      (set ZF (is-zero rd))
      (set NF (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfcf33db" class="outline-4">
<h4 id="orgfcf33db"><span class="section-number-4">9.2.35.</span> <code>tMVN</code></h4>
<div class="outline-text-4" id="text-9-2-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 30, characters 0-130</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tMVN</span> (rd _ rn cnd _)
  (set$ rd (lnot rn))
  (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
    (set ZF (is-zero rd))
    (set NF (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc9fa8a8" class="outline-4">
<h4 id="orgc9fa8a8"><span class="section-number-4">9.2.36.</span> <code>tREV</code></h4>
<div class="outline-text-4" id="text-9-2-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 36, characters 0-209</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tREV</span> (rd rn cnd _)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (set$ rd (concat
              (extract 7 0 rn)
              (extract 15 8 rn)
              (extract 23 16 rn)
              (extract 31 24 rn)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4ac019f" class="outline-4">
<h4 id="org4ac019f"><span class="section-number-4">9.2.37.</span> <code>tRSB</code></h4>
<div class="outline-text-4" id="text-9-2-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 65, characters 0-97</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tRSB</span> (rd _ rn cnd _)
  <span style="color: #ffa07a;">"rsbs r3, r2, #0"</span>
  (add-with-carry/it-block rd 0 (lnot rn) 1 cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1ec81cf" class="outline-4">
<h4 id="org1ec81cf"><span class="section-number-4">9.2.38.</span> <code>tSBC</code></h4>
<div class="outline-text-4" id="text-9-2-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 62, characters 0-82</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tSBC</span> (rd _ rn rm cnd _)
  (add-with-carry/it-block rd rn (lnot rm) CF cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1295509" class="outline-4">
<h4 id="org1295509"><span class="section-number-4">9.2.39.</span> <code>tTST</code></h4>
<div class="outline-text-4" id="text-9-2-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 52, characters 0-117</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tTST</span> (rn rm _ _)
  <span style="color: #ffa07a;">"tst rn, rm"</span>
  (<span style="color: #00ffff;">let</span> ((rd (logand rn rm)))
    (set ZF (is-zero rd))
    (set NF (msb rd))))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5287ed9" class="outline-3">
<h3 id="org5287ed9"><span class="section-number-3">9.3.</span> Macros</h3>
<div class="outline-text-3" id="text-9-3">
</div>
<div id="outline-container-org9efd519" class="outline-4">
<h4 id="org9efd519"><span class="section-number-4">9.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-9-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9a39ac1" class="outline-4">
<h4 id="org9a39ac1"><span class="section-number-4">9.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-9-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org719f6d8" class="outline-4">
<h4 id="org719f6d8"><span class="section-number-4">9.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-9-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4d7a101" class="outline-4">
<h4 id="org4d7a101"><span class="section-number-4">9.3.4.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-9-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 106, characters 0-194</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x)
  <span style="color: #ffa07a;">"(and X Y ...) evaluates expressions X,Y,... until the first</span>
<span style="color: #ffa07a;">  expression that returns false. The value of the whole form is the</span>
<span style="color: #ffa07a;">  value of the last evaluated expression."</span> x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgabc3c16" class="outline-4">
<h4 id="orgabc3c16"><span class="section-number-4">9.3.5.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-9-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9ae36c0" class="outline-4">
<h4 id="org9ae36c0"><span class="section-number-4">9.3.6.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-9-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6526d4d" class="outline-4">
<h4 id="org6526d4d"><span class="section-number-4">9.3.7.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-9-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3b9005f" class="outline-4">
<h4 id="org3b9005f"><span class="section-number-4">9.3.8.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-9-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdc54004" class="outline-4">
<h4 id="orgdc54004"><span class="section-number-4">9.3.9.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-9-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdabdbcc" class="outline-4">
<h4 id="orgdabdbcc"><span class="section-number-4">9.3.10.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-9-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 164, characters 0-32</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orge00238d" class="outline-4">
<h4 id="orge00238d"><span class="section-number-4">9.3.11.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-9-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org30914ad" class="outline-4">
<h4 id="org30914ad"><span class="section-number-4">9.3.12.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-9-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7583254" class="outline-4">
<h4 id="org7583254"><span class="section-number-4">9.3.13.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-9-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge28998b" class="outline-4">
<h4 id="orge28998b"><span class="section-number-4">9.3.14.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-9-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2eb2772" class="outline-4">
<h4 id="org2eb2772"><span class="section-number-4">9.3.15.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-9-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8b68083" class="outline-4">
<h4 id="org8b68083"><span class="section-number-4">9.3.16.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-9-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6de565d" class="outline-4">
<h4 id="org6de565d"><span class="section-number-4">9.3.17.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-9-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 100, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x)
  <span style="color: #ffa07a;">"(decr X Y ...) decrements the value bound with the variables X, Y, ..."</span>
  (set x (-1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org037b60d" class="outline-4">
<h4 id="org037b60d"><span class="section-number-4">9.3.18.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-9-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 16, characters 0-154</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F Y X) if applied</span>
<span style="color: #ffa07a;">   in the little endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian little)))
  (f y x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9c51b83" class="outline-4">
<h4 id="org9c51b83"><span class="section-number-4">9.3.19.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-9-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 148, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x)
  <span style="color: #ffa07a;">"(fold F A X Y ...) expands to (F (F A X) Y) ..."</span>
  (f a x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org43319e2" class="outline-4">
<h4 id="org43319e2"><span class="section-number-4">9.3.20.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-9-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 93, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x)
  <span style="color: #ffa07a;">"(incr X Y ...) increments the value bound with the variables X, Y, ..."</span>
  (set x (+1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge902c92" class="outline-4">
<h4 id="orge902c92"><span class="section-number-4">9.3.21.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-9-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 142, characters 0-102</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y)
  <span style="color: #ffa07a;">"(is-in X A B C ...) returns true if X is equal A or B or C or ..."</span>
  (= x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb39c146" class="outline-4">
<h4 id="orgb39c146"><span class="section-number-4">9.3.22.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-9-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5d380ac" class="outline-4">
<h4 id="org5d380ac"><span class="section-number-4">9.3.23.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-9-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 158, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x)
  <span style="color: #ffa07a;">"(max X Y ...) returns the upper bound of the (X,Y,...) set"</span>
  x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbbdd862" class="outline-4">
<h4 id="orgbbdd862"><span class="section-number-4">9.3.24.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-9-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 153, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x)
  <span style="color: #ffa07a;">"(min X Y ...) returns the lower bound of the (X,Y,...) set"</span>
      x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org5038b5e" class="outline-4">
<h4 id="org5038b5e"><span class="section-number-4">9.3.25.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-9-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6b0980b" class="outline-4">
<h4 id="org6b0980b"><span class="section-number-4">9.3.26.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-9-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8273a5c" class="outline-4">
<h4 id="org8273a5c"><span class="section-number-4">9.3.27.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-9-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 113, characters 0-346</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x xs)
  <span style="color: #ffa07a;">"(or &lt;expr&gt; ...) evaluates a sequence of expressions EXPR from left</span>
<span style="color: #ffa07a;">   to right until it meets the first expression that evaluates to the</span>
<span style="color: #ffa07a;">   truth value, that will become the value of the whole form. If no</span>
<span style="color: #ffa07a;">   expression returned the truth value, then the result of the whole</span>
<span style="color: #ffa07a;">   form is 0:1"</span>
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r r (or xs))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org699923a" class="outline-4">
<h4 id="org699923a"><span class="section-number-4">9.3.28.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-9-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org754677c" class="outline-4">
<h4 id="org754677c"><span class="section-number-4">9.3.29.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-9-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc83dd06" class="outline-4">
<h4 id="orgc83dd06"><span class="section-number-4">9.3.30.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-9-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org180a287" class="outline-4">
<h4 id="org180a287"><span class="section-number-4">9.3.31.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-9-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcc62bfe" class="outline-4">
<h4 id="orgcc62bfe"><span class="section-number-4">9.3.32.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-9-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1f47f7d" class="outline-4">
<h4 id="org1f47f7d"><span class="section-number-4">9.3.33.</span> <code>setw</code></h4>
<div class="outline-text-4" id="text-9-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 66, characters 0-147</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">setw</span> (reg val)
  <span style="color: #ffa07a;">"(set Wx V) sets a Wx register clearing the upper 32 bits."</span>
  (<span style="color: #00ffff;">let</span> ((res val))
    (clear-base reg)
    (set$ reg res)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc1ca9d3" class="outline-4">
<h4 id="orgc1ca9d3"><span class="section-number-4">9.3.34.</span> <code>shift-with-carry</code></h4>
<div class="outline-text-4" id="text-9-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 33, characters 0-273</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">shift-with-carry</span> (shift rd rn rm cnd)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (<span style="color: #00ffff;">let</span> ((r (cast-signed (word-width) rn)))
      (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
        (set CF (msb r))
        (set$ rd (shift r rm))
        (set ZF (is-zero rd))
        (set NF (msb rd))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga460bd6" class="outline-4">
<h4 id="orga460bd6"><span class="section-number-4">9.3.35.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-9-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcfcffd4" class="outline-4">
<h4 id="orgcfcffd4"><span class="section-number-4">9.3.36.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-9-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-org353082e" class="outline-4">
<h4 id="org353082e"><span class="section-number-4">9.3.37.</span> <code>tLOGs</code></h4>
<div class="outline-text-4" id="text-9-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 14, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">tLOGs</span> (op rd rn rm cnd)
  (<span style="color: #00ffff;">prog</span> (set$ rd (op rn rm))
     (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
       (set ZF (is-zero rd))
       (set NF (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgaa5620f" class="outline-4">
<h4 id="orgaa5620f"><span class="section-number-4">9.3.38.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-9-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-org552d7a3" class="outline-4">
<h4 id="org552d7a3"><span class="section-number-4">9.3.39.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-9-3-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgea9f318" class="outline-4">
<h4 id="orgea9f318"><span class="section-number-4">9.3.40.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-9-3-40">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdf7566b" class="outline-4">
<h4 id="orgdf7566b"><span class="section-number-4">9.3.41.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-9-3-41">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org08d301e" class="outline-3">
<h3 id="org08d301e"><span class="section-number-3">9.4.</span> Primitives</h3>
<div class="outline-text-3" id="text-9-4">
</div>
<div id="outline-container-org7604adb" class="outline-4">
<h4 id="org7604adb"><span class="section-number-4">9.4.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-9-4-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-orgfa33a42" class="outline-4">
<h4 id="orgfa33a42"><span class="section-number-4">9.4.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-9-4-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-orgdd59292" class="outline-4">
<h4 id="orgdd59292"><span class="section-number-4">9.4.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-9-4-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-org8c9bf4d" class="outline-4">
<h4 id="org8c9bf4d"><span class="section-number-4">9.4.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-9-4-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-org88458c7" class="outline-4">
<h4 id="org88458c7"><span class="section-number-4">9.4.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-9-4-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-org5afa769" class="outline-4">
<h4 id="org5afa769"><span class="section-number-4">9.4.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-9-4-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-org12bcba1" class="outline-4">
<h4 id="org12bcba1"><span class="section-number-4">9.4.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-9-4-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-org959c884" class="outline-4">
<h4 id="org959c884"><span class="section-number-4">9.4.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-9-4-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-org4ee1704" class="outline-4">
<h4 id="org4ee1704"><span class="section-number-4">9.4.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-9-4-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-org3a33045" class="outline-4">
<h4 id="org3a33045"><span class="section-number-4">9.4.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-9-4-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-orgd86b20e" class="outline-4">
<h4 id="orgd86b20e"><span class="section-number-4">9.4.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-9-4-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-orgf8ff45f" class="outline-4">
<h4 id="orgf8ff45f"><span class="section-number-4">9.4.12.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-9-4-12">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgf50d30f" class="outline-4">
<h4 id="orgf50d30f"><span class="section-number-4">9.4.13.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-9-4-13">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-org2cbc613" class="outline-4">
<h4 id="org2cbc613"><span class="section-number-4">9.4.14.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-9-4-14">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-org1c4c592" class="outline-4">
<h4 id="org1c4c592"><span class="section-number-4">9.4.15.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-9-4-15">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-orgd110ade" class="outline-4">
<h4 id="orgd110ade"><span class="section-number-4">9.4.16.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-9-4-16">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-orgb66e47c" class="outline-4">
<h4 id="orgb66e47c"><span class="section-number-4">9.4.17.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-9-4-17">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-orgfd2ebcb" class="outline-4">
<h4 id="orgfd2ebcb"><span class="section-number-4">9.4.18.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-9-4-18">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-org3dd3727" class="outline-4">
<h4 id="org3dd3727"><span class="section-number-4">9.4.19.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-9-4-19">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-orgc858b48" class="outline-4">
<h4 id="orgc858b48"><span class="section-number-4">9.4.20.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-9-4-20">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-orgc882f71" class="outline-4">
<h4 id="orgc882f71"><span class="section-number-4">9.4.21.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-9-4-21">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-orgdb08abf" class="outline-4">
<h4 id="orgdb08abf"><span class="section-number-4">9.4.22.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-9-4-22">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-orgc60cc94" class="outline-4">
<h4 id="orgc60cc94"><span class="section-number-4">9.4.23.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-9-4-23">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-org8863c14" class="outline-4">
<h4 id="org8863c14"><span class="section-number-4">9.4.24.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-9-4-24">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-org40b5442" class="outline-4">
<h4 id="org40b5442"><span class="section-number-4">9.4.25.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-9-4-25">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-org006e0d6" class="outline-4">
<h4 id="org006e0d6"><span class="section-number-4">9.4.26.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-9-4-26">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-org8e55e97" class="outline-4">
<h4 id="org8e55e97"><span class="section-number-4">9.4.27.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-9-4-27">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-orgde4ea4a" class="outline-4">
<h4 id="orgde4ea4a"><span class="section-number-4">9.4.28.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-9-4-28">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org79c9e58" class="outline-4">
<h4 id="org79c9e58"><span class="section-number-4">9.4.29.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-9-4-29">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-org6356d90" class="outline-4">
<h4 id="org6356d90"><span class="section-number-4">9.4.30.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-9-4-30">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgdef18ee" class="outline-4">
<h4 id="orgdef18ee"><span class="section-number-4">9.4.31.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-9-4-31">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgb5b3471" class="outline-4">
<h4 id="orgb5b3471"><span class="section-number-4">9.4.32.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-9-4-32">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgb7848ce" class="outline-4">
<h4 id="orgb7848ce"><span class="section-number-4">9.4.33.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-9-4-33">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org0c0b069" class="outline-4">
<h4 id="org0c0b069"><span class="section-number-4">9.4.34.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-9-4-34">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org748e1c5" class="outline-4">
<h4 id="org748e1c5"><span class="section-number-4">9.4.35.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-9-4-35">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgc1b5e54" class="outline-4">
<h4 id="orgc1b5e54"><span class="section-number-4">9.4.36.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-9-4-36">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgd6e0cc2" class="outline-4">
<h4 id="orgd6e0cc2"><span class="section-number-4">9.4.37.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-9-4-37">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgec3ae07" class="outline-4">
<h4 id="orgec3ae07"><span class="section-number-4">9.4.38.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-9-4-38">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-orge23abaf" class="outline-4">
<h4 id="orge23abaf"><span class="section-number-4">9.4.39.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-9-4-39">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-orgb14aaee" class="outline-4">
<h4 id="orgb14aaee"><span class="section-number-4">9.4.40.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-9-4-40">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-orgaa7726e" class="outline-4">
<h4 id="orgaa7726e"><span class="section-number-4">9.4.41.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-9-4-41">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-org1b98b13" class="outline-4">
<h4 id="org1b98b13"><span class="section-number-4">9.4.42.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-9-4-42">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-orgb96b643" class="outline-4">
<h4 id="orgb96b643"><span class="section-number-4">9.4.43.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-9-4-43">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-org3bd988f" class="outline-4">
<h4 id="org3bd988f"><span class="section-number-4">9.4.44.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-9-4-44">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgb541994" class="outline-4">
<h4 id="orgb541994"><span class="section-number-4">9.4.45.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-9-4-45">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-orga3ac227" class="outline-4">
<h4 id="orga3ac227"><span class="section-number-4">9.4.46.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-9-4-46">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-org5254aa5" class="outline-4">
<h4 id="org5254aa5"><span class="section-number-4">9.4.47.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-9-4-47">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgc446904" class="outline-4">
<h4 id="orgc446904"><span class="section-number-4">9.4.48.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-9-4-48">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org92641c5" class="outline-4">
<h4 id="org92641c5"><span class="section-number-4">9.4.49.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-9-4-49">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org5035b54" class="outline-4">
<h4 id="org5035b54"><span class="section-number-4">9.4.50.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-9-4-50">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-org8c3f315" class="outline-4">
<h4 id="org8c3f315"><span class="section-number-4">9.4.51.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-9-4-51">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-org20e2688" class="outline-4">
<h4 id="org20e2688"><span class="section-number-4">9.4.52.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-9-4-52">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org3ac2812" class="outline-4">
<h4 id="org3ac2812"><span class="section-number-4">9.4.53.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-9-4-53">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org5950c25" class="outline-4">
<h4 id="org5950c25"><span class="section-number-4">9.4.54.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-9-4-54">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org03f4699" class="outline-4">
<h4 id="org03f4699"><span class="section-number-4">9.4.55.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-9-4-55">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-org9202f8a" class="outline-4">
<h4 id="org9202f8a"><span class="section-number-4">9.4.56.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-9-4-56">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgbd09ec2" class="outline-2">
<h2 id="orgbd09ec2"><span class="section-number-2">10.</span> Package <code>pcode</code></h2>
<div class="outline-text-2" id="text-10">
</div>
<div id="outline-container-org8e223fe" class="outline-3">
<h3 id="org8e223fe"><span class="section-number-3">10.1.</span> Constants</h3>
<div class="outline-text-3" id="text-10-1">
</div>
<div id="outline-container-orgc22fecc" class="outline-4">
<h4 id="orgc22fecc"><span class="section-number-4">10.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-10-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org90f8f69" class="outline-4">
<h4 id="org90f8f69"><span class="section-number-4">10.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-10-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb8b2110" class="outline-4">
<h4 id="orgb8b2110"><span class="section-number-4">10.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-10-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgcf5433b" class="outline-3">
<h3 id="orgcf5433b"><span class="section-number-3">10.2.</span> Functions</h3>
<div class="outline-text-3" id="text-10-2">
</div>
<div id="outline-container-orgc1fba2a" class="outline-4">
<h4 id="orgc1fba2a"><span class="section-number-4">10.2.1.</span> <code>BOOL_AND</code></h4>
<div class="outline-text-4" id="text-10-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 152, characters 0-71</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BOOL_AND</span> (tr r tx x ty y)
  (set# tr r (get# logand tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5e7221b" class="outline-4">
<h4 id="org5e7221b"><span class="section-number-4">10.2.2.</span> <code>BOOL_NEGATE</code></h4>
<div class="outline-text-4" id="text-10-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 149, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BOOL_NEGATE</span> (tr r tx x)
  (set# tr r (get# not tx x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6ca37cd" class="outline-4">
<h4 id="org6ca37cd"><span class="section-number-4">10.2.3.</span> <code>BOOL_OR</code></h4>
<div class="outline-text-4" id="text-10-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 155, characters 0-69</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BOOL_OR</span> (tr r tx x ty y)
  (set# tr r (get# logor tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2f9901a" class="outline-4">
<h4 id="org2f9901a"><span class="section-number-4">10.2.4.</span> <code>BOOL_XOR</code></h4>
<div class="outline-text-4" id="text-10-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 158, characters 0-71</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BOOL_XOR</span> (tr r tx x ty y)
  (set# tr r (get# logxor tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org82da150" class="outline-4">
<h4 id="org82da150"><span class="section-number-4">10.2.5.</span> <code>BRANCH</code></h4>
<div class="outline-text-4" id="text-10-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 38, characters 0-43</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BRANCH</span> (typ dst)
  (branch typ dst))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3c2f8d1" class="outline-4">
<h4 id="org3c2f8d1"><span class="section-number-4">10.2.6.</span> <code>BRANCHIND</code></h4>
<div class="outline-text-4" id="text-10-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 44, characters 0-43</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BRANCHIND</span> (_ dst)
  (exec-addr dst))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5933861" class="outline-4">
<h4 id="org5933861"><span class="section-number-4">10.2.7.</span> <code>CALL</code></h4>
<div class="outline-text-4" id="text-10-2-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 47, characters 0-40</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">CALL</span> (typ dst)
  (exec-addr dst))

</pre>
</div>
</div>
</div>

<div id="outline-container-org42bff3a" class="outline-4">
<h4 id="org42bff3a"><span class="section-number-4">10.2.8.</span> <code>CALLIND</code></h4>
<div class="outline-text-4" id="text-10-2-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 50, characters 0-43</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">CALLIND</span> (typ dst)
  (exec-addr dst))

</pre>
</div>
</div>
</div>

<div id="outline-container-org66a451b" class="outline-4">
<h4 id="org66a451b"><span class="section-number-4">10.2.9.</span> <code>CBRANCH</code></h4>
<div class="outline-text-4" id="text-10-2-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 41, characters 0-72</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">CBRANCH</span> (typ dst tc cnd)
  (<span style="color: #00ffff;">when</span> (get# tc cnd) (branch typ dst)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2d5185c" class="outline-4">
<h4 id="org2d5185c"><span class="section-number-4">10.2.10.</span> <code>COPY</code></h4>
<div class="outline-text-4" id="text-10-2-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 25, characters 0-50</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">COPY</span> (td d ts s)
  (set# td d (get# ts s)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org58c304c" class="outline-4">
<h4 id="org58c304c"><span class="section-number-4">10.2.11.</span> <code>INT_2COMP</code></h4>
<div class="outline-text-4" id="text-10-2-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 110, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_2COMP</span> (tr r tx x)
  (set# tr r (get# - tx x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1db83d7" class="outline-4">
<h4 id="org1db83d7"><span class="section-number-4">10.2.12.</span> <code>INT_ADD</code></h4>
<div class="outline-text-4" id="text-10-2-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 86, characters 0-65</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_ADD</span> (tr r tx x ty y)
  (set# tr r (get# + tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6aa7a5f" class="outline-4">
<h4 id="org6aa7a5f"><span class="section-number-4">10.2.13.</span> <code>INT_AND</code></h4>
<div class="outline-text-4" id="text-10-2-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 119, characters 0-70</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_AND</span> (tr r tx x ty y)
  (set# tr r (get# logand tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbb6a606" class="outline-4">
<h4 id="orgbb6a606"><span class="section-number-4">10.2.14.</span> <code>INT_CARRY</code></h4>
<div class="outline-text-4" id="text-10-2-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 92, characters 0-146</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_CARRY</span> (tr r tx x ty y)
  (<span style="color: #00ffff;">let</span> ((x (get# tx x))
        (y (get# ty y))
        (z (+ x y)))
    (set# tr r (coerce tr (carry z x y)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org357ea7c" class="outline-4">
<h4 id="org357ea7c"><span class="section-number-4">10.2.15.</span> <code>INT_DIV</code></h4>
<div class="outline-text-4" id="text-10-2-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 137, characters 0-65</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_DIV</span> (tr r tx x ty y)
  (set# tr r (get# / tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgac02296" class="outline-4">
<h4 id="orgac02296"><span class="section-number-4">10.2.16.</span> <code>INT_EQUAL</code></h4>
<div class="outline-text-4" id="text-10-2-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 62, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_EQUAL</span> (tr r tx x ty y)
  (set# tr r (get# = tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf735b9b" class="outline-4">
<h4 id="orgf735b9b"><span class="section-number-4">10.2.17.</span> <code>INT_LEFT</code></h4>
<div class="outline-text-4" id="text-10-2-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 125, characters 0-71</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_LEFT</span> (tr r tx x ty y)
  (set# tr r (get# lshift tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org46d08aa" class="outline-4">
<h4 id="org46d08aa"><span class="section-number-4">10.2.18.</span> <code>INT_LESS</code></h4>
<div class="outline-text-4" id="text-10-2-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 68, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_LESS</span> (tr r tx x ty y)
  (set# tr r (get# &lt; tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgeb0ba4c" class="outline-4">
<h4 id="orgeb0ba4c"><span class="section-number-4">10.2.19.</span> <code>INT_LESSEQUAL</code></h4>
<div class="outline-text-4" id="text-10-2-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 74, characters 0-72</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_LESSEQUAL</span> (tr r tx x ty y)
  (set# tr r (get# &lt;= tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8f948f4" class="outline-4">
<h4 id="org8f948f4"><span class="section-number-4">10.2.20.</span> <code>INT_MOD</code></h4>
<div class="outline-text-4" id="text-10-2-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 143, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_MOD</span> (tr r tx x ty y)
  (set# tr r (get# mod tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org58fd485" class="outline-4">
<h4 id="org58fd485"><span class="section-number-4">10.2.21.</span> <code>INT_MULT</code></h4>
<div class="outline-text-4" id="text-10-2-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 134, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_MULT</span> (tr r tx x ty y)
  (set# tr r (get# * tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdda543f" class="outline-4">
<h4 id="orgdda543f"><span class="section-number-4">10.2.22.</span> <code>INT_NEGATE</code></h4>
<div class="outline-text-4" id="text-10-2-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 113, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_NEGATE</span> (tr r tx x)
  (set# tr r (get# lnot tx x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org475657b" class="outline-4">
<h4 id="org475657b"><span class="section-number-4">10.2.23.</span> <code>INT_NOTEQUAL</code></h4>
<div class="outline-text-4" id="text-10-2-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 65, characters 0-71</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_NOTEQUAL</span> (tr r tx x ty y)
  (set# tr r (get# /= tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4e5860b" class="outline-4">
<h4 id="org4e5860b"><span class="section-number-4">10.2.24.</span> <code>INT_OR</code></h4>
<div class="outline-text-4" id="text-10-2-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 122, characters 0-68</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_OR</span> (tr r tx x ty y)
  (set# tr r (get# logor tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcd75296" class="outline-4">
<h4 id="orgcd75296"><span class="section-number-4">10.2.25.</span> <code>INT_RIGHT</code></h4>
<div class="outline-text-4" id="text-10-2-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 128, characters 0-72</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_RIGHT</span> (tr r tx x ty y)
  (set# tr r (get# rshift tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org377c8e8" class="outline-4">
<h4 id="org377c8e8"><span class="section-number-4">10.2.26.</span> <code>INT_SBORROW</code></h4>
<div class="outline-text-4" id="text-10-2-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 104, characters 0-155</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_SBORROW</span> (tr r tx x ty y)
  (<span style="color: #00ffff;">let</span> ((x (get# tx x))
        (y (get# ty y))
        (z (- x y)))
    (set# tr r (coerce tr (overflow z x (- y))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge7fd6eb" class="outline-4">
<h4 id="orge7fd6eb"><span class="section-number-4">10.2.27.</span> <code>INT_SCARRY</code></h4>
<div class="outline-text-4" id="text-10-2-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 98, characters 0-150</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_SCARRY</span> (tr r tx x ty y)
  (<span style="color: #00ffff;">let</span> ((x (get# tx x))
        (y (get# ty y))
        (z (+ x y)))
    (set# tr r (coerce tr (overflow z x y)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf233995" class="outline-4">
<h4 id="orgf233995"><span class="section-number-4">10.2.28.</span> <code>INT_SDIV</code></h4>
<div class="outline-text-4" id="text-10-2-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 140, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_SDIV</span> (tr r tx x ty y)
  (set# tr r (get# s/ tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1a7523e" class="outline-4">
<h4 id="org1a7523e"><span class="section-number-4">10.2.29.</span> <code>INT_SEXT</code></h4>
<div class="outline-text-4" id="text-10-2-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 83, characters 0-71</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_SEXT</span> (tr r tx x)
  (set# tr r (cast-signed tr (get# tx x))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2680c64" class="outline-4">
<h4 id="org2680c64"><span class="section-number-4">10.2.30.</span> <code>INT_SLESS</code></h4>
<div class="outline-text-4" id="text-10-2-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 71, characters 0-68</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_SLESS</span> (tr r tx x ty y)
  (set# tr r (get# s&lt; tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgec2bc9e" class="outline-4">
<h4 id="orgec2bc9e"><span class="section-number-4">10.2.31.</span> <code>INT_SLESSEQUAL</code></h4>
<div class="outline-text-4" id="text-10-2-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 77, characters 0-74</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_SLESSEQUAL</span> (tr r tx x ty y)
  (set# tr r (get# s&lt;= tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb466edd" class="outline-4">
<h4 id="orgb466edd"><span class="section-number-4">10.2.32.</span> <code>INT_SMOD</code></h4>
<div class="outline-text-4" id="text-10-2-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 146, characters 0-75</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_SMOD</span> (tr r tx x ty y)
  (set# tr r (get# signed-mod tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5a37005" class="outline-4">
<h4 id="org5a37005"><span class="section-number-4">10.2.33.</span> <code>INT_SRIGHT</code></h4>
<div class="outline-text-4" id="text-10-2-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 131, characters 0-74</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_SRIGHT</span> (tr r tx x ty y)
  (set# tr r (get# arshift tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge7f596b" class="outline-4">
<h4 id="orge7f596b"><span class="section-number-4">10.2.34.</span> <code>INT_SUB</code></h4>
<div class="outline-text-4" id="text-10-2-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_SUB</span> (tr r tx x ty y)
  (set# tr r (get# - tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5edd3b8" class="outline-4">
<h4 id="org5edd3b8"><span class="section-number-4">10.2.35.</span> <code>INT_XOR</code></h4>
<div class="outline-text-4" id="text-10-2-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 116, characters 0-70</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_XOR</span> (tr r tx x ty y)
  (set# tr r (get# logxor tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb774308" class="outline-4">
<h4 id="orgb774308"><span class="section-number-4">10.2.36.</span> <code>INT_ZEXT</code></h4>
<div class="outline-text-4" id="text-10-2-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 80, characters 0-73</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">INT_ZEXT</span> (tr r tx x)
  (set# tr r (cast-unsigned tr (get# tx x))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6d116b3" class="outline-4">
<h4 id="org6d116b3"><span class="section-number-4">10.2.37.</span> <code>LOAD</code></h4>
<div class="outline-text-4" id="text-10-2-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 31, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LOAD</span> (td dst _ _ _ ptr)
  (set# td dst (load-bits td ptr)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb2fbc58" class="outline-4">
<h4 id="orgb2fbc58"><span class="section-number-4">10.2.38.</span> <code>PIECE</code></h4>
<div class="outline-text-4" id="text-10-2-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 56, characters 0-68</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">PIECE</span> (tr r tx x ty y)
  (set# tr r (get# concat tx x ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org84b4ae5" class="outline-4">
<h4 id="org84b4ae5"><span class="section-number-4">10.2.39.</span> <code>RETURN</code></h4>
<div class="outline-text-4" id="text-10-2-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 53, characters 0-42</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">RETURN</span> (typ dst)
  (exec-addr dst))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4d506ae" class="outline-4">
<h4 id="org4d506ae"><span class="section-number-4">10.2.40.</span> <code>STORE</code></h4>
<div class="outline-text-4" id="text-10-2-40">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 28, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">STORE</span> (_ _ _ ptr typ val)
  (store-word ptr (get# typ val)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org95fc3cf" class="outline-4">
<h4 id="org95fc3cf"><span class="section-number-4">10.2.41.</span> <code>SUBPIECE</code></h4>
<div class="outline-text-4" id="text-10-2-41">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 59, characters 0-86</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUBPIECE</span> (tr r tx x ts s)
  (set# tr r (rshift (get# tx x) (* 8 (get# ts s)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2741cc8" class="outline-4">
<h4 id="org2741cc8"><span class="section-number-4">10.2.42.</span> <code>branch</code></h4>
<div class="outline-text-4" id="text-10-2-42">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 34, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">branch</span> (typ dst)
  (<span style="color: #00ffff;">if</span> (is-symbol typ) (exec-addr dst)
      (goto-subinstruction dst)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org47e859b" class="outline-4">
<h4 id="org47e859b"><span class="section-number-4">10.2.43.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-10-2-43">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgaa7e98b" class="outline-4">
<h4 id="orgaa7e98b"><span class="section-number-4">10.2.44.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-10-2-44">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8e61320" class="outline-4">
<h4 id="org8e61320"><span class="section-number-4">10.2.45.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-10-2-45">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org21b3e67" class="outline-4">
<h4 id="org21b3e67"><span class="section-number-4">10.2.46.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-10-2-46">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org68fda58" class="outline-4">
<h4 id="org68fda58"><span class="section-number-4">10.2.47.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-10-2-47">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8094086" class="outline-4">
<h4 id="org8094086"><span class="section-number-4">10.2.48.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-10-2-48">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9202f1a" class="outline-3">
<h3 id="org9202f1a"><span class="section-number-3">10.3.</span> Macros</h3>
<div class="outline-text-3" id="text-10-3">
</div>
<div id="outline-container-org2722491" class="outline-4">
<h4 id="org2722491"><span class="section-number-4">10.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-10-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3021dfd" class="outline-4">
<h4 id="org3021dfd"><span class="section-number-4">10.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-10-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgeee2a53" class="outline-4">
<h4 id="orgeee2a53"><span class="section-number-4">10.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-10-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8f01149" class="outline-4">
<h4 id="org8f01149"><span class="section-number-4">10.3.4.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-10-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 106, characters 0-194</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x)
  <span style="color: #ffa07a;">"(and X Y ...) evaluates expressions X,Y,... until the first</span>
<span style="color: #ffa07a;">  expression that returns false. The value of the whole form is the</span>
<span style="color: #ffa07a;">  value of the last evaluated expression."</span> x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcfea2b5" class="outline-4">
<h4 id="orgcfea2b5"><span class="section-number-4">10.3.5.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-10-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2b3095e" class="outline-4">
<h4 id="org2b3095e"><span class="section-number-4">10.3.6.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-10-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf39751c" class="outline-4">
<h4 id="orgf39751c"><span class="section-number-4">10.3.7.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-10-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgec4fff6" class="outline-4">
<h4 id="orgec4fff6"><span class="section-number-4">10.3.8.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-10-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6feb0c7" class="outline-4">
<h4 id="org6feb0c7"><span class="section-number-4">10.3.9.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-10-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1e57bcb" class="outline-4">
<h4 id="org1e57bcb"><span class="section-number-4">10.3.10.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-10-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 164, characters 0-32</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org9d263b4" class="outline-4">
<h4 id="org9d263b4"><span class="section-number-4">10.3.11.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-10-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org92fe21e" class="outline-4">
<h4 id="org92fe21e"><span class="section-number-4">10.3.12.</span> <code>cast-word</code></h4>
<div class="outline-text-4" id="text-10-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 6, characters 0-44</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast-word</span> (x) (cast word-width x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org275619f" class="outline-4">
<h4 id="org275619f"><span class="section-number-4">10.3.13.</span> <code>coerce</code></h4>
<div class="outline-text-4" id="text-10-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 7, characters 0-84</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">coerce</span> (type x)
  (<span style="color: #00ffff;">if</span> (/= (word-width x) type) (extract (-1 type) 0 x) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb63b905" class="outline-4">
<h4 id="orgb63b905"><span class="section-number-4">10.3.14.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-10-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1896d0e" class="outline-4">
<h4 id="org1896d0e"><span class="section-number-4">10.3.15.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-10-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org101b1b3" class="outline-4">
<h4 id="org101b1b3"><span class="section-number-4">10.3.16.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-10-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd41ce0f" class="outline-4">
<h4 id="orgd41ce0f"><span class="section-number-4">10.3.17.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-10-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6f4583d" class="outline-4">
<h4 id="org6f4583d"><span class="section-number-4">10.3.18.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-10-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc6860cc" class="outline-4">
<h4 id="orgc6860cc"><span class="section-number-4">10.3.19.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-10-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 100, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x)
  <span style="color: #ffa07a;">"(decr X Y ...) decrements the value bound with the variables X, Y, ..."</span>
  (set x (-1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdfccd7b" class="outline-4">
<h4 id="orgdfccd7b"><span class="section-number-4">10.3.20.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-10-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 16, characters 0-154</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F Y X) if applied</span>
<span style="color: #ffa07a;">   in the little endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian little)))
  (f y x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6a915e0" class="outline-4">
<h4 id="org6a915e0"><span class="section-number-4">10.3.21.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-10-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 148, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x)
  <span style="color: #ffa07a;">"(fold F A X Y ...) expands to (F (F A X) Y) ..."</span>
  (f a x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1874c99" class="outline-4">
<h4 id="org1874c99"><span class="section-number-4">10.3.22.</span> <code>get#</code></h4>
<div class="outline-text-4" id="text-10-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 22, characters 0-61</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">get</span># (op tx x ty y)
  (op (get# tx x) (get# ty y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5b3a488" class="outline-4">
<h4 id="org5b3a488"><span class="section-number-4">10.3.23.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-10-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 93, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x)
  <span style="color: #ffa07a;">"(incr X Y ...) increments the value bound with the variables X, Y, ..."</span>
  (set x (+1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf69a623" class="outline-4">
<h4 id="orgf69a623"><span class="section-number-4">10.3.24.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-10-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 142, characters 0-102</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y)
  <span style="color: #ffa07a;">"(is-in X A B C ...) returns true if X is equal A or B or C or ..."</span>
  (= x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0eb0736" class="outline-4">
<h4 id="org0eb0736"><span class="section-number-4">10.3.25.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-10-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-org64304b5" class="outline-4">
<h4 id="org64304b5"><span class="section-number-4">10.3.26.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-10-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 158, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x)
  <span style="color: #ffa07a;">"(max X Y ...) returns the upper bound of the (X,Y,...) set"</span>
  x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orga098dc5" class="outline-4">
<h4 id="orga098dc5"><span class="section-number-4">10.3.27.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-10-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 153, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x)
  <span style="color: #ffa07a;">"(min X Y ...) returns the lower bound of the (X,Y,...) set"</span>
      x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orge4c0121" class="outline-4">
<h4 id="orge4c0121"><span class="section-number-4">10.3.28.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-10-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgddba300" class="outline-4">
<h4 id="orgddba300"><span class="section-number-4">10.3.29.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-10-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb60ebde" class="outline-4">
<h4 id="orgb60ebde"><span class="section-number-4">10.3.30.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-10-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 113, characters 0-346</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x xs)
  <span style="color: #ffa07a;">"(or &lt;expr&gt; ...) evaluates a sequence of expressions EXPR from left</span>
<span style="color: #ffa07a;">   to right until it meets the first expression that evaluates to the</span>
<span style="color: #ffa07a;">   truth value, that will become the value of the whole form. If no</span>
<span style="color: #ffa07a;">   expression returned the truth value, then the result of the whole</span>
<span style="color: #ffa07a;">   form is 0:1"</span>
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r r (or xs))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4c9c2d9" class="outline-4">
<h4 id="org4c9c2d9"><span class="section-number-4">10.3.31.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-10-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf93afd1" class="outline-4">
<h4 id="orgf93afd1"><span class="section-number-4">10.3.32.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-10-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org16379ac" class="outline-4">
<h4 id="org16379ac"><span class="section-number-4">10.3.33.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-10-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7737a89" class="outline-4">
<h4 id="org7737a89"><span class="section-number-4">10.3.34.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-10-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga90e98d" class="outline-4">
<h4 id="orga90e98d"><span class="section-number-4">10.3.35.</span> <code>set#</code></h4>
<div class="outline-text-4" id="text-10-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pcode.lisp", line 10, characters 0-108</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set</span># (typ dst src)
  (<span style="color: #00ffff;">if</span> (is-symbol typ)
    (store-word (cast-word dst) src)
    (set$ dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0d2885b" class="outline-4">
<h4 id="org0d2885b"><span class="section-number-4">10.3.36.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-10-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfa420c9" class="outline-4">
<h4 id="orgfa420c9"><span class="section-number-4">10.3.37.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-10-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org11f0576" class="outline-4">
<h4 id="org11f0576"><span class="section-number-4">10.3.38.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-10-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2881c5c" class="outline-4">
<h4 id="org2881c5c"><span class="section-number-4">10.3.39.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-10-3-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-org529efb6" class="outline-4">
<h4 id="org529efb6"><span class="section-number-4">10.3.40.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-10-3-40">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2ba3391" class="outline-4">
<h4 id="org2ba3391"><span class="section-number-4">10.3.41.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-10-3-41">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-org731017a" class="outline-4">
<h4 id="org731017a"><span class="section-number-4">10.3.42.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-10-3-42">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge3286d4" class="outline-3">
<h3 id="orge3286d4"><span class="section-number-3">10.4.</span> Primitives</h3>
<div class="outline-text-3" id="text-10-4">
</div>
<div id="outline-container-org76193e6" class="outline-4">
<h4 id="org76193e6"><span class="section-number-4">10.4.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-10-4-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-org8c5509f" class="outline-4">
<h4 id="org8c5509f"><span class="section-number-4">10.4.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-10-4-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-org662e1a2" class="outline-4">
<h4 id="org662e1a2"><span class="section-number-4">10.4.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-10-4-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-orgb93b30b" class="outline-4">
<h4 id="orgb93b30b"><span class="section-number-4">10.4.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-10-4-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-orge2b1ceb" class="outline-4">
<h4 id="orge2b1ceb"><span class="section-number-4">10.4.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-10-4-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-org5cc984a" class="outline-4">
<h4 id="org5cc984a"><span class="section-number-4">10.4.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-10-4-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-orga3f3dda" class="outline-4">
<h4 id="orga3f3dda"><span class="section-number-4">10.4.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-10-4-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-org600e514" class="outline-4">
<h4 id="org600e514"><span class="section-number-4">10.4.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-10-4-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-orgb8cfec5" class="outline-4">
<h4 id="orgb8cfec5"><span class="section-number-4">10.4.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-10-4-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-org318ee4c" class="outline-4">
<h4 id="org318ee4c"><span class="section-number-4">10.4.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-10-4-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-org2c30ed9" class="outline-4">
<h4 id="org2c30ed9"><span class="section-number-4">10.4.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-10-4-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-orgd9f614e" class="outline-4">
<h4 id="orgd9f614e"><span class="section-number-4">10.4.12.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-10-4-12">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org1cb0506" class="outline-4">
<h4 id="org1cb0506"><span class="section-number-4">10.4.13.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-10-4-13">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-org52d0c53" class="outline-4">
<h4 id="org52d0c53"><span class="section-number-4">10.4.14.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-10-4-14">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-org69eb064" class="outline-4">
<h4 id="org69eb064"><span class="section-number-4">10.4.15.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-10-4-15">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org2d7e6ee" class="outline-4">
<h4 id="org2d7e6ee"><span class="section-number-4">10.4.16.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-10-4-16">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org6d8e732" class="outline-4">
<h4 id="org6d8e732"><span class="section-number-4">10.4.17.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-10-4-17">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-org4d5d80a" class="outline-4">
<h4 id="org4d5d80a"><span class="section-number-4">10.4.18.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-10-4-18">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-org2ce8ff9" class="outline-4">
<h4 id="org2ce8ff9"><span class="section-number-4">10.4.19.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-10-4-19">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-org10f025c" class="outline-4">
<h4 id="org10f025c"><span class="section-number-4">10.4.20.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-10-4-20">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-org263fbd6" class="outline-4">
<h4 id="org263fbd6"><span class="section-number-4">10.4.21.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-10-4-21">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-orgf398da0" class="outline-4">
<h4 id="orgf398da0"><span class="section-number-4">10.4.22.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-10-4-22">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-orgc361886" class="outline-4">
<h4 id="orgc361886"><span class="section-number-4">10.4.23.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-10-4-23">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-orgcde6fd1" class="outline-4">
<h4 id="orgcde6fd1"><span class="section-number-4">10.4.24.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-10-4-24">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-org5bf8dbc" class="outline-4">
<h4 id="org5bf8dbc"><span class="section-number-4">10.4.25.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-10-4-25">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-org7b79874" class="outline-4">
<h4 id="org7b79874"><span class="section-number-4">10.4.26.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-10-4-26">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-orgbed24c9" class="outline-4">
<h4 id="orgbed24c9"><span class="section-number-4">10.4.27.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-10-4-27">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-orgc590707" class="outline-4">
<h4 id="orgc590707"><span class="section-number-4">10.4.28.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-10-4-28">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgda23286" class="outline-4">
<h4 id="orgda23286"><span class="section-number-4">10.4.29.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-10-4-29">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-org7d2e34d" class="outline-4">
<h4 id="org7d2e34d"><span class="section-number-4">10.4.30.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-10-4-30">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgf2f1ed5" class="outline-4">
<h4 id="orgf2f1ed5"><span class="section-number-4">10.4.31.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-10-4-31">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org1a8c5e9" class="outline-4">
<h4 id="org1a8c5e9"><span class="section-number-4">10.4.32.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-10-4-32">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org139e60e" class="outline-4">
<h4 id="org139e60e"><span class="section-number-4">10.4.33.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-10-4-33">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgbfcad4a" class="outline-4">
<h4 id="orgbfcad4a"><span class="section-number-4">10.4.34.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-10-4-34">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org095adb4" class="outline-4">
<h4 id="org095adb4"><span class="section-number-4">10.4.35.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-10-4-35">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orge4eb1b6" class="outline-4">
<h4 id="orge4eb1b6"><span class="section-number-4">10.4.36.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-10-4-36">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org92e2085" class="outline-4">
<h4 id="org92e2085"><span class="section-number-4">10.4.37.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-10-4-37">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org741e4a6" class="outline-4">
<h4 id="org741e4a6"><span class="section-number-4">10.4.38.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-10-4-38">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-orga0c1be2" class="outline-4">
<h4 id="orga0c1be2"><span class="section-number-4">10.4.39.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-10-4-39">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-orgf8e42ce" class="outline-4">
<h4 id="orgf8e42ce"><span class="section-number-4">10.4.40.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-10-4-40">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org785f74a" class="outline-4">
<h4 id="org785f74a"><span class="section-number-4">10.4.41.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-10-4-41">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-org4b02163" class="outline-4">
<h4 id="org4b02163"><span class="section-number-4">10.4.42.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-10-4-42">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-orgc3e1e31" class="outline-4">
<h4 id="orgc3e1e31"><span class="section-number-4">10.4.43.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-10-4-43">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-org2163c69" class="outline-4">
<h4 id="org2163c69"><span class="section-number-4">10.4.44.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-10-4-44">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org31f5abc" class="outline-4">
<h4 id="org31f5abc"><span class="section-number-4">10.4.45.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-10-4-45">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-org8d8ab17" class="outline-4">
<h4 id="org8d8ab17"><span class="section-number-4">10.4.46.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-10-4-46">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgb698f75" class="outline-4">
<h4 id="orgb698f75"><span class="section-number-4">10.4.47.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-10-4-47">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org4e420de" class="outline-4">
<h4 id="org4e420de"><span class="section-number-4">10.4.48.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-10-4-48">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org0e4c4b6" class="outline-4">
<h4 id="org0e4c4b6"><span class="section-number-4">10.4.49.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-10-4-49">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org4fe4ee1" class="outline-4">
<h4 id="org4fe4ee1"><span class="section-number-4">10.4.50.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-10-4-50">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-org2b86c2a" class="outline-4">
<h4 id="org2b86c2a"><span class="section-number-4">10.4.51.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-10-4-51">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-org4634ff7" class="outline-4">
<h4 id="org4634ff7"><span class="section-number-4">10.4.52.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-10-4-52">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org81bf6ae" class="outline-4">
<h4 id="org81bf6ae"><span class="section-number-4">10.4.53.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-10-4-53">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org1618dbd" class="outline-4">
<h4 id="org1618dbd"><span class="section-number-4">10.4.54.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-10-4-54">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-orgcb8ec6e" class="outline-4">
<h4 id="orgcb8ec6e"><span class="section-number-4">10.4.55.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-10-4-55">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-org8ac2c87" class="outline-4">
<h4 id="org8ac2c87"><span class="section-number-4">10.4.56.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-10-4-56">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org23a7923" class="outline-2">
<h2 id="org23a7923"><span class="section-number-2">11.</span> Package <code>posix</code></h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org81ee789" class="outline-3">
<h3 id="org81ee789"><span class="section-number-3">11.1.</span> Constants</h3>
<div class="outline-text-3" id="text-11-1">
</div>
<div id="outline-container-org129fd68" class="outline-4">
<h4 id="org129fd68"><span class="section-number-4">11.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-11-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org510691d" class="outline-4">
<h4 id="org510691d"><span class="section-number-4">11.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-11-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org2e4ae59" class="outline-4">
<h4 id="org2e4ae59"><span class="section-number-4">11.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-11-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orga42b23e" class="outline-3">
<h3 id="orga42b23e"><span class="section-number-3">11.2.</span> Functions</h3>
<div class="outline-text-3" id="text-11-2">
</div>
<div id="outline-container-org678d5dd" class="outline-4">
<h4 id="org678d5dd"><span class="section-number-4">11.2.1.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-11-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org910fc06" class="outline-4">
<h4 id="org910fc06"><span class="section-number-4">11.2.2.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-11-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1d0c670" class="outline-4">
<h4 id="org1d0c670"><span class="section-number-4">11.2.3.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-11-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5713893" class="outline-4">
<h4 id="org5713893"><span class="section-number-4">11.2.4.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-11-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6fa0996" class="outline-4">
<h4 id="org6fa0996"><span class="section-number-4">11.2.5.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-11-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org461bfaf" class="outline-4">
<h4 id="org461bfaf"><span class="section-number-4">11.2.6.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-11-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org8e99322" class="outline-3">
<h3 id="org8e99322"><span class="section-number-3">11.3.</span> Macros</h3>
<div class="outline-text-3" id="text-11-3">
</div>
<div id="outline-container-org5095418" class="outline-4">
<h4 id="org5095418"><span class="section-number-4">11.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-11-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd11aeda" class="outline-4">
<h4 id="orgd11aeda"><span class="section-number-4">11.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-11-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2c625c2" class="outline-4">
<h4 id="org2c625c2"><span class="section-number-4">11.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-11-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8a6cb78" class="outline-4">
<h4 id="org8a6cb78"><span class="section-number-4">11.3.4.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-11-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 106, characters 0-194</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x)
  <span style="color: #ffa07a;">"(and X Y ...) evaluates expressions X,Y,... until the first</span>
<span style="color: #ffa07a;">  expression that returns false. The value of the whole form is the</span>
<span style="color: #ffa07a;">  value of the last evaluated expression."</span> x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgca269c6" class="outline-4">
<h4 id="orgca269c6"><span class="section-number-4">11.3.5.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-11-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org61ff7d2" class="outline-4">
<h4 id="org61ff7d2"><span class="section-number-4">11.3.6.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-11-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-org252e41f" class="outline-4">
<h4 id="org252e41f"><span class="section-number-4">11.3.7.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-11-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb83a96c" class="outline-4">
<h4 id="orgb83a96c"><span class="section-number-4">11.3.8.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-11-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0efab48" class="outline-4">
<h4 id="org0efab48"><span class="section-number-4">11.3.9.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-11-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcffcb9e" class="outline-4">
<h4 id="orgcffcb9e"><span class="section-number-4">11.3.10.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-11-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 164, characters 0-32</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org9b96494" class="outline-4">
<h4 id="org9b96494"><span class="section-number-4">11.3.11.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-11-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org54dad3a" class="outline-4">
<h4 id="org54dad3a"><span class="section-number-4">11.3.12.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-11-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org608eec8" class="outline-4">
<h4 id="org608eec8"><span class="section-number-4">11.3.13.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-11-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd2f0271" class="outline-4">
<h4 id="orgd2f0271"><span class="section-number-4">11.3.14.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-11-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7bdc2aa" class="outline-4">
<h4 id="org7bdc2aa"><span class="section-number-4">11.3.15.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-11-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0284072" class="outline-4">
<h4 id="org0284072"><span class="section-number-4">11.3.16.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-11-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgedaa8d5" class="outline-4">
<h4 id="orgedaa8d5"><span class="section-number-4">11.3.17.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-11-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 100, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x)
  <span style="color: #ffa07a;">"(decr X Y ...) decrements the value bound with the variables X, Y, ..."</span>
  (set x (-1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8d5dfb5" class="outline-4">
<h4 id="org8d5dfb5"><span class="section-number-4">11.3.18.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-11-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 16, characters 0-154</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F Y X) if applied</span>
<span style="color: #ffa07a;">   in the little endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian little)))
  (f y x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb11fcab" class="outline-4">
<h4 id="orgb11fcab"><span class="section-number-4">11.3.19.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-11-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 148, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x)
  <span style="color: #ffa07a;">"(fold F A X Y ...) expands to (F (F A X) Y) ..."</span>
  (f a x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgad4e8ba" class="outline-4">
<h4 id="orgad4e8ba"><span class="section-number-4">11.3.20.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-11-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 93, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x)
  <span style="color: #ffa07a;">"(incr X Y ...) increments the value bound with the variables X, Y, ..."</span>
  (set x (+1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf8d5920" class="outline-4">
<h4 id="orgf8d5920"><span class="section-number-4">11.3.21.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-11-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 142, characters 0-102</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y)
  <span style="color: #ffa07a;">"(is-in X A B C ...) returns true if X is equal A or B or C or ..."</span>
  (= x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbcb4a51" class="outline-4">
<h4 id="orgbcb4a51"><span class="section-number-4">11.3.22.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-11-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0e5c188" class="outline-4">
<h4 id="org0e5c188"><span class="section-number-4">11.3.23.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-11-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 158, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x)
  <span style="color: #ffa07a;">"(max X Y ...) returns the upper bound of the (X,Y,...) set"</span>
  x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org810d145" class="outline-4">
<h4 id="org810d145"><span class="section-number-4">11.3.24.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-11-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 153, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x)
  <span style="color: #ffa07a;">"(min X Y ...) returns the lower bound of the (X,Y,...) set"</span>
      x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org37787ee" class="outline-4">
<h4 id="org37787ee"><span class="section-number-4">11.3.25.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-11-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1cda26e" class="outline-4">
<h4 id="org1cda26e"><span class="section-number-4">11.3.26.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-11-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org59111ce" class="outline-4">
<h4 id="org59111ce"><span class="section-number-4">11.3.27.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-11-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 113, characters 0-346</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x xs)
  <span style="color: #ffa07a;">"(or &lt;expr&gt; ...) evaluates a sequence of expressions EXPR from left</span>
<span style="color: #ffa07a;">   to right until it meets the first expression that evaluates to the</span>
<span style="color: #ffa07a;">   truth value, that will become the value of the whole form. If no</span>
<span style="color: #ffa07a;">   expression returned the truth value, then the result of the whole</span>
<span style="color: #ffa07a;">   form is 0:1"</span>
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r r (or xs))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org50cd18f" class="outline-4">
<h4 id="org50cd18f"><span class="section-number-4">11.3.28.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-11-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org34038ec" class="outline-4">
<h4 id="org34038ec"><span class="section-number-4">11.3.29.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-11-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb2fa33d" class="outline-4">
<h4 id="orgb2fa33d"><span class="section-number-4">11.3.30.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-11-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgaccfcee" class="outline-4">
<h4 id="orgaccfcee"><span class="section-number-4">11.3.31.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-11-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbcaf654" class="outline-4">
<h4 id="orgbcaf654"><span class="section-number-4">11.3.32.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-11-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1052983" class="outline-4">
<h4 id="org1052983"><span class="section-number-4">11.3.33.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-11-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbff9fe6" class="outline-4">
<h4 id="orgbff9fe6"><span class="section-number-4">11.3.34.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-11-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0eaa7a4" class="outline-4">
<h4 id="org0eaa7a4"><span class="section-number-4">11.3.35.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-11-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-org063c2e3" class="outline-4">
<h4 id="org063c2e3"><span class="section-number-4">11.3.36.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-11-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-org48e5c26" class="outline-4">
<h4 id="org48e5c26"><span class="section-number-4">11.3.37.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-11-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1168d91" class="outline-4">
<h4 id="org1168d91"><span class="section-number-4">11.3.38.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-11-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd0a03c0" class="outline-3">
<h3 id="orgd0a03c0"><span class="section-number-3">11.4.</span> Primitives</h3>
<div class="outline-text-3" id="text-11-4">
</div>
<div id="outline-container-orgf9bb80b" class="outline-4">
<h4 id="orgf9bb80b"><span class="section-number-4">11.4.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-11-4-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-org2bd7584" class="outline-4">
<h4 id="org2bd7584"><span class="section-number-4">11.4.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-11-4-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-org875278e" class="outline-4">
<h4 id="org875278e"><span class="section-number-4">11.4.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-11-4-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-org9d735ef" class="outline-4">
<h4 id="org9d735ef"><span class="section-number-4">11.4.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-11-4-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-org20199fd" class="outline-4">
<h4 id="org20199fd"><span class="section-number-4">11.4.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-11-4-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-org8fd3198" class="outline-4">
<h4 id="org8fd3198"><span class="section-number-4">11.4.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-11-4-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-org0db68f7" class="outline-4">
<h4 id="org0db68f7"><span class="section-number-4">11.4.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-11-4-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-org2daa8bc" class="outline-4">
<h4 id="org2daa8bc"><span class="section-number-4">11.4.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-11-4-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-org9326a11" class="outline-4">
<h4 id="org9326a11"><span class="section-number-4">11.4.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-11-4-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-org70d2021" class="outline-4">
<h4 id="org70d2021"><span class="section-number-4">11.4.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-11-4-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-org12ed42b" class="outline-4">
<h4 id="org12ed42b"><span class="section-number-4">11.4.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-11-4-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-org827922e" class="outline-4">
<h4 id="org827922e"><span class="section-number-4">11.4.12.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-11-4-12">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org4799fa5" class="outline-4">
<h4 id="org4799fa5"><span class="section-number-4">11.4.13.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-11-4-13">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-orgafc0034" class="outline-4">
<h4 id="orgafc0034"><span class="section-number-4">11.4.14.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-11-4-14">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-org6eb4c3d" class="outline-4">
<h4 id="org6eb4c3d"><span class="section-number-4">11.4.15.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-11-4-15">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-orgba0d6b7" class="outline-4">
<h4 id="orgba0d6b7"><span class="section-number-4">11.4.16.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-11-4-16">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org27defee" class="outline-4">
<h4 id="org27defee"><span class="section-number-4">11.4.17.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-11-4-17">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-org822113b" class="outline-4">
<h4 id="org822113b"><span class="section-number-4">11.4.18.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-11-4-18">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-org1072599" class="outline-4">
<h4 id="org1072599"><span class="section-number-4">11.4.19.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-11-4-19">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-org7eaf454" class="outline-4">
<h4 id="org7eaf454"><span class="section-number-4">11.4.20.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-11-4-20">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-org7be8db4" class="outline-4">
<h4 id="org7be8db4"><span class="section-number-4">11.4.21.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-11-4-21">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-org342adb6" class="outline-4">
<h4 id="org342adb6"><span class="section-number-4">11.4.22.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-11-4-22">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-orgb288207" class="outline-4">
<h4 id="orgb288207"><span class="section-number-4">11.4.23.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-11-4-23">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-orge9bf8a4" class="outline-4">
<h4 id="orge9bf8a4"><span class="section-number-4">11.4.24.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-11-4-24">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-orgbf40923" class="outline-4">
<h4 id="orgbf40923"><span class="section-number-4">11.4.25.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-11-4-25">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-org01b5b43" class="outline-4">
<h4 id="org01b5b43"><span class="section-number-4">11.4.26.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-11-4-26">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-org00ea487" class="outline-4">
<h4 id="org00ea487"><span class="section-number-4">11.4.27.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-11-4-27">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-org17042f5" class="outline-4">
<h4 id="org17042f5"><span class="section-number-4">11.4.28.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-11-4-28">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgfc66532" class="outline-4">
<h4 id="orgfc66532"><span class="section-number-4">11.4.29.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-11-4-29">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-org9e435dc" class="outline-4">
<h4 id="org9e435dc"><span class="section-number-4">11.4.30.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-11-4-30">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org462d053" class="outline-4">
<h4 id="org462d053"><span class="section-number-4">11.4.31.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-11-4-31">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org9851542" class="outline-4">
<h4 id="org9851542"><span class="section-number-4">11.4.32.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-11-4-32">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org01200f6" class="outline-4">
<h4 id="org01200f6"><span class="section-number-4">11.4.33.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-11-4-33">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org9d42805" class="outline-4">
<h4 id="org9d42805"><span class="section-number-4">11.4.34.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-11-4-34">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orge0478f7" class="outline-4">
<h4 id="orge0478f7"><span class="section-number-4">11.4.35.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-11-4-35">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org035e7ac" class="outline-4">
<h4 id="org035e7ac"><span class="section-number-4">11.4.36.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-11-4-36">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org303812f" class="outline-4">
<h4 id="org303812f"><span class="section-number-4">11.4.37.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-11-4-37">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org890b79f" class="outline-4">
<h4 id="org890b79f"><span class="section-number-4">11.4.38.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-11-4-38">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-org169cf24" class="outline-4">
<h4 id="org169cf24"><span class="section-number-4">11.4.39.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-11-4-39">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-orgc60e305" class="outline-4">
<h4 id="orgc60e305"><span class="section-number-4">11.4.40.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-11-4-40">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org2d0ecde" class="outline-4">
<h4 id="org2d0ecde"><span class="section-number-4">11.4.41.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-11-4-41">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-orgd5287c9" class="outline-4">
<h4 id="orgd5287c9"><span class="section-number-4">11.4.42.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-11-4-42">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-orgcf1649c" class="outline-4">
<h4 id="orgcf1649c"><span class="section-number-4">11.4.43.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-11-4-43">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-org6cddc6a" class="outline-4">
<h4 id="org6cddc6a"><span class="section-number-4">11.4.44.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-11-4-44">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org03619bf" class="outline-4">
<h4 id="org03619bf"><span class="section-number-4">11.4.45.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-11-4-45">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-org833e797" class="outline-4">
<h4 id="org833e797"><span class="section-number-4">11.4.46.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-11-4-46">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-org6dc4bd9" class="outline-4">
<h4 id="org6dc4bd9"><span class="section-number-4">11.4.47.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-11-4-47">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgd830d07" class="outline-4">
<h4 id="orgd830d07"><span class="section-number-4">11.4.48.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-11-4-48">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org74bba0c" class="outline-4">
<h4 id="org74bba0c"><span class="section-number-4">11.4.49.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-11-4-49">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org48aea6c" class="outline-4">
<h4 id="org48aea6c"><span class="section-number-4">11.4.50.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-11-4-50">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-org9c7a944" class="outline-4">
<h4 id="org9c7a944"><span class="section-number-4">11.4.51.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-11-4-51">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-org3b9c4d6" class="outline-4">
<h4 id="org3b9c4d6"><span class="section-number-4">11.4.52.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-11-4-52">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org6258d82" class="outline-4">
<h4 id="org6258d82"><span class="section-number-4">11.4.53.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-11-4-53">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-orgf57291f" class="outline-4">
<h4 id="orgf57291f"><span class="section-number-4">11.4.54.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-11-4-54">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-orgc178b1c" class="outline-4">
<h4 id="orgc178b1c"><span class="section-number-4">11.4.55.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-11-4-55">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-org61c18a5" class="outline-4">
<h4 id="org61c18a5"><span class="section-number-4">11.4.56.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-11-4-56">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org9260da5" class="outline-2">
<h2 id="org9260da5"><span class="section-number-2">12.</span> Package <code>primus</code></h2>
<div class="outline-text-2" id="text-12">
</div>
<div id="outline-container-org8bee3bb" class="outline-3">
<h3 id="org8bee3bb"><span class="section-number-3">12.1.</span> Constants</h3>
<div class="outline-text-3" id="text-12-1">
</div>
<div id="outline-container-org0e33aba" class="outline-4">
<h4 id="org0e33aba"><span class="section-number-4">12.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-12-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbd6eada" class="outline-4">
<h4 id="orgbd6eada"><span class="section-number-4">12.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-12-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgec4f636" class="outline-4">
<h4 id="orgec4f636"><span class="section-number-4">12.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-12-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org97ba73c" class="outline-3">
<h3 id="org97ba73c"><span class="section-number-3">12.2.</span> Functions</h3>
<div class="outline-text-3" id="text-12-2">
</div>
<div id="outline-container-orgc4606db" class="outline-4">
<h4 id="orgc4606db"><span class="section-number-4">12.2.1.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-12-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org500b1ba" class="outline-4">
<h4 id="org500b1ba"><span class="section-number-4">12.2.2.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-12-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge6c87d9" class="outline-4">
<h4 id="orge6c87d9"><span class="section-number-4">12.2.3.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-12-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org34cfabd" class="outline-4">
<h4 id="org34cfabd"><span class="section-number-4">12.2.4.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-12-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfba50d8" class="outline-4">
<h4 id="orgfba50d8"><span class="section-number-4">12.2.5.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-12-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbec3bae" class="outline-4">
<h4 id="orgbec3bae"><span class="section-number-4">12.2.6.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-12-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7455e28" class="outline-3">
<h3 id="org7455e28"><span class="section-number-3">12.3.</span> Macros</h3>
<div class="outline-text-3" id="text-12-3">
</div>
<div id="outline-container-orge2dcfaa" class="outline-4">
<h4 id="orge2dcfaa"><span class="section-number-4">12.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-12-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1382f3b" class="outline-4">
<h4 id="org1382f3b"><span class="section-number-4">12.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-12-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9fb497a" class="outline-4">
<h4 id="org9fb497a"><span class="section-number-4">12.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-12-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org04c13f2" class="outline-4">
<h4 id="org04c13f2"><span class="section-number-4">12.3.4.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-12-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 106, characters 0-194</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x)
  <span style="color: #ffa07a;">"(and X Y ...) evaluates expressions X,Y,... until the first</span>
<span style="color: #ffa07a;">  expression that returns false. The value of the whole form is the</span>
<span style="color: #ffa07a;">  value of the last evaluated expression."</span> x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf59ea88" class="outline-4">
<h4 id="orgf59ea88"><span class="section-number-4">12.3.5.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-12-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org845bfa6" class="outline-4">
<h4 id="org845bfa6"><span class="section-number-4">12.3.6.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-12-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga866a62" class="outline-4">
<h4 id="orga866a62"><span class="section-number-4">12.3.7.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-12-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge0cc1c5" class="outline-4">
<h4 id="orge0cc1c5"><span class="section-number-4">12.3.8.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-12-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd69308e" class="outline-4">
<h4 id="orgd69308e"><span class="section-number-4">12.3.9.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-12-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org44e5fbc" class="outline-4">
<h4 id="org44e5fbc"><span class="section-number-4">12.3.10.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-12-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 164, characters 0-32</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org8a17d28" class="outline-4">
<h4 id="org8a17d28"><span class="section-number-4">12.3.11.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-12-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgde2fe4e" class="outline-4">
<h4 id="orgde2fe4e"><span class="section-number-4">12.3.12.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-12-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbb3ea10" class="outline-4">
<h4 id="orgbb3ea10"><span class="section-number-4">12.3.13.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-12-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc611a1c" class="outline-4">
<h4 id="orgc611a1c"><span class="section-number-4">12.3.14.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-12-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org08d2a1e" class="outline-4">
<h4 id="org08d2a1e"><span class="section-number-4">12.3.15.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-12-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9bc905f" class="outline-4">
<h4 id="org9bc905f"><span class="section-number-4">12.3.16.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-12-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1d9f956" class="outline-4">
<h4 id="org1d9f956"><span class="section-number-4">12.3.17.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-12-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 100, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x)
  <span style="color: #ffa07a;">"(decr X Y ...) decrements the value bound with the variables X, Y, ..."</span>
  (set x (-1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1ae5422" class="outline-4">
<h4 id="org1ae5422"><span class="section-number-4">12.3.18.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-12-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 16, characters 0-154</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F Y X) if applied</span>
<span style="color: #ffa07a;">   in the little endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian little)))
  (f y x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcb2fda9" class="outline-4">
<h4 id="orgcb2fda9"><span class="section-number-4">12.3.19.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-12-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 148, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x)
  <span style="color: #ffa07a;">"(fold F A X Y ...) expands to (F (F A X) Y) ..."</span>
  (f a x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org06e8aa4" class="outline-4">
<h4 id="org06e8aa4"><span class="section-number-4">12.3.20.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-12-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 93, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x)
  <span style="color: #ffa07a;">"(incr X Y ...) increments the value bound with the variables X, Y, ..."</span>
  (set x (+1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb9d8db8" class="outline-4">
<h4 id="orgb9d8db8"><span class="section-number-4">12.3.21.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-12-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 142, characters 0-102</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y)
  <span style="color: #ffa07a;">"(is-in X A B C ...) returns true if X is equal A or B or C or ..."</span>
  (= x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5e0fd61" class="outline-4">
<h4 id="org5e0fd61"><span class="section-number-4">12.3.22.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-12-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-org64adb66" class="outline-4">
<h4 id="org64adb66"><span class="section-number-4">12.3.23.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-12-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 158, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x)
  <span style="color: #ffa07a;">"(max X Y ...) returns the upper bound of the (X,Y,...) set"</span>
  x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org16a919e" class="outline-4">
<h4 id="org16a919e"><span class="section-number-4">12.3.24.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-12-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 153, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x)
  <span style="color: #ffa07a;">"(min X Y ...) returns the lower bound of the (X,Y,...) set"</span>
      x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd8e5ab0" class="outline-4">
<h4 id="orgd8e5ab0"><span class="section-number-4">12.3.25.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-12-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org099c69a" class="outline-4">
<h4 id="org099c69a"><span class="section-number-4">12.3.26.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-12-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5a0ee96" class="outline-4">
<h4 id="org5a0ee96"><span class="section-number-4">12.3.27.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-12-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 113, characters 0-346</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x xs)
  <span style="color: #ffa07a;">"(or &lt;expr&gt; ...) evaluates a sequence of expressions EXPR from left</span>
<span style="color: #ffa07a;">   to right until it meets the first expression that evaluates to the</span>
<span style="color: #ffa07a;">   truth value, that will become the value of the whole form. If no</span>
<span style="color: #ffa07a;">   expression returned the truth value, then the result of the whole</span>
<span style="color: #ffa07a;">   form is 0:1"</span>
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r r (or xs))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb078dba" class="outline-4">
<h4 id="orgb078dba"><span class="section-number-4">12.3.28.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-12-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb920304" class="outline-4">
<h4 id="orgb920304"><span class="section-number-4">12.3.29.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-12-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1b860fe" class="outline-4">
<h4 id="org1b860fe"><span class="section-number-4">12.3.30.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-12-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge5382cc" class="outline-4">
<h4 id="orge5382cc"><span class="section-number-4">12.3.31.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-12-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7fd935f" class="outline-4">
<h4 id="org7fd935f"><span class="section-number-4">12.3.32.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-12-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6a35e2e" class="outline-4">
<h4 id="org6a35e2e"><span class="section-number-4">12.3.33.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-12-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc3905c0" class="outline-4">
<h4 id="orgc3905c0"><span class="section-number-4">12.3.34.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-12-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-org100ee9e" class="outline-4">
<h4 id="org100ee9e"><span class="section-number-4">12.3.35.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-12-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-org19ef6fc" class="outline-4">
<h4 id="org19ef6fc"><span class="section-number-4">12.3.36.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-12-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-org97d6256" class="outline-4">
<h4 id="org97d6256"><span class="section-number-4">12.3.37.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-12-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc07c479" class="outline-4">
<h4 id="orgc07c479"><span class="section-number-4">12.3.38.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-12-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org1fd0389" class="outline-3">
<h3 id="org1fd0389"><span class="section-number-3">12.4.</span> Primitives</h3>
<div class="outline-text-3" id="text-12-4">
</div>
<div id="outline-container-org5d0e3ca" class="outline-4">
<h4 id="org5d0e3ca"><span class="section-number-4">12.4.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-12-4-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-org55a2ee7" class="outline-4">
<h4 id="org55a2ee7"><span class="section-number-4">12.4.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-12-4-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-orgabf70b0" class="outline-4">
<h4 id="orgabf70b0"><span class="section-number-4">12.4.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-12-4-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-org4eef77a" class="outline-4">
<h4 id="org4eef77a"><span class="section-number-4">12.4.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-12-4-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-orgf1da1b6" class="outline-4">
<h4 id="orgf1da1b6"><span class="section-number-4">12.4.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-12-4-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-orgcb3ae90" class="outline-4">
<h4 id="orgcb3ae90"><span class="section-number-4">12.4.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-12-4-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-org1b81815" class="outline-4">
<h4 id="org1b81815"><span class="section-number-4">12.4.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-12-4-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-orged9f6bd" class="outline-4">
<h4 id="orged9f6bd"><span class="section-number-4">12.4.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-12-4-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-org9fc041c" class="outline-4">
<h4 id="org9fc041c"><span class="section-number-4">12.4.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-12-4-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-orgfee5eac" class="outline-4">
<h4 id="orgfee5eac"><span class="section-number-4">12.4.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-12-4-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-org50d0240" class="outline-4">
<h4 id="org50d0240"><span class="section-number-4">12.4.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-12-4-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-org27368a5" class="outline-4">
<h4 id="org27368a5"><span class="section-number-4">12.4.12.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-12-4-12">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgd91b746" class="outline-4">
<h4 id="orgd91b746"><span class="section-number-4">12.4.13.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-12-4-13">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-orgc3897dd" class="outline-4">
<h4 id="orgc3897dd"><span class="section-number-4">12.4.14.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-12-4-14">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-org1545920" class="outline-4">
<h4 id="org1545920"><span class="section-number-4">12.4.15.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-12-4-15">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org3572a4a" class="outline-4">
<h4 id="org3572a4a"><span class="section-number-4">12.4.16.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-12-4-16">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-orgbb5389b" class="outline-4">
<h4 id="orgbb5389b"><span class="section-number-4">12.4.17.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-12-4-17">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-orgc1d10f3" class="outline-4">
<h4 id="orgc1d10f3"><span class="section-number-4">12.4.18.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-12-4-18">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-org5ef973a" class="outline-4">
<h4 id="org5ef973a"><span class="section-number-4">12.4.19.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-12-4-19">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-org29aefde" class="outline-4">
<h4 id="org29aefde"><span class="section-number-4">12.4.20.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-12-4-20">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-orgb734eb7" class="outline-4">
<h4 id="orgb734eb7"><span class="section-number-4">12.4.21.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-12-4-21">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-org9e71087" class="outline-4">
<h4 id="org9e71087"><span class="section-number-4">12.4.22.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-12-4-22">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-org4444d7f" class="outline-4">
<h4 id="org4444d7f"><span class="section-number-4">12.4.23.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-12-4-23">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-org99cdc90" class="outline-4">
<h4 id="org99cdc90"><span class="section-number-4">12.4.24.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-12-4-24">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-orgb01a725" class="outline-4">
<h4 id="orgb01a725"><span class="section-number-4">12.4.25.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-12-4-25">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-orge6ecfbe" class="outline-4">
<h4 id="orge6ecfbe"><span class="section-number-4">12.4.26.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-12-4-26">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-org7bce994" class="outline-4">
<h4 id="org7bce994"><span class="section-number-4">12.4.27.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-12-4-27">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-orgef1fbfc" class="outline-4">
<h4 id="orgef1fbfc"><span class="section-number-4">12.4.28.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-12-4-28">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orga9008d9" class="outline-4">
<h4 id="orga9008d9"><span class="section-number-4">12.4.29.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-12-4-29">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-org6f840b9" class="outline-4">
<h4 id="org6f840b9"><span class="section-number-4">12.4.30.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-12-4-30">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org4ed75c3" class="outline-4">
<h4 id="org4ed75c3"><span class="section-number-4">12.4.31.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-12-4-31">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgc39c8c0" class="outline-4">
<h4 id="orgc39c8c0"><span class="section-number-4">12.4.32.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-12-4-32">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgcf8eede" class="outline-4">
<h4 id="orgcf8eede"><span class="section-number-4">12.4.33.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-12-4-33">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org8e474e2" class="outline-4">
<h4 id="org8e474e2"><span class="section-number-4">12.4.34.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-12-4-34">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org0780632" class="outline-4">
<h4 id="org0780632"><span class="section-number-4">12.4.35.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-12-4-35">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org63a7f6d" class="outline-4">
<h4 id="org63a7f6d"><span class="section-number-4">12.4.36.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-12-4-36">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org86337f9" class="outline-4">
<h4 id="org86337f9"><span class="section-number-4">12.4.37.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-12-4-37">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org443eeb1" class="outline-4">
<h4 id="org443eeb1"><span class="section-number-4">12.4.38.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-12-4-38">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-org1200cbe" class="outline-4">
<h4 id="org1200cbe"><span class="section-number-4">12.4.39.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-12-4-39">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-org9e2b719" class="outline-4">
<h4 id="org9e2b719"><span class="section-number-4">12.4.40.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-12-4-40">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org267c334" class="outline-4">
<h4 id="org267c334"><span class="section-number-4">12.4.41.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-12-4-41">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-orga184c5f" class="outline-4">
<h4 id="orga184c5f"><span class="section-number-4">12.4.42.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-12-4-42">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-org5934ca3" class="outline-4">
<h4 id="org5934ca3"><span class="section-number-4">12.4.43.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-12-4-43">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-org2540773" class="outline-4">
<h4 id="org2540773"><span class="section-number-4">12.4.44.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-12-4-44">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org292613d" class="outline-4">
<h4 id="org292613d"><span class="section-number-4">12.4.45.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-12-4-45">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-orgd671717" class="outline-4">
<h4 id="orgd671717"><span class="section-number-4">12.4.46.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-12-4-46">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgb0ae67c" class="outline-4">
<h4 id="orgb0ae67c"><span class="section-number-4">12.4.47.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-12-4-47">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org6f21502" class="outline-4">
<h4 id="org6f21502"><span class="section-number-4">12.4.48.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-12-4-48">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org970bb2f" class="outline-4">
<h4 id="org970bb2f"><span class="section-number-4">12.4.49.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-12-4-49">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgce0ecfd" class="outline-4">
<h4 id="orgce0ecfd"><span class="section-number-4">12.4.50.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-12-4-50">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-org97c149c" class="outline-4">
<h4 id="org97c149c"><span class="section-number-4">12.4.51.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-12-4-51">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-org1f2a16c" class="outline-4">
<h4 id="org1f2a16c"><span class="section-number-4">12.4.52.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-12-4-52">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org39e8160" class="outline-4">
<h4 id="org39e8160"><span class="section-number-4">12.4.53.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-12-4-53">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org66d992b" class="outline-4">
<h4 id="org66d992b"><span class="section-number-4">12.4.54.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-12-4-54">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org357de34" class="outline-4">
<h4 id="org357de34"><span class="section-number-4">12.4.55.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-12-4-55">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-orgcf43851" class="outline-4">
<h4 id="orgcf43851"><span class="section-number-4">12.4.56.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-12-4-56">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgc1f75fe" class="outline-2">
<h2 id="orgc1f75fe"><span class="section-number-2">13.</span> Package <code>riscv</code></h2>
<div class="outline-text-2" id="text-13">
</div>
<div id="outline-container-orga8e00ac" class="outline-3">
<h3 id="orga8e00ac"><span class="section-number-3">13.1.</span> Constants</h3>
<div class="outline-text-3" id="text-13-1">
</div>
<div id="outline-container-org04b9e09" class="outline-4">
<h4 id="org04b9e09"><span class="section-number-4">13.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-13-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org35f4427" class="outline-4">
<h4 id="org35f4427"><span class="section-number-4">13.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-13-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org0e1d84a" class="outline-4">
<h4 id="org0e1d84a"><span class="section-number-4">13.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-13-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge64cb3f" class="outline-3">
<h3 id="orge64cb3f"><span class="section-number-3">13.2.</span> Functions</h3>
<div class="outline-text-3" id="text-13-2">
</div>
<div id="outline-container-orga5f020a" class="outline-4">
<h4 id="orga5f020a"><span class="section-number-4">13.2.1.</span> <code>ADDI</code></h4>
<div class="outline-text-4" id="text-13-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 9, characters 0-51</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDI</span> (dst src off)
  (set$ dst (+ src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org99ff65e" class="outline-4">
<h4 id="org99ff65e"><span class="section-number-4">13.2.2.</span> <code>ADDIW</code></h4>
<div class="outline-text-4" id="text-13-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 22, characters 0-48</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDIW</span> (dst src off)
  (add3 dst src off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbeba942" class="outline-4">
<h4 id="orgbeba942"><span class="section-number-4">13.2.3.</span> <code>ADDW</code></h4>
<div class="outline-text-4" id="text-13-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 28, characters 0-47</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ADDW</span> (dst src off)
  (add3 dst src off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgacef5ed" class="outline-4">
<h4 id="orgacef5ed"><span class="section-number-4">13.2.4.</span> <code>ANDI</code></h4>
<div class="outline-text-4" id="text-13-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 130, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ANDI</span> (dst src off)
  (set$ dst (logand src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org77f2de8" class="outline-4">
<h4 id="org77f2de8"><span class="section-number-4">13.2.5.</span> <code>AUIPC</code></h4>
<div class="outline-text-4" id="text-13-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 61, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">AUIPC</span> (dst off)
  (set$ dst (+ (get-program-counter) off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9b9de2c" class="outline-4">
<h4 id="org9b9de2c"><span class="section-number-4">13.2.6.</span> <code>BEQ</code></h4>
<div class="outline-text-4" id="text-13-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 188, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BEQ</span> (rs1 rs2 off)
  (conditional-jump (= rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org097ef4f" class="outline-4">
<h4 id="org097ef4f"><span class="section-number-4">13.2.7.</span> <code>BEQZ</code></h4>
<div class="outline-text-4" id="text-13-2-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 206, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BEQZ</span> (rs1 off)
  (conditional-jump (is-zero rs1) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1026dd1" class="outline-4">
<h4 id="org1026dd1"><span class="section-number-4">13.2.8.</span> <code>BLT</code></h4>
<div class="outline-text-4" id="text-13-2-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 191, characters 0-62</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BLT</span> (rs1 rs2 off)
  (conditional-jump (&lt; rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8493a25" class="outline-4">
<h4 id="org8493a25"><span class="section-number-4">13.2.9.</span> <code>BNE</code></h4>
<div class="outline-text-4" id="text-13-2-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 194, characters 0-63</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BNE</span> (rs1 rs2 off)
  (conditional-jump (/= rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org99d569c" class="outline-4">
<h4 id="org99d569c"><span class="section-number-4">13.2.10.</span> <code>BNEZ</code></h4>
<div class="outline-text-4" id="text-13-2-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 212, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">BNEZ</span> (rs1 off)
  (conditional-jump (not (is-zero rs1)) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge683c86" class="outline-4">
<h4 id="orge683c86"><span class="section-number-4">13.2.11.</span> <code>C_ADD</code></h4>
<div class="outline-text-4" id="text-13-2-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 34, characters 0-46</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADD</span> (rd r1 r2)
  (set$ rd (+ r1 r2)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgda3de5f" class="outline-4">
<h4 id="orgda3de5f"><span class="section-number-4">13.2.12.</span> <code>C_ADDI</code></h4>
<div class="outline-text-4" id="text-13-2-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 12, characters 0-53</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDI</span> (dst src off)
  (set$ dst (+ src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org364e862" class="outline-4">
<h4 id="org364e862"><span class="section-number-4">13.2.13.</span> <code>C_ADDI16SP</code></h4>
<div class="outline-text-4" id="text-13-2-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 40, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDI16SP</span> (dst src off)
  (set$ dst (+ src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgdf8e192" class="outline-4">
<h4 id="orgdf8e192"><span class="section-number-4">13.2.14.</span> <code>C_ADDI4SPN</code></h4>
<div class="outline-text-4" id="text-13-2-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 37, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDI4SPN</span> (dst src off)
  (set$ dst (+ src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3e05420" class="outline-4">
<h4 id="org3e05420"><span class="section-number-4">13.2.15.</span> <code>C_ADDIW</code></h4>
<div class="outline-text-4" id="text-13-2-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 25, characters 0-50</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDIW</span> (dst src off)
  (add3 dst src off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0194860" class="outline-4">
<h4 id="org0194860"><span class="section-number-4">13.2.16.</span> <code>C_ADDW</code></h4>
<div class="outline-text-4" id="text-13-2-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 31, characters 0-43</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_ADDW</span> (rd r1 r2)
  (add3 rd r1 r2))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9b447ff" class="outline-4">
<h4 id="org9b447ff"><span class="section-number-4">13.2.17.</span> <code>C_BEQ</code></h4>
<div class="outline-text-4" id="text-13-2-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 197, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BEQ</span> (rs1 rs2 off)
  (conditional-jump (= rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfc4e815" class="outline-4">
<h4 id="orgfc4e815"><span class="section-number-4">13.2.18.</span> <code>C_BEQZ</code></h4>
<div class="outline-text-4" id="text-13-2-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 209, characters 0-63</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BEQZ</span> (rs1 off)
  (conditional-jump (is-zero rs1) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc6c4991" class="outline-4">
<h4 id="orgc6c4991"><span class="section-number-4">13.2.19.</span> <code>C_BLT</code></h4>
<div class="outline-text-4" id="text-13-2-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 200, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BLT</span> (rs1 rs2 off)
  (conditional-jump (&lt; rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3509bad" class="outline-4">
<h4 id="org3509bad"><span class="section-number-4">13.2.20.</span> <code>C_BNE</code></h4>
<div class="outline-text-4" id="text-13-2-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 203, characters 0-65</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BNE</span> (rs1 rs2 off)
  (conditional-jump (/= rs1 rs2) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org22dddf1" class="outline-4">
<h4 id="org22dddf1"><span class="section-number-4">13.2.21.</span> <code>C_BNEZ</code></h4>
<div class="outline-text-4" id="text-13-2-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 215, characters 0-69</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_BNEZ</span> (rs1 off)
  (conditional-jump (not (is-zero rs1)) off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf6efed7" class="outline-4">
<h4 id="orgf6efed7"><span class="section-number-4">13.2.22.</span> <code>C_J</code></h4>
<div class="outline-text-4" id="text-13-2-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 175, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_J</span> (dst)
  (exec-addr (+ (get-program-counter) dst)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org72136cd" class="outline-4">
<h4 id="org72136cd"><span class="section-number-4">13.2.23.</span> <code>C_JALR</code></h4>
<div class="outline-text-4" id="text-13-2-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 178, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_JALR</span> (dst)
  (set X1 (+ (get-program-counter) 2))
  (exec-addr dst))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0bd16e9" class="outline-4">
<h4 id="org0bd16e9"><span class="section-number-4">13.2.24.</span> <code>C_JR</code></h4>
<div class="outline-text-4" id="text-13-2-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 172, characters 0-36</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_JR</span> (dst)
  (exec-addr dst))

</pre>
</div>
</div>
</div>

<div id="outline-container-org24455b5" class="outline-4">
<h4 id="org24455b5"><span class="section-number-4">13.2.25.</span> <code>C_LD</code></h4>
<div class="outline-text-4" id="text-13-2-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 79, characters 0-68</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_LD</span> (dst reg off)
  (set$ dst (core:load-word (+ reg off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org89d5c02" class="outline-4">
<h4 id="org89d5c02"><span class="section-number-4">13.2.26.</span> <code>C_LDSP</code></h4>
<div class="outline-text-4" id="text-13-2-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 104, characters 0-70</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_LDSP</span> (dst reg off)
  (set$ dst (core:load-word (+ reg off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6808056" class="outline-4">
<h4 id="org6808056"><span class="section-number-4">13.2.27.</span> <code>C_LI</code></h4>
<div class="outline-text-4" id="text-13-2-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 70, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_LI</span> (dst imm)
  (set$ dst (cast-signed (word-width) imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbde313d" class="outline-4">
<h4 id="orgbde313d"><span class="section-number-4">13.2.28.</span> <code>C_LUI</code></h4>
<div class="outline-text-4" id="text-13-2-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 55, characters 0-161</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_LUI</span> (dst imm)
  (set$ dst (lshift (cast-signed
                     (- (word-width) 12)
                     (cast-low 6 imm))
                    12)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org10bddbb" class="outline-4">
<h4 id="org10bddbb"><span class="section-number-4">13.2.29.</span> <code>C_MV</code></h4>
<div class="outline-text-4" id="text-13-2-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 52, characters 0-39</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_MV</span> (dst src)
  (set$ dst src))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga3605b7" class="outline-4">
<h4 id="orga3605b7"><span class="section-number-4">13.2.30.</span> <code>C_SD</code></h4>
<div class="outline-text-4" id="text-13-2-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 116, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SD</span> (val reg imm)
  (store-word (+ reg imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-org82b5d68" class="outline-4">
<h4 id="org82b5d68"><span class="section-number-4">13.2.31.</span> <code>C_SDSP</code></h4>
<div class="outline-text-4" id="text-13-2-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 107, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SDSP</span> (val sp imm)
  (store-word (+ sp imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-org92c8ad1" class="outline-4">
<h4 id="org92c8ad1"><span class="section-number-4">13.2.32.</span> <code>C_SLLI</code></h4>
<div class="outline-text-4" id="text-13-2-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 154, characters 0-58</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SLLI</span> (dst reg off)
  (set$ dst (lshift reg off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org195610a" class="outline-4">
<h4 id="org195610a"><span class="section-number-4">13.2.33.</span> <code>C_SRAI</code></h4>
<div class="outline-text-4" id="text-13-2-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 145, characters 0-59</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SRAI</span> (dst src imm)
  (set$ dst (arshift src imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4906892" class="outline-4">
<h4 id="org4906892"><span class="section-number-4">13.2.34.</span> <code>C_SRLI</code></h4>
<div class="outline-text-4" id="text-13-2-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 142, characters 0-58</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SRLI</span> (dst reg off)
  (set$ dst (rshift reg off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4ed9c9c" class="outline-4">
<h4 id="org4ed9c9c"><span class="section-number-4">13.2.35.</span> <code>C_SUB</code></h4>
<div class="outline-text-4" id="text-13-2-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 46, characters 0-46</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">C_SUB</span> (rd r1 r2)
  (set$ rd (- r1 r2)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb8f45b1" class="outline-4">
<h4 id="orgb8f45b1"><span class="section-number-4">13.2.36.</span> <code>JAL</code></h4>
<div class="outline-text-4" id="text-13-2-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 162, characters 0-107</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">JAL</span> (lr off)
  (<span style="color: #00ffff;">let</span> ((pc (get-program-counter)))
    (set$ lr (+ pc 4))
    (exec-addr (+ pc off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcd02106" class="outline-4">
<h4 id="orgcd02106"><span class="section-number-4">13.2.37.</span> <code>JALR</code></h4>
<div class="outline-text-4" id="text-13-2-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 167, characters 0-114</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">JALR</span> (lr rs off)
  (<span style="color: #00ffff;">let</span> ((pc (get-program-counter)))
    (set$ lr (+ pc 4))
    (exec-addr (+ pc rs off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org92c1782" class="outline-4">
<h4 id="org92c1782"><span class="section-number-4">13.2.38.</span> <code>LB</code></h4>
<div class="outline-text-4" id="text-13-2-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 95, characters 0-88</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LB</span> (dst reg off)
  (set$ dst (cast-signed (word-width) (load-byte (+ reg off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0b7ab9" class="outline-4">
<h4 id="orgc0b7ab9"><span class="section-number-4">13.2.39.</span> <code>LBU</code></h4>
<div class="outline-text-4" id="text-13-2-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 98, characters 0-91</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LBU</span> (dst reg off)
  (set$ dst (cast-unsigned (word-width) (load-byte (+ reg off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga0d9f42" class="outline-4">
<h4 id="orga0d9f42"><span class="section-number-4">13.2.40.</span> <code>LD</code></h4>
<div class="outline-text-4" id="text-13-2-40">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 76, characters 0-66</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LD</span> (dst reg off)
  (set$ dst (core:load-word (+ reg off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5224c71" class="outline-4">
<h4 id="org5224c71"><span class="section-number-4">13.2.41.</span> <code>LH</code></h4>
<div class="outline-text-4" id="text-13-2-41">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 89, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LH</span> (dst reg off)
  (load-word cast-signed 4 dst reg off))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc80d31f" class="outline-4">
<h4 id="orgc80d31f"><span class="section-number-4">13.2.42.</span> <code>LHU</code></h4>
<div class="outline-text-4" id="text-13-2-42">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 101, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LHU</span> (dst reg off)
  (load-word cast-unsigned 4 dst reg off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8d43088" class="outline-4">
<h4 id="org8d43088"><span class="section-number-4">13.2.43.</span> <code>LI</code></h4>
<div class="outline-text-4" id="text-13-2-43">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 67, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LI</span> (dst imm)
  (set$ dst (cast-signed (word-width) imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org499db35" class="outline-4">
<h4 id="org499db35"><span class="section-number-4">13.2.44.</span> <code>LUI</code></h4>
<div class="outline-text-4" id="text-13-2-44">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 64, characters 0-50</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LUI</span> (dst imm)
  (set$ dst (lshift imm 12)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9f686d2" class="outline-4">
<h4 id="org9f686d2"><span class="section-number-4">13.2.45.</span> <code>LW</code></h4>
<div class="outline-text-4" id="text-13-2-45">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 86, characters 0-64</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LW</span> (dst reg off)
  (load-word cast-signed 2 dst reg off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8f9213c" class="outline-4">
<h4 id="org8f9213c"><span class="section-number-4">13.2.46.</span> <code>LWU</code></h4>
<div class="outline-text-4" id="text-13-2-46">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 92, characters 0-67</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">LWU</span> (dst reg off)
  (load-word cast-unsigned 2 dst reg off))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2584d95" class="outline-4">
<h4 id="org2584d95"><span class="section-number-4">13.2.47.</span> <code>ORI</code></h4>
<div class="outline-text-4" id="text-13-2-47">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 133, characters 0-54</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">ORI</span> (dst src off)
  (set$ dst (logor src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9703098" class="outline-4">
<h4 id="org9703098"><span class="section-number-4">13.2.48.</span> <code>SB</code></h4>
<div class="outline-text-4" id="text-13-2-48">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 125, characters 0-55</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SB</span> (val reg imm)
  (store-byte (+ reg imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0774cc5" class="outline-4">
<h4 id="org0774cc5"><span class="section-number-4">13.2.49.</span> <code>SD</code></h4>
<div class="outline-text-4" id="text-13-2-49">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 113, characters 0-55</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SD</span> (val reg imm)
  (store-word (+ reg imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf424eac" class="outline-4">
<h4 id="orgf424eac"><span class="section-number-4">13.2.50.</span> <code>SDSP</code></h4>
<div class="outline-text-4" id="text-13-2-50">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 110, characters 0-55</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SDSP</span> (val sp imm)
  (store-word (+ sp imm) val))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge32adfb" class="outline-4">
<h4 id="orge32adfb"><span class="section-number-4">13.2.51.</span> <code>SH</code></h4>
<div class="outline-text-4" id="text-13-2-51">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 122, characters 0-85</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SH</span> (val reg imm)
  (store-word (+ reg imm) (cast-low (/ (word-width) 4) val)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org99e1e04" class="outline-4">
<h4 id="org99e1e04"><span class="section-number-4">13.2.52.</span> <code>SLLI</code></h4>
<div class="outline-text-4" id="text-13-2-52">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 151, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SLLI</span> (dst reg off)
  (set$ dst (lshift reg off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org258f094" class="outline-4">
<h4 id="org258f094"><span class="section-number-4">13.2.53.</span> <code>SLTI</code></h4>
<div class="outline-text-4" id="text-13-2-53">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 158, characters 0-55</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SLTI</span> (dst src off)
  (set$ dst (&lt; dst src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge9bd262" class="outline-4">
<h4 id="orge9bd262"><span class="section-number-4">13.2.54.</span> <code>SRAI</code></h4>
<div class="outline-text-4" id="text-13-2-54">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 148, characters 0-57</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SRAI</span> (dst src imm)
  (set$ dst (arshift src imm)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8e4ddd1" class="outline-4">
<h4 id="org8e4ddd1"><span class="section-number-4">13.2.55.</span> <code>SRLI</code></h4>
<div class="outline-text-4" id="text-13-2-55">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 139, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SRLI</span> (dst reg off)
  (set$ dst (rshift reg off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9093afd" class="outline-4">
<h4 id="org9093afd"><span class="section-number-4">13.2.56.</span> <code>SUB</code></h4>
<div class="outline-text-4" id="text-13-2-56">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 43, characters 0-44</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SUB</span> (rd r1 r2)
  (set$ rd (- r1 r2)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org48e5f43" class="outline-4">
<h4 id="org48e5f43"><span class="section-number-4">13.2.57.</span> <code>SW</code></h4>
<div class="outline-text-4" id="text-13-2-57">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 119, characters 0-85</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">SW</span> (val reg imm)
  (store-word (+ reg imm) (cast-low (/ (word-width) 2) val)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4aec69d" class="outline-4">
<h4 id="org4aec69d"><span class="section-number-4">13.2.58.</span> <code>XORI</code></h4>
<div class="outline-text-4" id="text-13-2-58">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 136, characters 0-56</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">XORI</span> (dst src off)
  (set$ dst (logxor src off)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd2ce8fd" class="outline-4">
<h4 id="orgd2ce8fd"><span class="section-number-4">13.2.59.</span> <code>add3</code></h4>
<div class="outline-text-4" id="text-13-2-59">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 15, characters 0-191</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add3</span> (dst src off)
  (<span style="color: #00ffff;">declare</span> (visibility <span style="color: #b0c4de;">:private</span>))
  (set$ dst (cast-signed
             (word-width)
             (cast-low (/ (word-width) 2)
                       (+ src off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8b540e5" class="outline-4">
<h4 id="org8b540e5"><span class="section-number-4">13.2.60.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-13-2-60">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org450fe4b" class="outline-4">
<h4 id="org450fe4b"><span class="section-number-4">13.2.61.</span> <code>conditional-jump</code></h4>
<div class="outline-text-4" id="text-13-2-61">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 182, characters 0-149</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">conditional-jump</span> (cmp off)
  (<span style="color: #00ffff;">declare</span> (visibility <span style="color: #b0c4de;">:private</span>))
  (<span style="color: #00ffff;">let</span> ((pc (get-program-counter)))
    (<span style="color: #00ffff;">when</span> cmp
      (exec-addr (+ pc off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf9b9376" class="outline-4">
<h4 id="orgf9b9376"><span class="section-number-4">13.2.62.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-13-2-62">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org383acab" class="outline-4">
<h4 id="org383acab"><span class="section-number-4">13.2.63.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-13-2-63">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9f064d0" class="outline-4">
<h4 id="org9f064d0"><span class="section-number-4">13.2.64.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-13-2-64">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc902a27" class="outline-4">
<h4 id="orgc902a27"><span class="section-number-4">13.2.65.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-13-2-65">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org61d1986" class="outline-4">
<h4 id="org61d1986"><span class="section-number-4">13.2.66.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-13-2-66">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4fa4ed2" class="outline-3">
<h3 id="org4fa4ed2"><span class="section-number-3">13.3.</span> Macros</h3>
<div class="outline-text-3" id="text-13-3">
</div>
<div id="outline-container-orgea4d660" class="outline-4">
<h4 id="orgea4d660"><span class="section-number-4">13.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-13-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3971d3a" class="outline-4">
<h4 id="org3971d3a"><span class="section-number-4">13.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-13-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org17d37d9" class="outline-4">
<h4 id="org17d37d9"><span class="section-number-4">13.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-13-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6a1d119" class="outline-4">
<h4 id="org6a1d119"><span class="section-number-4">13.3.4.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-13-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 106, characters 0-194</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x)
  <span style="color: #ffa07a;">"(and X Y ...) evaluates expressions X,Y,... until the first</span>
<span style="color: #ffa07a;">  expression that returns false. The value of the whole form is the</span>
<span style="color: #ffa07a;">  value of the last evaluated expression."</span> x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org333a1c7" class="outline-4">
<h4 id="org333a1c7"><span class="section-number-4">13.3.5.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-13-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org24df2f1" class="outline-4">
<h4 id="org24df2f1"><span class="section-number-4">13.3.6.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-13-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb23fde5" class="outline-4">
<h4 id="orgb23fde5"><span class="section-number-4">13.3.7.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-13-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4895b70" class="outline-4">
<h4 id="org4895b70"><span class="section-number-4">13.3.8.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-13-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-org203d4ec" class="outline-4">
<h4 id="org203d4ec"><span class="section-number-4">13.3.9.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-13-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2a8c2c5" class="outline-4">
<h4 id="org2a8c2c5"><span class="section-number-4">13.3.10.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-13-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 164, characters 0-32</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbb50e45" class="outline-4">
<h4 id="orgbb50e45"><span class="section-number-4">13.3.11.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-13-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org01c8ea0" class="outline-4">
<h4 id="org01c8ea0"><span class="section-number-4">13.3.12.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-13-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2c2eaba" class="outline-4">
<h4 id="org2c2eaba"><span class="section-number-4">13.3.13.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-13-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org64cafa3" class="outline-4">
<h4 id="org64cafa3"><span class="section-number-4">13.3.14.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-13-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4bb42f4" class="outline-4">
<h4 id="org4bb42f4"><span class="section-number-4">13.3.15.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-13-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge34aac0" class="outline-4">
<h4 id="orge34aac0"><span class="section-number-4">13.3.16.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-13-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org57ef3a2" class="outline-4">
<h4 id="org57ef3a2"><span class="section-number-4">13.3.17.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-13-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 100, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x)
  <span style="color: #ffa07a;">"(decr X Y ...) decrements the value bound with the variables X, Y, ..."</span>
  (set x (-1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org096b56f" class="outline-4">
<h4 id="org096b56f"><span class="section-number-4">13.3.18.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-13-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 16, characters 0-154</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F Y X) if applied</span>
<span style="color: #ffa07a;">   in the little endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian little)))
  (f y x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org429cbb1" class="outline-4">
<h4 id="org429cbb1"><span class="section-number-4">13.3.19.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-13-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 148, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x)
  <span style="color: #ffa07a;">"(fold F A X Y ...) expands to (F (F A X) Y) ..."</span>
  (f a x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5c31bb7" class="outline-4">
<h4 id="org5c31bb7"><span class="section-number-4">13.3.20.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-13-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 93, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x)
  <span style="color: #ffa07a;">"(incr X Y ...) increments the value bound with the variables X, Y, ..."</span>
  (set x (+1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9c4fa63" class="outline-4">
<h4 id="org9c4fa63"><span class="section-number-4">13.3.21.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-13-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 142, characters 0-102</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y)
  <span style="color: #ffa07a;">"(is-in X A B C ...) returns true if X is equal A or B or C or ..."</span>
  (= x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd65971a" class="outline-4">
<h4 id="orgd65971a"><span class="section-number-4">13.3.22.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-13-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "riscv.lisp", line 82, characters 0-141</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">load-word</span> (cast part dst reg off)
  (set$ dst (cast (word-width)
                  (load-bits (/ (word-width) part) (+ reg off)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7e07fa8" class="outline-4">
<h4 id="org7e07fa8"><span class="section-number-4">13.3.23.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-13-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd46dd21" class="outline-4">
<h4 id="orgd46dd21"><span class="section-number-4">13.3.24.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-13-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 158, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x)
  <span style="color: #ffa07a;">"(max X Y ...) returns the upper bound of the (X,Y,...) set"</span>
  x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org9f66494" class="outline-4">
<h4 id="org9f66494"><span class="section-number-4">13.3.25.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-13-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 153, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x)
  <span style="color: #ffa07a;">"(min X Y ...) returns the lower bound of the (X,Y,...) set"</span>
      x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org2227215" class="outline-4">
<h4 id="org2227215"><span class="section-number-4">13.3.26.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-13-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1ea8ad5" class="outline-4">
<h4 id="org1ea8ad5"><span class="section-number-4">13.3.27.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-13-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga62f400" class="outline-4">
<h4 id="orga62f400"><span class="section-number-4">13.3.28.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-13-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 113, characters 0-346</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x xs)
  <span style="color: #ffa07a;">"(or &lt;expr&gt; ...) evaluates a sequence of expressions EXPR from left</span>
<span style="color: #ffa07a;">   to right until it meets the first expression that evaluates to the</span>
<span style="color: #ffa07a;">   truth value, that will become the value of the whole form. If no</span>
<span style="color: #ffa07a;">   expression returned the truth value, then the result of the whole</span>
<span style="color: #ffa07a;">   form is 0:1"</span>
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r r (or xs))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgfea49f6" class="outline-4">
<h4 id="orgfea49f6"><span class="section-number-4">13.3.29.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-13-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8899424" class="outline-4">
<h4 id="org8899424"><span class="section-number-4">13.3.30.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-13-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb138eeb" class="outline-4">
<h4 id="orgb138eeb"><span class="section-number-4">13.3.31.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-13-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf209495" class="outline-4">
<h4 id="orgf209495"><span class="section-number-4">13.3.32.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-13-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8bb9d55" class="outline-4">
<h4 id="org8bb9d55"><span class="section-number-4">13.3.33.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-13-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2ddfdfd" class="outline-4">
<h4 id="org2ddfdfd"><span class="section-number-4">13.3.34.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-13-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd8a107f" class="outline-4">
<h4 id="orgd8a107f"><span class="section-number-4">13.3.35.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-13-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge8959f4" class="outline-4">
<h4 id="orge8959f4"><span class="section-number-4">13.3.36.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-13-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-org719a112" class="outline-4">
<h4 id="org719a112"><span class="section-number-4">13.3.37.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-13-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3280113" class="outline-4">
<h4 id="org3280113"><span class="section-number-4">13.3.38.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-13-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8098bf1" class="outline-4">
<h4 id="org8098bf1"><span class="section-number-4">13.3.39.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-13-3-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc1e26e4" class="outline-3">
<h3 id="orgc1e26e4"><span class="section-number-3">13.4.</span> Primitives</h3>
<div class="outline-text-3" id="text-13-4">
</div>
<div id="outline-container-orgf5d43eb" class="outline-4">
<h4 id="orgf5d43eb"><span class="section-number-4">13.4.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-13-4-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-org003554e" class="outline-4">
<h4 id="org003554e"><span class="section-number-4">13.4.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-13-4-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-org32ae326" class="outline-4">
<h4 id="org32ae326"><span class="section-number-4">13.4.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-13-4-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-orgac945f4" class="outline-4">
<h4 id="orgac945f4"><span class="section-number-4">13.4.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-13-4-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-org7c59fca" class="outline-4">
<h4 id="org7c59fca"><span class="section-number-4">13.4.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-13-4-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-orgc1aa16f" class="outline-4">
<h4 id="orgc1aa16f"><span class="section-number-4">13.4.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-13-4-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-org75016b3" class="outline-4">
<h4 id="org75016b3"><span class="section-number-4">13.4.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-13-4-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-org9a73fc3" class="outline-4">
<h4 id="org9a73fc3"><span class="section-number-4">13.4.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-13-4-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-org6f9041e" class="outline-4">
<h4 id="org6f9041e"><span class="section-number-4">13.4.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-13-4-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-org4fdad1b" class="outline-4">
<h4 id="org4fdad1b"><span class="section-number-4">13.4.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-13-4-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-orgcb7cc36" class="outline-4">
<h4 id="orgcb7cc36"><span class="section-number-4">13.4.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-13-4-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-org8d51a23" class="outline-4">
<h4 id="org8d51a23"><span class="section-number-4">13.4.12.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-13-4-12">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org00dea4c" class="outline-4">
<h4 id="org00dea4c"><span class="section-number-4">13.4.13.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-13-4-13">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-org02470ae" class="outline-4">
<h4 id="org02470ae"><span class="section-number-4">13.4.14.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-13-4-14">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-orgcd923b7" class="outline-4">
<h4 id="orgcd923b7"><span class="section-number-4">13.4.15.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-13-4-15">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-orgf2bd0ee" class="outline-4">
<h4 id="orgf2bd0ee"><span class="section-number-4">13.4.16.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-13-4-16">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org611af42" class="outline-4">
<h4 id="org611af42"><span class="section-number-4">13.4.17.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-13-4-17">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-orgf9eb119" class="outline-4">
<h4 id="orgf9eb119"><span class="section-number-4">13.4.18.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-13-4-18">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-orgbf334cb" class="outline-4">
<h4 id="orgbf334cb"><span class="section-number-4">13.4.19.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-13-4-19">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-orgec9252f" class="outline-4">
<h4 id="orgec9252f"><span class="section-number-4">13.4.20.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-13-4-20">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-org7b01483" class="outline-4">
<h4 id="org7b01483"><span class="section-number-4">13.4.21.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-13-4-21">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-org7ca6f59" class="outline-4">
<h4 id="org7ca6f59"><span class="section-number-4">13.4.22.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-13-4-22">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-orgeb0f07d" class="outline-4">
<h4 id="orgeb0f07d"><span class="section-number-4">13.4.23.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-13-4-23">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-orge0b48fc" class="outline-4">
<h4 id="orge0b48fc"><span class="section-number-4">13.4.24.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-13-4-24">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-orgd2e2c8b" class="outline-4">
<h4 id="orgd2e2c8b"><span class="section-number-4">13.4.25.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-13-4-25">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-orge317e8a" class="outline-4">
<h4 id="orge317e8a"><span class="section-number-4">13.4.26.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-13-4-26">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-orgbdc0f19" class="outline-4">
<h4 id="orgbdc0f19"><span class="section-number-4">13.4.27.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-13-4-27">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-org3eef615" class="outline-4">
<h4 id="org3eef615"><span class="section-number-4">13.4.28.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-13-4-28">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgf88f196" class="outline-4">
<h4 id="orgf88f196"><span class="section-number-4">13.4.29.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-13-4-29">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-org24ecc02" class="outline-4">
<h4 id="org24ecc02"><span class="section-number-4">13.4.30.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-13-4-30">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orge11886c" class="outline-4">
<h4 id="orge11886c"><span class="section-number-4">13.4.31.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-13-4-31">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org51dd45c" class="outline-4">
<h4 id="org51dd45c"><span class="section-number-4">13.4.32.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-13-4-32">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org00411fb" class="outline-4">
<h4 id="org00411fb"><span class="section-number-4">13.4.33.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-13-4-33">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgb3837b2" class="outline-4">
<h4 id="orgb3837b2"><span class="section-number-4">13.4.34.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-13-4-34">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org0e99f11" class="outline-4">
<h4 id="org0e99f11"><span class="section-number-4">13.4.35.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-13-4-35">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org57cda51" class="outline-4">
<h4 id="org57cda51"><span class="section-number-4">13.4.36.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-13-4-36">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orge73b693" class="outline-4">
<h4 id="orge73b693"><span class="section-number-4">13.4.37.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-13-4-37">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org6bab641" class="outline-4">
<h4 id="org6bab641"><span class="section-number-4">13.4.38.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-13-4-38">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-org036820e" class="outline-4">
<h4 id="org036820e"><span class="section-number-4">13.4.39.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-13-4-39">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-org9eb8a0f" class="outline-4">
<h4 id="org9eb8a0f"><span class="section-number-4">13.4.40.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-13-4-40">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org7d24c93" class="outline-4">
<h4 id="org7d24c93"><span class="section-number-4">13.4.41.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-13-4-41">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-org99f2b0d" class="outline-4">
<h4 id="org99f2b0d"><span class="section-number-4">13.4.42.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-13-4-42">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-org585d72b" class="outline-4">
<h4 id="org585d72b"><span class="section-number-4">13.4.43.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-13-4-43">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-orgf71e546" class="outline-4">
<h4 id="orgf71e546"><span class="section-number-4">13.4.44.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-13-4-44">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgdb2a388" class="outline-4">
<h4 id="orgdb2a388"><span class="section-number-4">13.4.45.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-13-4-45">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-orgd4d3f40" class="outline-4">
<h4 id="orgd4d3f40"><span class="section-number-4">13.4.46.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-13-4-46">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-org7c01dad" class="outline-4">
<h4 id="org7c01dad"><span class="section-number-4">13.4.47.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-13-4-47">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orga80318f" class="outline-4">
<h4 id="orga80318f"><span class="section-number-4">13.4.48.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-13-4-48">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org746dd60" class="outline-4">
<h4 id="org746dd60"><span class="section-number-4">13.4.49.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-13-4-49">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org97b38d2" class="outline-4">
<h4 id="org97b38d2"><span class="section-number-4">13.4.50.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-13-4-50">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-orgd1b53c6" class="outline-4">
<h4 id="orgd1b53c6"><span class="section-number-4">13.4.51.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-13-4-51">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-org818cbc0" class="outline-4">
<h4 id="org818cbc0"><span class="section-number-4">13.4.52.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-13-4-52">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org13f7ce9" class="outline-4">
<h4 id="org13f7ce9"><span class="section-number-4">13.4.53.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-13-4-53">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org42a3c71" class="outline-4">
<h4 id="org42a3c71"><span class="section-number-4">13.4.54.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-13-4-54">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org6e6e6b0" class="outline-4">
<h4 id="org6e6e6b0"><span class="section-number-4">13.4.55.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-13-4-55">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-orgca2ada2" class="outline-4">
<h4 id="orgca2ada2"><span class="section-number-4">13.4.56.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-13-4-56">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-org871be3b" class="outline-2">
<h2 id="org871be3b"><span class="section-number-2">14.</span> Package <code>thumb</code></h2>
<div class="outline-text-2" id="text-14">
</div>
<div id="outline-container-orgc0c367d" class="outline-3">
<h3 id="orgc0c367d"><span class="section-number-3">14.1.</span> Constants</h3>
<div class="outline-text-3" id="text-14-1">
</div>
<div id="outline-container-orgd9fdcbc" class="outline-4">
<h4 id="orgd9fdcbc"><span class="section-number-4">14.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-14-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd164bd3" class="outline-4">
<h4 id="orgd164bd3"><span class="section-number-4">14.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-14-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgaea30e3" class="outline-4">
<h4 id="orgaea30e3"><span class="section-number-4">14.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-14-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2f72153" class="outline-3">
<h3 id="org2f72153"><span class="section-number-3">14.2.</span> Functions</h3>
<div class="outline-text-3" id="text-14-2">
</div>
<div id="outline-container-orgbe43454" class="outline-4">
<h4 id="orgbe43454"><span class="section-number-4">14.2.1.</span> <code>add-with-carry</code></h4>
<div class="outline-text-4" id="text-14-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 12, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry</span> (rd x y c)
  (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
    (set-flags r x y)
    (set$ rd r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgadee595" class="outline-4">
<h4 id="orgadee595"><span class="section-number-4">14.2.2.</span> <code>add-with-carry/clear-base</code></h4>
<div class="outline-text-4" id="text-14-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 17, characters 0-126</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry/clear-base</span> (rd x y c)
  (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
    (set-flags r y x)
    (clear-base rd)
    (set$ rd r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf3af05f" class="outline-4">
<h4 id="orgf3af05f"><span class="section-number-4">14.2.3.</span> <code>add-with-carry/it-block</code></h4>
<div class="outline-text-4" id="text-14-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 23, characters 0-183</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">add-with-carry/it-block</span> (rd x y c cnd)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (<span style="color: #00ffff;">let</span> ((r (+ c y x)))
      (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
        (set-flags r x y))
      (set$ rd r))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8e4fb70" class="outline-4">
<h4 id="org8e4fb70"><span class="section-number-4">14.2.4.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-14-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb9f2a55" class="outline-4">
<h4 id="orgb9f2a55"><span class="section-number-4">14.2.5.</span> <code>clear-base</code></h4>
<div class="outline-text-4" id="text-14-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 63, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">clear-base</span> (reg)
  (set$ (alias-base-register reg) 0))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4f9583d" class="outline-4">
<h4 id="org4f9583d"><span class="section-number-4">14.2.6.</span> <code>condition-holds</code></h4>
<div class="outline-text-4" id="text-14-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 42, characters 0-372</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">condition-holds</span> (cnd)
  (<span style="color: #00ffff;">case</span> cnd
    0b0000 ZF
    0b0001 (lnot ZF)
    0b0010 CF
    0b0010 (lnot CF)
    0b0100 NF
    0b0101 (lnot NF)
    0b0110 VF
    0b0111 (lnot VF)
    0b1000 (logand CF (lnot ZF))
    0b1001 (logor (lnot CF) ZF)
    0b1010 (= NF VF)
    0b1011 (/= NF VF)
    0b1100 (logand (= NF VF) (lnot ZF))
    0b1101 (logor (/= NF VF) ZF)
    true))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0045557" class="outline-4">
<h4 id="org0045557"><span class="section-number-4">14.2.7.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-14-2-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2b2e020" class="outline-4">
<h4 id="org2b2e020"><span class="section-number-4">14.2.8.</span> <code>is-pc</code></h4>
<div class="outline-text-4" id="text-14-2-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 122, characters 0-36</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">is-pc</span> (r) (= (symbol r) 'PC))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgba665cd" class="outline-4">
<h4 id="orgba665cd"><span class="section-number-4">14.2.9.</span> <code>is-unconditional</code></h4>
<div class="outline-text-4" id="text-14-2-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 60, characters 0-47</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">is-unconditional</span> (cnd)
  (= cnd 0b1110))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgde982bd" class="outline-4">
<h4 id="orgde982bd"><span class="section-number-4">14.2.10.</span> <code>logandnot</code></h4>
<div class="outline-text-4" id="text-14-2-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 30, characters 0-49</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">logandnot</span> (rd rn)
  (logand rd (lnot rn)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org729fc1f" class="outline-4">
<h4 id="org729fc1f"><span class="section-number-4">14.2.11.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-14-2-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf323d3f" class="outline-4">
<h4 id="orgf323d3f"><span class="section-number-4">14.2.12.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-14-2-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0d9ce0d" class="outline-4">
<h4 id="org0d9ce0d"><span class="section-number-4">14.2.13.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-14-2-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgacf6052" class="outline-4">
<h4 id="orgacf6052"><span class="section-number-4">14.2.14.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-14-2-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgcc6ec21" class="outline-4">
<h4 id="orgcc6ec21"><span class="section-number-4">14.2.15.</span> <code>set-flags</code></h4>
<div class="outline-text-4" id="text-14-2-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 6, characters 0-120</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">set-flags</span> (r x y)
  (set NF (msb r))
  (set VF (overflow r x y))
  (set ZF (is-zero r))
  (set CF (carry r x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1ba83ff" class="outline-4">
<h4 id="org1ba83ff"><span class="section-number-4">14.2.16.</span> <code>t2ADDri12</code></h4>
<div class="outline-text-4" id="text-14-2-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 82, characters 0-125</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2ADDri12</span> (rd rn imm pre _)
  <span style="color: #ffa07a;">"addw rd, rn, imm; A7-189, T4 "</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (set$ rd (+ rn imm))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1ecf47e" class="outline-4">
<h4 id="org1ecf47e"><span class="section-number-4">14.2.17.</span> <code>t2B</code></h4>
<div class="outline-text-4" id="text-14-2-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 92, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2B</span> (off pre _)
  <span style="color: #ffa07a;">"b.w imm; A7-207, T3"</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (exec-addr (+ (t2pc) off))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4e2b648" class="outline-4">
<h4 id="org4e2b648"><span class="section-number-4">14.2.18.</span> <code>t2LDRHi12</code></h4>
<div class="outline-text-4" id="text-14-2-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 111, characters 0-151</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2LDRHi12</span> (rt rn imm pre _)
  <span style="color: #ffa07a;">"ldrh.w rt, [rn, imm]"</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (t2set rt (cast-unsigned 32 (load-bits 16 (+ rn imm))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge3c72c4" class="outline-4">
<h4 id="orge3c72c4"><span class="section-number-4">14.2.19.</span> <code>t2LDRSBi12</code></h4>
<div class="outline-text-4" id="text-14-2-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 101, characters 0-150</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2LDRSBi12</span> (rt rn imm pre _)
  <span style="color: #ffa07a;">"ldrsb.w rt, [rn, imm]"</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (t2set rt (cast-signed 32 (load-bits 8 (+ rn imm))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6aefd61" class="outline-4">
<h4 id="org6aefd61"><span class="section-number-4">14.2.20.</span> <code>t2LDRSHi12</code></h4>
<div class="outline-text-4" id="text-14-2-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 106, characters 0-151</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2LDRSHi12</span> (rt rn imm pre _)
  <span style="color: #ffa07a;">"ldrsh.w rt, [rn, imm]"</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (t2set rt (cast-signed 32 (load-bits 16 (+ rn imm))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org308cf76" class="outline-4">
<h4 id="org308cf76"><span class="section-number-4">14.2.21.</span> <code>t2LDRs</code></h4>
<div class="outline-text-4" id="text-14-2-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 97, characters 0-116</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2LDRs</span> (rt rn rm imm pre _)
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (t2set rt (load-word (+ rn (lshift rm imm))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org71bfa26" class="outline-4">
<h4 id="org71bfa26"><span class="section-number-4">14.2.22.</span> <code>t2STRDi8</code></h4>
<div class="outline-text-4" id="text-14-2-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 76, characters 0-183</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2STRDi8</span> (rt1 rt2 rn imm pre _)
  <span style="color: #ffa07a;">"strd rt1, rt2, [rn, off]"</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (store-word (+ rn imm) rt1)
    (store-word (+ rn imm (sizeof word-width)) rt2)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org42c93af" class="outline-4">
<h4 id="org42c93af"><span class="section-number-4">14.2.23.</span> <code>t2STRHi12</code></h4>
<div class="outline-text-4" id="text-14-2-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 87, characters 0-148</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2STRHi12</span> (rt rn imm pre _)
  <span style="color: #ffa07a;">"strh.w rt, [rn, imm]; A7-442; T2"</span>
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (store-word (+ rn imm) (cast-low 16 rt))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org590eb66" class="outline-4">
<h4 id="org590eb66"><span class="section-number-4">14.2.24.</span> <code>t2pc</code></h4>
<div class="outline-text-4" id="text-14-2-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 120, characters 0-43</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2pc</span> () (+ (get-program-counter) 4))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgde630d8" class="outline-4">
<h4 id="orgde630d8"><span class="section-number-4">14.2.25.</span> <code>t2reg</code></h4>
<div class="outline-text-4" id="text-14-2-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 124, characters 0-43</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2reg</span> (r)
  (<span style="color: #00ffff;">if</span> (is-pc r) (t2pc) r))

</pre>
</div>
</div>
</div>

<div id="outline-container-org34fbbdd" class="outline-4">
<h4 id="org34fbbdd"><span class="section-number-4">14.2.26.</span> <code>t2set</code></h4>
<div class="outline-text-4" id="text-14-2-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 127, characters 0-83</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">t2set</span> (reg val)
  (<span style="color: #00ffff;">if</span> (is-pc reg)
      (exec-addr val)
    (set$ reg val)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc5ce9fb" class="outline-4">
<h4 id="orgc5ce9fb"><span class="section-number-4">14.2.27.</span> <code>tADDhirr</code></h4>
<div class="outline-text-4" id="text-14-2-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 58, characters 0-96</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tADDhirr</span> (rd rn rm cnd _)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (set$ rd (+ rn (t2reg rm)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7b05ba2" class="outline-4">
<h4 id="org7b05ba2"><span class="section-number-4">14.2.28.</span> <code>tAND</code></h4>
<div class="outline-text-4" id="text-14-2-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 23, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tAND</span> (rd _ rn rm cnd _)
  (tLOGs logand rd rn rm cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4823f03" class="outline-4">
<h4 id="org4823f03"><span class="section-number-4">14.2.29.</span> <code>tBIC</code></h4>
<div class="outline-text-4" id="text-14-2-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 26, characters 0-99</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tBIC</span> (rd _ rn rm cnd _)
  <span style="color: #ffa07a;">"bics rd, rn, rm ; with rn = rd"</span>
  (tLOGs logandnot rd rn rm cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-org39308a6" class="outline-4">
<h4 id="org39308a6"><span class="section-number-4">14.2.30.</span> <code>tEOR</code></h4>
<div class="outline-text-4" id="text-14-2-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 20, characters 0-61</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tEOR</span> (rd _ rn rm cnd _)
  (tLOGs logxor rd rn rm cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge5822f9" class="outline-4">
<h4 id="orge5822f9"><span class="section-number-4">14.2.31.</span> <code>tLSLrr</code></h4>
<div class="outline-text-4" id="text-14-2-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 44, characters 0-94</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tLSLrr</span> (rd _ rn rm cnd _)
  <span style="color: #ffa07a;">"lsls rd, rn, rm"</span>
  (shift-with-carry lshift rd rn rm cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc66b47c" class="outline-4">
<h4 id="orgc66b47c"><span class="section-number-4">14.2.32.</span> <code>tLSRrr</code></h4>
<div class="outline-text-4" id="text-14-2-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 48, characters 0-94</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tLSRrr</span> (rd _ rn rm cnd _)
  <span style="color: #ffa07a;">"lsrs rd, rn, rm"</span>
  (shift-with-carry rshift rd rn rm cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga8641f2" class="outline-4">
<h4 id="orga8641f2"><span class="section-number-4">14.2.33.</span> <code>tMOVr</code></h4>
<div class="outline-text-4" id="text-14-2-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 116, characters 0-76</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tMOVr</span> (rt rn pre _)
  (<span style="color: #00ffff;">when</span> (condition-holds pre)
    (t2set rt rn)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8b34b2b" class="outline-4">
<h4 id="org8b34b2b"><span class="section-number-4">14.2.34.</span> <code>tMUL</code></h4>
<div class="outline-text-4" id="text-14-2-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 69, characters 0-172</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tMUL</span> (rd _ rn rm cnd _)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (set$ rd (* rn rm))
    (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
      (set ZF (is-zero rd))
      (set NF (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4ce7bbb" class="outline-4">
<h4 id="org4ce7bbb"><span class="section-number-4">14.2.35.</span> <code>tMVN</code></h4>
<div class="outline-text-4" id="text-14-2-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 30, characters 0-130</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tMVN</span> (rd _ rn cnd _)
  (set$ rd (lnot rn))
  (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
    (set ZF (is-zero rd))
    (set NF (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8613443" class="outline-4">
<h4 id="org8613443"><span class="section-number-4">14.2.36.</span> <code>tREV</code></h4>
<div class="outline-text-4" id="text-14-2-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 36, characters 0-209</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tREV</span> (rd rn cnd _)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (set$ rd (concat
              (extract 7 0 rn)
              (extract 15 8 rn)
              (extract 23 16 rn)
              (extract 31 24 rn)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8a7e274" class="outline-4">
<h4 id="org8a7e274"><span class="section-number-4">14.2.37.</span> <code>tRSB</code></h4>
<div class="outline-text-4" id="text-14-2-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 65, characters 0-97</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tRSB</span> (rd _ rn cnd _)
  <span style="color: #ffa07a;">"rsbs r3, r2, #0"</span>
  (add-with-carry/it-block rd 0 (lnot rn) 1 cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc01885f" class="outline-4">
<h4 id="orgc01885f"><span class="section-number-4">14.2.38.</span> <code>tSBC</code></h4>
<div class="outline-text-4" id="text-14-2-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 62, characters 0-82</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tSBC</span> (rd _ rn rm cnd _)
  (add-with-carry/it-block rd rn (lnot rm) CF cnd))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8b23178" class="outline-4">
<h4 id="org8b23178"><span class="section-number-4">14.2.39.</span> <code>tTST</code></h4>
<div class="outline-text-4" id="text-14-2-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 52, characters 0-117</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">tTST</span> (rn rm _ _)
  <span style="color: #ffa07a;">"tst rn, rm"</span>
  (<span style="color: #00ffff;">let</span> ((rd (logand rn rm)))
    (set ZF (is-zero rd))
    (set NF (msb rd))))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org892d8b9" class="outline-3">
<h3 id="org892d8b9"><span class="section-number-3">14.3.</span> Macros</h3>
<div class="outline-text-3" id="text-14-3">
</div>
<div id="outline-container-org07d887c" class="outline-4">
<h4 id="org07d887c"><span class="section-number-4">14.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-14-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9007d79" class="outline-4">
<h4 id="org9007d79"><span class="section-number-4">14.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-14-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd2596bd" class="outline-4">
<h4 id="orgd2596bd"><span class="section-number-4">14.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-14-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga28e1b0" class="outline-4">
<h4 id="orga28e1b0"><span class="section-number-4">14.3.4.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-14-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 110, characters 0-55</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x xs)
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r (and xs) r)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3f74a54" class="outline-4">
<h4 id="org3f74a54"><span class="section-number-4">14.3.5.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-14-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7e1e340" class="outline-4">
<h4 id="org7e1e340"><span class="section-number-4">14.3.6.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-14-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5b6c463" class="outline-4">
<h4 id="org5b6c463"><span class="section-number-4">14.3.7.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-14-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org82c71d9" class="outline-4">
<h4 id="org82c71d9"><span class="section-number-4">14.3.8.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-14-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2023487" class="outline-4">
<h4 id="org2023487"><span class="section-number-4">14.3.9.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-14-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgeb86489" class="outline-4">
<h4 id="orgeb86489"><span class="section-number-4">14.3.10.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-14-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 166, characters 0-75</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k k' x xs)
  (<span style="color: #00ffff;">if</span> (= k k') x (case/dispatch k xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org10c1840" class="outline-4">
<h4 id="org10c1840"><span class="section-number-4">14.3.11.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-14-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9a9bd7e" class="outline-4">
<h4 id="org9a9bd7e"><span class="section-number-4">14.3.12.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-14-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3a7fb62" class="outline-4">
<h4 id="org3a7fb62"><span class="section-number-4">14.3.13.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-14-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6e1b8ca" class="outline-4">
<h4 id="org6e1b8ca"><span class="section-number-4">14.3.14.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-14-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf697264" class="outline-4">
<h4 id="orgf697264"><span class="section-number-4">14.3.15.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-14-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge7f11d6" class="outline-4">
<h4 id="orge7f11d6"><span class="section-number-4">14.3.16.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-14-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7184f83" class="outline-4">
<h4 id="org7184f83"><span class="section-number-4">14.3.17.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-14-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 103, characters 0-50</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x xs)
  (<span style="color: #00ffff;">prog</span> (decr x) (decr xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgb64d3c4" class="outline-4">
<h4 id="orgb64d3c4"><span class="section-number-4">14.3.18.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-14-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 22, characters 0-148</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F X Y) if applied</span>
<span style="color: #ffa07a;">   in the big endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian big)))
  (f x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8da9a7c" class="outline-4">
<h4 id="org8da9a7c"><span class="section-number-4">14.3.19.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-14-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 151, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x xs) (fold f (f a x) xs))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0b79ebb" class="outline-4">
<h4 id="org0b79ebb"><span class="section-number-4">14.3.20.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-14-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 97, characters 0-50</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x xs)
  (<span style="color: #00ffff;">prog</span> (incr x) (incr xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3c30f79" class="outline-4">
<h4 id="org3c30f79"><span class="section-number-4">14.3.21.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-14-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 145, characters 0-57</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y ys)
  (or (is-in x y) (is-in x ys)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga4d4d3c" class="outline-4">
<h4 id="orga4d4d3c"><span class="section-number-4">14.3.22.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-14-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-org049389a" class="outline-4">
<h4 id="org049389a"><span class="section-number-4">14.3.23.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-14-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 162, characters 0-42</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x y ys) (max (max x y) ys))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgaa500d4" class="outline-4">
<h4 id="orgaa500d4"><span class="section-number-4">14.3.24.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-14-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 157, characters 0-42</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x y ys) (min (min x y) ys))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0672229" class="outline-4">
<h4 id="org0672229"><span class="section-number-4">14.3.25.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-14-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org89de83c" class="outline-4">
<h4 id="org89de83c"><span class="section-number-4">14.3.26.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-14-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9aea2df" class="outline-4">
<h4 id="org9aea2df"><span class="section-number-4">14.3.27.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-14-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 120, characters 0-19</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc71bc21" class="outline-4">
<h4 id="orgc71bc21"><span class="section-number-4">14.3.28.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-14-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org396f047" class="outline-4">
<h4 id="org396f047"><span class="section-number-4">14.3.29.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-14-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga2bb509" class="outline-4">
<h4 id="orga2bb509"><span class="section-number-4">14.3.30.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-14-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc4b94c4" class="outline-4">
<h4 id="orgc4b94c4"><span class="section-number-4">14.3.31.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-14-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org66795a9" class="outline-4">
<h4 id="org66795a9"><span class="section-number-4">14.3.32.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-14-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2b9ce30" class="outline-4">
<h4 id="org2b9ce30"><span class="section-number-4">14.3.33.</span> <code>setw</code></h4>
<div class="outline-text-4" id="text-14-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 66, characters 0-147</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">setw</span> (reg val)
  <span style="color: #ffa07a;">"(set Wx V) sets a Wx register clearing the upper 32 bits."</span>
  (<span style="color: #00ffff;">let</span> ((res val))
    (clear-base reg)
    (set$ reg res)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org245df96" class="outline-4">
<h4 id="org245df96"><span class="section-number-4">14.3.34.</span> <code>shift-with-carry</code></h4>
<div class="outline-text-4" id="text-14-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "arm-bits.lisp", line 33, characters 0-273</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">shift-with-carry</span> (shift rd rn rm cnd)
  (<span style="color: #00ffff;">when</span> (condition-holds cnd)
    (<span style="color: #00ffff;">let</span> ((r (cast-signed (word-width) rn)))
      (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
        (set CF (msb r))
        (set$ rd (shift r rm))
        (set ZF (is-zero rd))
        (set NF (msb rd))))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org53d5d27" class="outline-4">
<h4 id="org53d5d27"><span class="section-number-4">14.3.35.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-14-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4e703dc" class="outline-4">
<h4 id="org4e703dc"><span class="section-number-4">14.3.36.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-14-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-org384a9fc" class="outline-4">
<h4 id="org384a9fc"><span class="section-number-4">14.3.37.</span> <code>tLOGs</code></h4>
<div class="outline-text-4" id="text-14-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "thumb.lisp", line 14, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">tLOGs</span> (op rd rn rm cnd)
  (<span style="color: #00ffff;">prog</span> (set$ rd (op rn rm))
     (<span style="color: #00ffff;">when</span> (is-unconditional cnd)
       (set ZF (is-zero rd))
       (set NF (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0a00b6e" class="outline-4">
<h4 id="org0a00b6e"><span class="section-number-4">14.3.38.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-14-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-org31392a6" class="outline-4">
<h4 id="org31392a6"><span class="section-number-4">14.3.39.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-14-3-39">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-org40a8c9d" class="outline-4">
<h4 id="org40a8c9d"><span class="section-number-4">14.3.40.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-14-3-40">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf84f5cd" class="outline-4">
<h4 id="orgf84f5cd"><span class="section-number-4">14.3.41.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-14-3-41">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3a49608" class="outline-3">
<h3 id="org3a49608"><span class="section-number-3">14.4.</span> Primitives</h3>
<div class="outline-text-3" id="text-14-4">
</div>
<div id="outline-container-org10f3091" class="outline-4">
<h4 id="org10f3091"><span class="section-number-4">14.4.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-14-4-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-orgc015a23" class="outline-4">
<h4 id="orgc015a23"><span class="section-number-4">14.4.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-14-4-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-org54eae8d" class="outline-4">
<h4 id="org54eae8d"><span class="section-number-4">14.4.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-14-4-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-orgcb7f6a8" class="outline-4">
<h4 id="orgcb7f6a8"><span class="section-number-4">14.4.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-14-4-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-orgb3a48d0" class="outline-4">
<h4 id="orgb3a48d0"><span class="section-number-4">14.4.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-14-4-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-orgb89e7aa" class="outline-4">
<h4 id="orgb89e7aa"><span class="section-number-4">14.4.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-14-4-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-org12967de" class="outline-4">
<h4 id="org12967de"><span class="section-number-4">14.4.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-14-4-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-org0cb4085" class="outline-4">
<h4 id="org0cb4085"><span class="section-number-4">14.4.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-14-4-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-orgb06c444" class="outline-4">
<h4 id="orgb06c444"><span class="section-number-4">14.4.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-14-4-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-org3e927ec" class="outline-4">
<h4 id="org3e927ec"><span class="section-number-4">14.4.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-14-4-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-org71ca0f2" class="outline-4">
<h4 id="org71ca0f2"><span class="section-number-4">14.4.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-14-4-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-org6f6d703" class="outline-4">
<h4 id="org6f6d703"><span class="section-number-4">14.4.12.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-14-4-12">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgfe1e7df" class="outline-4">
<h4 id="orgfe1e7df"><span class="section-number-4">14.4.13.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-14-4-13">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-orgcb816c2" class="outline-4">
<h4 id="orgcb816c2"><span class="section-number-4">14.4.14.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-14-4-14">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-org68e45a7" class="outline-4">
<h4 id="org68e45a7"><span class="section-number-4">14.4.15.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-14-4-15">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org0c1bffa" class="outline-4">
<h4 id="org0c1bffa"><span class="section-number-4">14.4.16.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-14-4-16">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-orgbe33ff3" class="outline-4">
<h4 id="orgbe33ff3"><span class="section-number-4">14.4.17.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-14-4-17">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-orgd184d8d" class="outline-4">
<h4 id="orgd184d8d"><span class="section-number-4">14.4.18.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-14-4-18">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-org2104fed" class="outline-4">
<h4 id="org2104fed"><span class="section-number-4">14.4.19.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-14-4-19">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-org895a09d" class="outline-4">
<h4 id="org895a09d"><span class="section-number-4">14.4.20.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-14-4-20">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-org4e76af4" class="outline-4">
<h4 id="org4e76af4"><span class="section-number-4">14.4.21.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-14-4-21">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-org74c4283" class="outline-4">
<h4 id="org74c4283"><span class="section-number-4">14.4.22.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-14-4-22">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-orge3afc52" class="outline-4">
<h4 id="orge3afc52"><span class="section-number-4">14.4.23.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-14-4-23">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-orgae6a26d" class="outline-4">
<h4 id="orgae6a26d"><span class="section-number-4">14.4.24.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-14-4-24">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-org53d12ab" class="outline-4">
<h4 id="org53d12ab"><span class="section-number-4">14.4.25.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-14-4-25">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-orge175921" class="outline-4">
<h4 id="orge175921"><span class="section-number-4">14.4.26.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-14-4-26">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-org10ee9b8" class="outline-4">
<h4 id="org10ee9b8"><span class="section-number-4">14.4.27.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-14-4-27">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-orgdf10666" class="outline-4">
<h4 id="orgdf10666"><span class="section-number-4">14.4.28.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-14-4-28">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org269c87c" class="outline-4">
<h4 id="org269c87c"><span class="section-number-4">14.4.29.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-14-4-29">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-org8732b66" class="outline-4">
<h4 id="org8732b66"><span class="section-number-4">14.4.30.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-14-4-30">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orga9ee49e" class="outline-4">
<h4 id="orga9ee49e"><span class="section-number-4">14.4.31.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-14-4-31">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org5c58e12" class="outline-4">
<h4 id="org5c58e12"><span class="section-number-4">14.4.32.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-14-4-32">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgd50ef9b" class="outline-4">
<h4 id="orgd50ef9b"><span class="section-number-4">14.4.33.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-14-4-33">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgd17cc70" class="outline-4">
<h4 id="orgd17cc70"><span class="section-number-4">14.4.34.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-14-4-34">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org348c8cc" class="outline-4">
<h4 id="org348c8cc"><span class="section-number-4">14.4.35.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-14-4-35">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orga28d890" class="outline-4">
<h4 id="orga28d890"><span class="section-number-4">14.4.36.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-14-4-36">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org0f2f2dd" class="outline-4">
<h4 id="org0f2f2dd"><span class="section-number-4">14.4.37.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-14-4-37">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgae236fb" class="outline-4">
<h4 id="orgae236fb"><span class="section-number-4">14.4.38.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-14-4-38">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-org04a9c32" class="outline-4">
<h4 id="org04a9c32"><span class="section-number-4">14.4.39.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-14-4-39">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-orgb819dfd" class="outline-4">
<h4 id="orgb819dfd"><span class="section-number-4">14.4.40.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-14-4-40">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org50611f2" class="outline-4">
<h4 id="org50611f2"><span class="section-number-4">14.4.41.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-14-4-41">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-org35c78d6" class="outline-4">
<h4 id="org35c78d6"><span class="section-number-4">14.4.42.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-14-4-42">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-org444268c" class="outline-4">
<h4 id="org444268c"><span class="section-number-4">14.4.43.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-14-4-43">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-org2f1ce71" class="outline-4">
<h4 id="org2f1ce71"><span class="section-number-4">14.4.44.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-14-4-44">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orge8ef6c7" class="outline-4">
<h4 id="orge8ef6c7"><span class="section-number-4">14.4.45.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-14-4-45">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-org6a7f0b8" class="outline-4">
<h4 id="org6a7f0b8"><span class="section-number-4">14.4.46.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-14-4-46">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-org6d38769" class="outline-4">
<h4 id="org6d38769"><span class="section-number-4">14.4.47.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-14-4-47">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org81e2823" class="outline-4">
<h4 id="org81e2823"><span class="section-number-4">14.4.48.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-14-4-48">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org9ca28b0" class="outline-4">
<h4 id="org9ca28b0"><span class="section-number-4">14.4.49.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-14-4-49">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orge0404eb" class="outline-4">
<h4 id="orge0404eb"><span class="section-number-4">14.4.50.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-14-4-50">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-orgb96100c" class="outline-4">
<h4 id="orgb96100c"><span class="section-number-4">14.4.51.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-14-4-51">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-orga5b507e" class="outline-4">
<h4 id="orga5b507e"><span class="section-number-4">14.4.52.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-14-4-52">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-orgda299c9" class="outline-4">
<h4 id="orgda299c9"><span class="section-number-4">14.4.53.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-14-4-53">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org2b0c283" class="outline-4">
<h4 id="org2b0c283"><span class="section-number-4">14.4.54.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-14-4-54">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org23c2be8" class="outline-4">
<h4 id="org23c2be8"><span class="section-number-4">14.4.55.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-14-4-55">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-org72fa5d7" class="outline-4">
<h4 id="org72fa5d7"><span class="section-number-4">14.4.56.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-14-4-56">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orgd222d39" class="outline-2">
<h2 id="orgd222d39"><span class="section-number-2">15.</span> Package <code>user</code></h2>
<div class="outline-text-2" id="text-15">
</div>
<div id="outline-container-orgaaa24cf" class="outline-3">
<h3 id="orgaaa24cf"><span class="section-number-3">15.1.</span> Constants</h3>
<div class="outline-text-3" id="text-15-1">
</div>
<div id="outline-container-orgcd613cf" class="outline-4">
<h4 id="orgcd613cf"><span class="section-number-4">15.1.1.</span> <code>false</code></h4>
<div class="outline-text-4" id="text-15-1-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 29, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">false</span> 0:1 <span style="color: #ffa07a;">"false is another name for 0:1"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-org44413a0" class="outline-4">
<h4 id="org44413a0"><span class="section-number-4">15.1.2.</span> <code>nil</code></h4>
<div class="outline-text-4" id="text-15-1-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 30, characters 0-55</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">nil</span> false <span style="color: #ffa07a;">"nil is another name for false"</span>)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgd008a3b" class="outline-4">
<h4 id="orgd008a3b"><span class="section-number-4">15.1.3.</span> <code>true</code></h4>
<div class="outline-text-4" id="text-15-1-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 28, characters 0-54</span>
(<span style="color: #00ffff;">defconstant</span> <span style="color: #eedd82;">true</span> 1:1  <span style="color: #ffa07a;">"true is another name for 1:1"</span>)

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org5a144df" class="outline-3">
<h3 id="org5a144df"><span class="section-number-3">15.2.</span> Functions</h3>
<div class="outline-text-3" id="text-15-2">
</div>
<div id="outline-container-org0ef8fdc" class="outline-4">
<h4 id="org0ef8fdc"><span class="section-number-4">15.2.1.</span> <code>carry</code></h4>
<div class="outline-text-4" id="text-15-2-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 11, characters 0-240</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">carry</span> (rd rn rm)
  <span style="color: #ffa07a;">"(carry RD RN RM) is true if the sum RD = RN + RM causes</span>
<span style="color: #ffa07a;">   the carry out of the msb bit."</span>
  (logor (logand (msb rn) (msb rm))
         (logand (msb rm) (lnot (msb rd)))
         (logand (msb rn) (lnot (msb rd)))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org0ae7f57" class="outline-4">
<h4 id="org0ae7f57"><span class="section-number-4">15.2.2.</span> <code>copy-byte</code></h4>
<div class="outline-text-4" id="text-15-2-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 9, characters 0-134</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">copy-byte</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   the address SRC to DST."</span>
  (memory-write dst (memory-read src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6e4cc75" class="outline-4">
<h4 id="org6e4cc75"><span class="section-number-4">15.2.3.</span> <code>lsb</code></h4>
<div class="outline-text-4" id="text-15-2-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 7, characters 0-77</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">lsb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the least significant bit of X."</span>
  (select 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org155699c" class="outline-4">
<h4 id="org155699c"><span class="section-number-4">15.2.4.</span> <code>msb</code></h4>
<div class="outline-text-4" id="text-15-2-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 3, characters 0-95</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">msb</span> (x)
  <span style="color: #ffa07a;">"(msb X) is the most significant bit of X."</span>
  (select (- (word-width x) 1) x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org059010b" class="outline-4">
<h4 id="org059010b"><span class="section-number-4">15.2.5.</span> <code>overflow</code></h4>
<div class="outline-text-4" id="text-15-2-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "bits.lisp", line 19, characters 0-236</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">overflow</span> (rd rn rm)
  <span style="color: #ffa07a;">"(overflow RD RN RM) is true if the sum RD = RN + RM results</span>
<span style="color: #ffa07a;">   in two's complement overflow."</span>
  (logor (logand (msb rn) (msb rm) (lnot (msb rd)))
         (logand (lnot (msb rn)) (lnot (msb rm)) (msb rd))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org2a674f5" class="outline-4">
<h4 id="org2a674f5"><span class="section-number-4">15.2.6.</span> <code>points-to-null</code></h4>
<div class="outline-text-4" id="text-15-2-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 5, characters 0-109</span>
(<span style="color: #00ffff;">defun</span> <span style="color: #87cefa;">points-to-null</span> (p)
  <span style="color: #ffa07a;">"(points-to-null P) true if P points to a zero byte"</span>
  (is-zero (memory-read p)))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge9aff58" class="outline-3">
<h3 id="orge9aff58"><span class="section-number-3">15.3.</span> Macros</h3>
<div class="outline-text-3" id="text-15-3">
</div>
<div id="outline-container-orgeebf2a6" class="outline-4">
<h4 id="orgeebf2a6"><span class="section-number-4">15.3.1.</span> <code>+1</code></h4>
<div class="outline-text-4" id="text-15-3-1">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 89, characters 0-65</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+1</span> (x)
  <span style="color: #ffa07a;">"(+1 x) returns the successor of X"</span>
  (+ x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org1421c47" class="outline-4">
<h4 id="org1421c47"><span class="section-number-4">15.3.2.</span> <code>+=</code></h4>
<div class="outline-text-4" id="text-15-3-2">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 81, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">+=</span> (x y)
  <span style="color: #ffa07a;">"(+= X Y) assigns a sum of X and Y to variable X"</span>
  (set x (+ x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org26ef7ee" class="outline-4">
<h4 id="org26ef7ee"><span class="section-number-4">15.3.3.</span> <code>-1</code></h4>
<div class="outline-text-4" id="text-15-3-3">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 85, characters 0-67</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">-1</span> (x)
  <span style="color: #ffa07a;">"(-1 X) returns the predecessor of X"</span>
  (- x 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbea5dbe" class="outline-4">
<h4 id="orgbea5dbe"><span class="section-number-4">15.3.4.</span> <code>and</code></h4>
<div class="outline-text-4" id="text-15-3-4">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 106, characters 0-194</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">and</span> (x)
  <span style="color: #ffa07a;">"(and X Y ...) evaluates expressions X,Y,... until the first</span>
<span style="color: #ffa07a;">  expression that returns false. The value of the whole form is the</span>
<span style="color: #ffa07a;">  value of the last evaluated expression."</span> x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org7a4c4e9" class="outline-4">
<h4 id="org7a4c4e9"><span class="section-number-4">15.3.5.</span> <code>array-get</code></h4>
<div class="outline-text-4" id="text-15-3-5">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 67, characters 0-153</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-get</span> (t p n)
  <span style="color: #ffa07a;">"(array-get T P N) gets the N-th element of the</span>
<span style="color: #ffa07a;">   array of elements of type T, pointed by P"</span>
  (read-word t (ptr+ t p n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7a88495" class="outline-4">
<h4 id="org7a88495"><span class="section-number-4">15.3.6.</span> <code>array-set</code></h4>
<div class="outline-text-4" id="text-15-3-6">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 72, characters 0-205</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">array-set</span> (t p n w)
  <span style="color: #ffa07a;">"(array-set T P N W) sets to W the N-th element of the array of</span>
<span style="color: #ffa07a;">   elements of type T, pointed by P. Returns a pointer to the next</span>
<span style="color: #ffa07a;">   element"</span>
  (write-word t (ptr+ p n) w))

</pre>
</div>
</div>
</div>

<div id="outline-container-org95ba54e" class="outline-4">
<h4 id="org95ba54e"><span class="section-number-4">15.3.7.</span> <code>assert</code></h4>
<div class="outline-text-4" id="text-15-3-7">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 136, characters 0-164</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">assert</span> (c)
  <span style="color: #ffa07a;">"(assert COND) terminates program if COND is false"</span>
  (<span style="color: #00ffff;">when</span> (not c)
    (msg <span style="color: #ffa07a;">"Assertion (assert $0) failed"</span> c)
    (<span style="color: #ffc0cb; font-weight: bold;">error</span> <span style="color: #ffa07a;">"Assert_failure"</span>)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9eea234" class="outline-4">
<h4 id="org9eea234"><span class="section-number-4">15.3.8.</span> <code>bitwidth</code></h4>
<div class="outline-text-4" id="text-15-3-8">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 170, characters 0-33</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">bitwidth</span> (type) (type))

</pre>
</div>
</div>
</div>

<div id="outline-container-org3bcaa51" class="outline-4">
<h4 id="org3bcaa51"><span class="section-number-4">15.3.9.</span> <code>case</code></h4>
<div class="outline-text-4" id="text-15-3-9">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 51, characters 0-783</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case</span> (k x xs)
  <span style="color: #ffa07a;">"(case K K1 X1 K2 X2 ... Kn Xn [DEF]) evaluates K then consequently</span>
<span style="color: #ffa07a;">   evaluates keys K1 ...Kn until a key Ki such that (= K Ki) is found.</span>
<span style="color: #ffa07a;">   If such key is found then the whole form evaluates to Xi.</span>
<span style="color: #ffa07a;">   If no matching key was found, then if the number of keys is equal to</span>
<span style="color: #ffa07a;">   the number of expressions, nil is returned, otherwise, i.e., if an</span>
<span style="color: #ffa07a;">   extra expression DEF is provided, then it becomes the value of the</span>
<span style="color: #ffa07a;">   whole form.</span>

<span style="color: #ffa07a;">   Examples:</span>

<span style="color: #ffa07a;">       (defun dispatch-with-default-case (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world</span>
<span style="color: #ffa07a;">           'unknown))</span>

<span style="color: #ffa07a;">       (defun dispatch-with-no-default (c)</span>
<span style="color: #ffa07a;">         (case c</span>
<span style="color: #ffa07a;">           1 'hello</span>
<span style="color: #ffa07a;">           2 'cruel</span>
<span style="color: #ffa07a;">           3 'world))"</span>
  (<span style="color: #00ffff;">let</span> ((key k))
    (case/dispatch key x xs)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org8b08970" class="outline-4">
<h4 id="org8b08970"><span class="section-number-4">15.3.10.</span> <code>case/dispatch</code></h4>
<div class="outline-text-4" id="text-15-3-10">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 164, characters 0-32</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">case/dispatch</span> (k x) x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org5bed3d7" class="outline-4">
<h4 id="org5bed3d7"><span class="section-number-4">15.3.11.</span> <code>cast</code></h4>
<div class="outline-text-4" id="text-15-3-11">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 169, characters 0-51</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">cast</span> (type x) (extract  (-1 (type)) 0 x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgba104b1" class="outline-4">
<h4 id="orgba104b1"><span class="section-number-4">15.3.12.</span> <code>compare</code></h4>
<div class="outline-text-4" id="text-15-3-12">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 131, characters 0-134</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">compare</span> (x y)
  <span style="color: #ffa07a;">"(compare X Y) returns 0 if X = Y, a negative value if X&lt;Y</span>
<span style="color: #ffa07a;">   and a positive value if X&gt;Y"</span>
  (sign (- x y)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6797bf2" class="outline-4">
<h4 id="org6797bf2"><span class="section-number-4">15.3.13.</span> <code>copy-byte-shift</code></h4>
<div class="outline-text-4" id="text-15-3-13">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 14, characters 0-177</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift DST SRC) copies byte from</span>
<span style="color: #ffa07a;">   SRC to DST and increments SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (incr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5d02b79" class="outline-4">
<h4 id="org5d02b79"><span class="section-number-4">15.3.14.</span> <code>copy-byte-shift-left</code></h4>
<div class="outline-text-4" id="text-15-3-14">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 20, characters 0-187</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-byte-shift-left</span> (dst src)
  <span style="color: #ffa07a;">"(copy-byte-shift-left DST SRC) copies</span>
<span style="color: #ffa07a;">   byte from DST to SRC and decrements SRC and DST."</span>
  (<span style="color: #00ffff;">prog</span> (copy-byte dst src)
        (decr dst src)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6ebdbd7" class="outline-4">
<h4 id="org6ebdbd7"><span class="section-number-4">15.3.15.</span> <code>copy-left</code></h4>
<div class="outline-text-4" id="text-15-3-15">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 39, characters 0-162</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-left</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-left DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (right to left)"</span>
  (make-copy copy-byte-shift-left dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7e088d6" class="outline-4">
<h4 id="org7e088d6"><span class="section-number-4">15.3.16.</span> <code>copy-right</code></h4>
<div class="outline-text-4" id="text-15-3-16">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 34, characters 0-159</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">copy-right</span> (dst src len)
  <span style="color: #ffa07a;">"(copy-right DST SRC LEN) copies LEN bytes</span>
<span style="color: #ffa07a;">    from SRC to DST (left to right)"</span>
  (make-copy copy-byte-shift dst src len))

</pre>
</div>
</div>
</div>

<div id="outline-container-org7b97d89" class="outline-4">
<h4 id="org7b97d89"><span class="section-number-4">15.3.17.</span> <code>decr</code></h4>
<div class="outline-text-4" id="text-15-3-17">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 100, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">decr</span> (x)
  <span style="color: #ffa07a;">"(decr X Y ...) decrements the value bound with the variables X, Y, ..."</span>
  (set x (-1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org53aa53d" class="outline-4">
<h4 id="org53aa53d"><span class="section-number-4">15.3.18.</span> <code>endian</code></h4>
<div class="outline-text-4" id="text-15-3-18">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 16, characters 0-154</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">endian</span> (f x y)
  <span style="color: #ffa07a;">"(endian F X Y) expands to (F Y X) if applied</span>
<span style="color: #ffa07a;">   in the little endian context"</span>
  (<span style="color: #00ffff;">declare</span> (context (endian little)))
  (f y x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgbee029f" class="outline-4">
<h4 id="orgbee029f"><span class="section-number-4">15.3.19.</span> <code>fold</code></h4>
<div class="outline-text-4" id="text-15-3-19">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 148, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">fold</span> (f a x)
  <span style="color: #ffa07a;">"(fold F A X Y ...) expands to (F (F A X) Y) ..."</span>
  (f a x))

</pre>
</div>
</div>
</div>

<div id="outline-container-orga3bb730" class="outline-4">
<h4 id="orga3bb730"><span class="section-number-4">15.3.20.</span> <code>incr</code></h4>
<div class="outline-text-4" id="text-15-3-20">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 93, characters 0-111</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">incr</span> (x)
  <span style="color: #ffa07a;">"(incr X Y ...) increments the value bound with the variables X, Y, ..."</span>
  (set x (+1 x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org4a413af" class="outline-4">
<h4 id="org4a413af"><span class="section-number-4">15.3.21.</span> <code>is-in</code></h4>
<div class="outline-text-4" id="text-15-3-21">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 142, characters 0-102</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">is-in</span> (x y)
  <span style="color: #ffa07a;">"(is-in X A B C ...) returns true if X is equal A or B or C or ..."</span>
  (= x y))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc66d265" class="outline-4">
<h4 id="orgc66d265"><span class="section-number-4">15.3.22.</span> <code>make-copy</code></h4>
<div class="outline-text-4" id="text-15-3-22">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "memory.lisp", line 26, characters 0-146</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">make-copy</span> (copy-byte dst src len)
  <span style="color: #ffa07a;">"&lt;internal&gt;"</span>
  (<span style="color: #00ffff;">let</span> ((ret dst))
    (<span style="color: #00ffff;">while</span> len
      (decr len)
      (copy-byte dst src))
    ret))

</pre>
</div>
</div>
</div>

<div id="outline-container-org29f9670" class="outline-4">
<h4 id="org29f9670"><span class="section-number-4">15.3.23.</span> <code>max</code></h4>
<div class="outline-text-4" id="text-15-3-23">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 158, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">max</span> (x)
  <span style="color: #ffa07a;">"(max X Y ...) returns the upper bound of the (X,Y,...) set"</span>
  x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org7f3c67d" class="outline-4">
<h4 id="org7f3c67d"><span class="section-number-4">15.3.24.</span> <code>min</code></h4>
<div class="outline-text-4" id="text-15-3-24">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 153, characters 0-89</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">min</span> (x)
  <span style="color: #ffa07a;">"(min X Y ...) returns the lower bound of the (X,Y,...) set"</span>
      x)

</pre>
</div>
</div>
</div>

<div id="outline-container-org6e776c3" class="outline-4">
<h4 id="org6e776c3"><span class="section-number-4">15.3.25.</span> <code>non-zero</code></h4>
<div class="outline-text-4" id="text-15-3-25">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 77, characters 0-85</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">non-zero</span> (x)
  <span style="color: #ffa07a;">"(non-zero X) is true if X is not zero"</span>
  (not (is-zero x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf70ff4c" class="outline-4">
<h4 id="orgf70ff4c"><span class="section-number-4">15.3.26.</span> <code>nth-byte-of-word</code></h4>
<div class="outline-text-4" id="text-15-3-26">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 28, characters 0-284</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">nth-byte-of-word</span> (t i x)
  <span style="color: #ffa07a;">"(nth-byte-of-word T N X) returns N-th byte</span>
<span style="color: #ffa07a;">   of the word X that has type T"</span>
  (<span style="color: #00ffff;">let</span> ((n (sizeof t))
        (j (endian - n i))
        (k (<span style="color: #00ffff;">if</span> (&lt; j n) (- j 1) (+ j n)))
        (hi (- (* 8 (+ k 1)) 1))
        (lo (* k 8)))
    (extract hi lo x)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org79104a2" class="outline-4">
<h4 id="org79104a2"><span class="section-number-4">15.3.27.</span> <code>or</code></h4>
<div class="outline-text-4" id="text-15-3-27">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 113, characters 0-346</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">or</span> (x xs)
  <span style="color: #ffa07a;">"(or &lt;expr&gt; ...) evaluates a sequence of expressions EXPR from left</span>
<span style="color: #ffa07a;">   to right until it meets the first expression that evaluates to the</span>
<span style="color: #ffa07a;">   truth value, that will become the value of the whole form. If no</span>
<span style="color: #ffa07a;">   expression returned the truth value, then the result of the whole</span>
<span style="color: #ffa07a;">   form is 0:1"</span>
  (<span style="color: #00ffff;">let</span> ((r x)) (<span style="color: #00ffff;">if</span> r r (or xs))))

</pre>
</div>
</div>
</div>

<div id="outline-container-org082b727" class="outline-4">
<h4 id="org082b727"><span class="section-number-4">15.3.28.</span> <code>points-to</code></h4>
<div class="outline-text-4" id="text-15-3-28">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 62, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">points-to</span> (t p v)
  <span style="color: #ffa07a;">"(points-to T P V) return true if t P points</span>
<span style="color: #ffa07a;">  to a value of type T that is equal to V."</span>
  (= (read-word t p) (cast t v)))

</pre>
</div>
</div>
</div>

<div id="outline-container-org5b60c3a" class="outline-4">
<h4 id="org5b60c3a"><span class="section-number-4">15.3.29.</span> <code>ptr+</code></h4>
<div class="outline-text-4" id="text-15-3-29">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 6, characters 0-124</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+</span> (t p n)
  <span style="color: #ffa07a;">"(ptr+ T P N) increments N times the</span>
<span style="color: #ffa07a;">    pointer P to a value of type T."</span>
  (+ p (* (sizeof t) n)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge2548d8" class="outline-4">
<h4 id="orge2548d8"><span class="section-number-4">15.3.30.</span> <code>ptr+1</code></h4>
<div class="outline-text-4" id="text-15-3-30">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 11, characters 0-112</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">ptr+1</span> (type p)
  <span style="color: #ffa07a;">"(ptr+1 T P) increments the pointer P to</span>
<span style="color: #ffa07a;">   a value of to type T."</span>
  (ptr+ type p 1))

</pre>
</div>
</div>
</div>

<div id="outline-container-org9b17546" class="outline-4">
<h4 id="org9b17546"><span class="section-number-4">15.3.31.</span> <code>read-word</code></h4>
<div class="outline-text-4" id="text-15-3-31">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 38, characters 0-252</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">read-word</span> (t a)
  <span style="color: #ffa07a;">"(read-word T A) reads a word of type T at address A"</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (x (memory-read p))
        (n (-1 (sizeof t))))
    (<span style="color: #00ffff;">while</span> n
      (incr p)
      (decr n)
      (set x (endian concat x (memory-read p))))
    x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org92a4fb5" class="outline-4">
<h4 id="org92a4fb5"><span class="section-number-4">15.3.32.</span> <code>set$</code></h4>
<div class="outline-text-4" id="text-15-3-32">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 122, characters 0-152</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">set$</span> (s x)
  <span style="color: #ffa07a;">"(set$ s x) set the value of the symbol s to x, returns x.</span>
<span style="color: #ffa07a;">   Like set but without implicit quotation."</span>
  (set-symbol-value s x))

</pre>
</div>
</div>
</div>

<div id="outline-container-org94da27d" class="outline-4">
<h4 id="org94da27d"><span class="section-number-4">15.3.33.</span> <code>sign</code></h4>
<div class="outline-text-4" id="text-15-3-33">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 127, characters 0-106</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sign</span> (x)
  <span style="color: #ffa07a;">"returns 1 if X &gt; 0, 0 if X = 0, and -1 if X &lt; 0"</span>
  (<span style="color: #00ffff;">if</span> (&lt; x 0) -1 (<span style="color: #00ffff;">if</span> (&gt; x 0) 1 0)))

</pre>
</div>
</div>
</div>

<div id="outline-container-orgedbfb21" class="outline-4">
<h4 id="orgedbfb21"><span class="section-number-4">15.3.34.</span> <code>sizeof</code></h4>
<div class="outline-text-4" id="text-15-3-34">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 171, characters 0-46</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">sizeof</span> (type) (/ (bitwidth type) 8))

</pre>
</div>
</div>
</div>

<div id="outline-container-org79a3499" class="outline-4">
<h4 id="org79a3499"><span class="section-number-4">15.3.35.</span> <code>unless</code></h4>
<div class="outline-text-4" id="text-15-3-35">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 38, characters 0-267</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">unless</span> (cnd body)
  <span style="color: #ffa07a;">"(unless CND BODY) if CND evaluates to false, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to true, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd () body))

</pre>
</div>
</div>
</div>

<div id="outline-container-orge9a0ab4" class="outline-4">
<h4 id="orge9a0ab4"><span class="section-number-4">15.3.36.</span> <code>until</code></h4>
<div class="outline-text-4" id="text-15-3-36">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 44, characters 0-349</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">until</span> (c b)
  <span style="color: #ffa07a;">"(until COND BODY) if COND evaluates to true, then the whole expression</span>
<span style="color: #ffa07a;">   evaluates to nil and BODY is not evaluated. Otherwise, if COND evaluates</span>
<span style="color: #ffa07a;">   to false, then BODY is evaluated until COND evaluates to true and the value</span>
<span style="color: #ffa07a;">   of the last evaluation of BODY becomes the value of the whole expression."</span>
  (<span style="color: #00ffff;">while</span> (not c) b))

</pre>
</div>
</div>
</div>

<div id="outline-container-org03154a3" class="outline-4">
<h4 id="org03154a3"><span class="section-number-4">15.3.37.</span> <code>when</code></h4>
<div class="outline-text-4" id="text-15-3-37">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "init.lisp", line 32, characters 0-270</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">when</span> (cnd body)
  <span style="color: #ffa07a;">"(when CND BODY) if CND evaluates to true, then BODY is evaluated and</span>
<span style="color: #ffa07a;">   the value of the last expression in BODY becomes the value of the</span>
<span style="color: #ffa07a;">   whole expression. Otherwise, if CND evaluates to false, nil is returned."</span>
  (<span style="color: #00ffff;">if</span> cnd (<span style="color: #00ffff;">prog</span> body) ()))

</pre>
</div>
</div>
</div>

<div id="outline-container-org6155b80" class="outline-4">
<h4 id="org6155b80"><span class="section-number-4">15.3.38.</span> <code>write-word</code></h4>
<div class="outline-text-4" id="text-15-3-38">
<div class="org-src-container">
<pre class="src src-lisp"><span style="color: #ff7f24; font-style: italic;">;; </span><span style="color: #ff7f24; font-style: italic;">File "pointers.lisp", line 49, characters 0-329</span>
(<span style="color: #00ffff;">defmacro</span> <span style="color: #87cefa;">write-word</span> (t a x)
  <span style="color: #ffa07a;">"(write-word T A X) writes the word X of type T to address A</span>
<span style="color: #ffa07a;">  returns an address that points to the first byte that follows</span>
<span style="color: #ffa07a;">  the just written word.</span>
<span style="color: #ffa07a;">  "</span>
  (<span style="color: #00ffff;">let</span> ((p a)
        (n (sizeof t))
        (i 0))
    (<span style="color: #00ffff;">while</span> (&lt; i n)
      (memory-write p (nth-byte-of-word t i x))
      (incr p i))
    p))

</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2e9452a" class="outline-3">
<h3 id="org2e9452a"><span class="section-number-3">15.4.</span> Primitives</h3>
<div class="outline-text-3" id="text-15-4">
</div>
<div id="outline-container-org5ce6c31" class="outline-4">
<h4 id="org5ce6c31"><span class="section-number-4">15.4.1.</span> <code>*</code></h4>
<div class="outline-text-4" id="text-15-4-1">
<p>
(* X Y &#x2026; Z) returns X * Y * &#x2026; * Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned.
</p>
</div>
</div>
<div id="outline-container-orge4cb572" class="outline-4">
<h4 id="orge4cb572"><span class="section-number-4">15.4.2.</span> <code>+</code></h4>
<div class="outline-text-4" id="text-15-4-2">
<p>
(+ X Y &#x2026; Z) returns X + Y + &#x2026; + Z, performing any necessary type conversions in the process. If no numbers are supplied, 0 is returned.
</p>
</div>
</div>
<div id="outline-container-orgc21e878" class="outline-4">
<h4 id="orgc21e878"><span class="section-number-4">15.4.3.</span> <code>-</code></h4>
<div class="outline-text-4" id="text-15-4-3">
<p>
(- X Y &#x2026; Z) returns X - Y - &#x2026; - Z, performing any necessary type conversions in the process. If no numbers are supplied returns 0. If one number is supplied returns its negation.
</p>
</div>
</div>
<div id="outline-container-org838b0af" class="outline-4">
<h4 id="org838b0af"><span class="section-number-4">15.4.4.</span> <code>/</code></h4>
<div class="outline-text-4" id="text-15-4-4">
<p>
(/ X Y &#x2026; Z) returns X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its reciprocal.
</p>
</div>
</div>
<div id="outline-container-orgd605cf7" class="outline-4">
<h4 id="orgd605cf7"><span class="section-number-4">15.4.5.</span> <code>/=</code></h4>
<div class="outline-text-4" id="text-15-4-5">
<p>
(/= X Y &#x2026; Z) returns one if all numbers are distinct.
</p>
</div>
</div>
<div id="outline-container-org35d80e3" class="outline-4">
<h4 id="org35d80e3"><span class="section-number-4">15.4.6.</span> <code>&lt;</code></h4>
<div class="outline-text-4" id="text-15-4-6">
<p>
(&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing order.
</p>
</div>
</div>
<div id="outline-container-orge571ede" class="outline-4">
<h4 id="orge571ede"><span class="section-number-4">15.4.7.</span> <code>&lt;=</code></h4>
<div class="outline-text-4" id="text-15-4-7">
<p>
(&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing order.
</p>
</div>
</div>
<div id="outline-container-orgc54e908" class="outline-4">
<h4 id="orgc54e908"><span class="section-number-4">15.4.8.</span> <code>=</code></h4>
<div class="outline-text-4" id="text-15-4-8">
<p>
(= X Y &#x2026; Z) returns one if all numbers are equal in value.
</p>
</div>
</div>
<div id="outline-container-orge62fb83" class="outline-4">
<h4 id="orge62fb83"><span class="section-number-4">15.4.9.</span> <code>&gt;</code></h4>
<div class="outline-text-4" id="text-15-4-9">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing order.
</p>
</div>
</div>
<div id="outline-container-org10405e6" class="outline-4">
<h4 id="org10405e6"><span class="section-number-4">15.4.10.</span> <code>&gt;=</code></h4>
<div class="outline-text-4" id="text-15-4-10">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing order.
</p>
</div>
</div>
<div id="outline-container-orgd56a2d3" class="outline-4">
<h4 id="orgd56a2d3"><span class="section-number-4">15.4.11.</span> <code>alias-base-register</code></h4>
<div class="outline-text-4" id="text-15-4-11">
<p>
(alias-base-register x) if X has a symbolic value that is an
aliased register returns the base register
</p>
</div>
</div>
<div id="outline-container-orgebfe1c8" class="outline-4">
<h4 id="orgebfe1c8"><span class="section-number-4">15.4.12.</span> <code>arshift</code></h4>
<div class="outline-text-4" id="text-15-4-12">
<p>
(arshift X Y &#x2026; Z) returns X ~&gt;&gt; Y ~&gt;&gt; &#x2026; ~&gt;&gt; Z, performing any necessary type conversions in the process. Where `X ~&gt;&gt; Y` is arithmetic shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgd17d574" class="outline-4">
<h4 id="orgd17d574"><span class="section-number-4">15.4.13.</span> <code>cast-high</code></h4>
<div class="outline-text-4" id="text-15-4-13">
<p>
(cast-high S X) extracts high S bits from X.
</p>
</div>
</div>
<div id="outline-container-orgad856a3" class="outline-4">
<h4 id="orgad856a3"><span class="section-number-4">15.4.14.</span> <code>cast-low</code></h4>
<div class="outline-text-4" id="text-15-4-14">
<p>
(cast-low S X) extracts low S bits from X.
</p>
</div>
</div>
<div id="outline-container-orgddfc965" class="outline-4">
<h4 id="orgddfc965"><span class="section-number-4">15.4.15.</span> <code>cast-signed</code></h4>
<div class="outline-text-4" id="text-15-4-15">
<p>
(cast-signed S X) performs signed extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org2d4e463" class="outline-4">
<h4 id="org2d4e463"><span class="section-number-4">15.4.16.</span> <code>cast-unsigned</code></h4>
<div class="outline-text-4" id="text-15-4-16">
<p>
(cast-unsigned S X) performs unsigned extension of X to the size of S bits
</p>
</div>
</div>
<div id="outline-container-org6d086f6" class="outline-4">
<h4 id="org6d086f6"><span class="section-number-4">15.4.17.</span> <code>concat</code></h4>
<div class="outline-text-4" id="text-15-4-17">
<p>
(concat X Y Z &#x2026;) concatenates words X, Y, Z, &#x2026; into one big word
</p>
</div>
</div>
<div id="outline-container-org95e99e1" class="outline-4">
<h4 id="org95e99e1"><span class="section-number-4">15.4.18.</span> <code>exec-addr</code></h4>
<div class="outline-text-4" id="text-15-4-18">
<p>
(exec-addr ADDR) transfers control flow to ADDR.
</p>
</div>
</div>
<div id="outline-container-org6ce64f1" class="outline-4">
<h4 id="org6ce64f1"><span class="section-number-4">15.4.19.</span> <code>extract</code></h4>
<div class="outline-text-4" id="text-15-4-19">
<p>
(extract HI LO X) extracts bits from HI to LO (both ends
including) of X, the returned value has HI-LO+1 bits.
Both HI and LO must be static.
</p>
</div>
</div>
<div id="outline-container-orge49ae1b" class="outline-4">
<h4 id="orge49ae1b"><span class="section-number-4">15.4.20.</span> <code>get-current-program-counter</code></h4>
<div class="outline-text-4" id="text-15-4-20">
<p>
(get-current-program-counter) is an alias to (get-program-counter)
</p>
</div>
</div>
<div id="outline-container-org8ea9c0f" class="outline-4">
<h4 id="org8ea9c0f"><span class="section-number-4">15.4.21.</span> <code>get-program-counter</code></h4>
<div class="outline-text-4" id="text-15-4-21">
<p>
(get-program-counter) returns the address of the current instruction
</p>
</div>
</div>
<div id="outline-container-org52920c6" class="outline-4">
<h4 id="org52920c6"><span class="section-number-4">15.4.22.</span> <code>goto-subinstruction</code></h4>
<div class="outline-text-4" id="text-15-4-22">
<p>
(goto-subinstruction N) transfers control flow to a
subinstruction that is N instructions away from the current (N
could be negative).
</p>
</div>
</div>
<div id="outline-container-org7a1a93a" class="outline-4">
<h4 id="org7a1a93a"><span class="section-number-4">15.4.23.</span> <code>is-negative</code></h4>
<div class="outline-text-4" id="text-15-4-23">
<p>
(is-negative X Y &#x2026; Z) returns one if all numbers are negative.
</p>
</div>
</div>
<div id="outline-container-orgb4a6624" class="outline-4">
<h4 id="orgb4a6624"><span class="section-number-4">15.4.24.</span> <code>is-positive</code></h4>
<div class="outline-text-4" id="text-15-4-24">
<p>
(is-positive X Y &#x2026; Z) returns one if all numbers are positive.
</p>
</div>
</div>
<div id="outline-container-org630cf7d" class="outline-4">
<h4 id="org630cf7d"><span class="section-number-4">15.4.25.</span> <code>is-symbol</code></h4>
<div class="outline-text-4" id="text-15-4-25">
<p>
(is-symbol X) is true if X has a symbolic value.
</p>
</div>
</div>
<div id="outline-container-org197f4c8" class="outline-4">
<h4 id="org197f4c8"><span class="section-number-4">15.4.26.</span> <code>is-zero</code></h4>
<div class="outline-text-4" id="text-15-4-26">
<p>
(is-zero X Y &#x2026; Z) returns one if all numbers are zero.
</p>
</div>
</div>
<div id="outline-container-org8915ccb" class="outline-4">
<h4 id="org8915ccb"><span class="section-number-4">15.4.27.</span> <code>lnot</code></h4>
<div class="outline-text-4" id="text-15-4-27">
<p>
(lnot X) returns a bitwise logical negation of X.
</p>
</div>
</div>
<div id="outline-container-org55a3a24" class="outline-4">
<h4 id="org55a3a24"><span class="section-number-4">15.4.28.</span> <code>load-bits</code></h4>
<div class="outline-text-4" id="text-15-4-28">
<p>
(load-word SIZE PTR) loads a SIZE-bit long word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgcecc93e" class="outline-4">
<h4 id="orgcecc93e"><span class="section-number-4">15.4.29.</span> <code>load-byte</code></h4>
<div class="outline-text-4" id="text-15-4-29">
<p>
(load-byte PTR) loads one byte from the address PTR
</p>
</div>
</div>
<div id="outline-container-org4aa4e64" class="outline-4">
<h4 id="org4aa4e64"><span class="section-number-4">15.4.30.</span> <code>load-dword</code></h4>
<div class="outline-text-4" id="text-15-4-30">
<p>
(load-hword PTR) loads double-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgc71142c" class="outline-4">
<h4 id="orgc71142c"><span class="section-number-4">15.4.31.</span> <code>load-hword</code></h4>
<div class="outline-text-4" id="text-15-4-31">
<p>
(load-hword PTR) loads half-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-org03f9579" class="outline-4">
<h4 id="org03f9579"><span class="section-number-4">15.4.32.</span> <code>load-qword</code></h4>
<div class="outline-text-4" id="text-15-4-32">
<p>
(load-hword PTR) loads quad-word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orga72c7dc" class="outline-4">
<h4 id="orga72c7dc"><span class="section-number-4">15.4.33.</span> <code>load-word</code></h4>
<div class="outline-text-4" id="text-15-4-33">
<p>
(load-word PTR) loads one word from the address PTR
</p>
</div>
</div>
<div id="outline-container-orgdf150b8" class="outline-4">
<h4 id="orgdf150b8"><span class="section-number-4">15.4.34.</span> <code>logand</code></h4>
<div class="outline-text-4" id="text-15-4-34">
<p>
(logand X Y &#x2026; Z) returns X land Y land &#x2026; land Z, performing any necessary type conversions in the process. Where `X land Y` is bitwise (logical) / (AND) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgaa115de" class="outline-4">
<h4 id="orgaa115de"><span class="section-number-4">15.4.35.</span> <code>logor</code></h4>
<div class="outline-text-4" id="text-15-4-35">
<p>
(logor X Y &#x2026; Z) returns X lor Y lor &#x2026; lor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) \/ (OR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgba24cc8" class="outline-4">
<h4 id="orgba24cc8"><span class="section-number-4">15.4.36.</span> <code>logxor</code></h4>
<div class="outline-text-4" id="text-15-4-36">
<p>
(loxgor X Y &#x2026; Z) returns X lxor Y lxor &#x2026; lxor Z, performing any necessary type conversions in the process. Where `X lor Y` is bitwise (logical) exclusive \/ (XOR) of X and Y. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgf34e4a8" class="outline-4">
<h4 id="orgf34e4a8"><span class="section-number-4">15.4.37.</span> <code>lshift</code></h4>
<div class="outline-text-4" id="text-15-4-37">
<p>
(lshift X Y &#x2026; Z) returns X &lt;&lt; Y &lt;&lt; &#x2026; &lt;&lt; Z, performing any necessary type conversions in the process. Where `X &lt;&lt; Y` is logical shift left of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-org69b609f" class="outline-4">
<h4 id="org69b609f"><span class="section-number-4">15.4.38.</span> <code>memory-read</code></h4>
<div class="outline-text-4" id="text-15-4-38">
<p>
(memory-read PTR) loads one byte from the address PTR (synonymous to load-byte)
</p>
</div>
</div>
<div id="outline-container-orgb04ff4c" class="outline-4">
<h4 id="orgb04ff4c"><span class="section-number-4">15.4.39.</span> <code>memory-write</code></h4>
<div class="outline-text-4" id="text-15-4-39">
<p>
(memory-write PTR X) stores byte X at PTR.
</p>
</div>
</div>
<div id="outline-container-org2d52107" class="outline-4">
<h4 id="org2d52107"><span class="section-number-4">15.4.40.</span> <code>mod</code></h4>
<div class="outline-text-4" id="text-15-4-40">
<p>
(/ X Y &#x2026; Z) returns mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org401facc" class="outline-4">
<h4 id="org401facc"><span class="section-number-4">15.4.41.</span> <code>neg</code></h4>
<div class="outline-text-4" id="text-15-4-41">
<p>
(neg X) returns the negation (2-complement) of X. Same as (- X).
</p>
</div>
</div>
<div id="outline-container-orgbd332d4" class="outline-4">
<h4 id="orgbd332d4"><span class="section-number-4">15.4.42.</span> <code>not</code></h4>
<div class="outline-text-4" id="text-15-4-42">
<p>
(not X Y &#x2026; Z) returns one if all numbers are not true. Equivalent to (is-zero X Y Z)
</p>
</div>
</div>
<div id="outline-container-org644dad4" class="outline-4">
<h4 id="org644dad4"><span class="section-number-4">15.4.43.</span> <code>nth</code></h4>
<div class="outline-text-4" id="text-15-4-43">
<p>
(nth N X) returns the Nth bit of X. N must be static. The function is equivalent to (select N X)
</p>
</div>
</div>
<div id="outline-container-orga106241" class="outline-4">
<h4 id="orga106241"><span class="section-number-4">15.4.44.</span> <code>rshift</code></h4>
<div class="outline-text-4" id="text-15-4-44">
<p>
(rshift X Y &#x2026; Z) returns X &gt;&gt; Y &gt;&gt; &#x2026; &gt;&gt; Z, performing any necessary type conversions in the process. Where `X &gt;&gt; Y` is logical shift right of X by Y bits. If no numbers are supplied, 1 is returned. If one number is provided returns that number
</p>
</div>
</div>
<div id="outline-container-orgbef102c" class="outline-4">
<h4 id="orgbef102c"><span class="section-number-4">15.4.45.</span> <code>s/</code></h4>
<div class="outline-text-4" id="text-15-4-45">
<p>
(s/ X Y &#x2026; Z) returns signed X / Y / &#x2026; / Z, performing any necessary type conversions in the process. If no numbers are supplied, 1 is returned. If one number is provided returns its signed reciprocal.
</p>
</div>
</div>
<div id="outline-container-org562231d" class="outline-4">
<h4 id="org562231d"><span class="section-number-4">15.4.46.</span> <code>s&lt;</code></h4>
<div class="outline-text-4" id="text-15-4-46">
<p>
(s&lt; X Y &#x2026; Z) returns one if all numbers are in monotonically increasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgc90ea26" class="outline-4">
<h4 id="orgc90ea26"><span class="section-number-4">15.4.47.</span> <code>s&lt;=</code></h4>
<div class="outline-text-4" id="text-15-4-47">
<p>
(s&lt;= X Y &#x2026; Z) returns one if all numbers are in monotonically nondecreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org053865e" class="outline-4">
<h4 id="org053865e"><span class="section-number-4">15.4.48.</span> <code>s&gt;</code></h4>
<div class="outline-text-4" id="text-15-4-48">
<p>
(s&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically decreasing signed order.
</p>
</div>
</div>
<div id="outline-container-orgdbcd3dc" class="outline-4">
<h4 id="orgdbcd3dc"><span class="section-number-4">15.4.49.</span> <code>s&gt;=</code></h4>
<div class="outline-text-4" id="text-15-4-49">
<p>
(&gt; X Y &#x2026; Z) returns one if all numbers are in monotonically nonincreasing signed order.
</p>
</div>
</div>
<div id="outline-container-org4fb3f21" class="outline-4">
<h4 id="org4fb3f21"><span class="section-number-4">15.4.50.</span> <code>select</code></h4>
<div class="outline-text-4" id="text-15-4-50">
<p>
(select B1 B2 &#x2026; BN X) returns a word that is a concatenation
of bits B1, B2, &#x2026; BN of X. All of the B1, &#x2026;, BN must be
static.
</p>
</div>
</div>
<div id="outline-container-orgeb89d60" class="outline-4">
<h4 id="orgeb89d60"><span class="section-number-4">15.4.51.</span> <code>set-symbol-value</code></h4>
<div class="outline-text-4" id="text-15-4-51">
<p>
(set-symbol-value S X) sets the value of the symbol S to X.
Returns X
</p>
</div>
</div>
<div id="outline-container-org01b4ef4" class="outline-4">
<h4 id="org01b4ef4"><span class="section-number-4">15.4.52.</span> <code>signed-mod</code></h4>
<div class="outline-text-4" id="text-15-4-52">
<p>
(/ X Y &#x2026; Z) returns signed mod(X,Y) Y mod &#x2026; mod Z, performing any necessary type conversions in the process. Where `X mod Y` is the remainder of [X / Y]. If no numbers are supplied, 1 is returned. If one number is provided returns that number.
</p>
</div>
</div>
<div id="outline-container-org4c6bb3d" class="outline-4">
<h4 id="org4c6bb3d"><span class="section-number-4">15.4.53.</span> <code>store-byte</code></h4>
<div class="outline-text-4" id="text-15-4-53">
<p>
(store-byte POS VAL) stores byte VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-orgaf3a9d8" class="outline-4">
<h4 id="orgaf3a9d8"><span class="section-number-4">15.4.54.</span> <code>store-word</code></h4>
<div class="outline-text-4" id="text-15-4-54">
<p>
(store-word POS VAL) stores VAL at the memory position POS
</p>
</div>
</div>
<div id="outline-container-org2c5d166" class="outline-4">
<h4 id="org2c5d166"><span class="section-number-4">15.4.55.</span> <code>symbol</code></h4>
<div class="outline-text-4" id="text-15-4-55">
<p>
(symbol X) returns a symbol representation of X.
</p>
</div>
</div>
<div id="outline-container-org5cfcc6b" class="outline-4">
<h4 id="org5cfcc6b"><span class="section-number-4">15.4.56.</span> <code>word-width</code></h4>
<div class="outline-text-4" id="text-15-4-56">
<p>
(word-width X Y &#x2026; Z) returns the maximum width of its arguments. If no arguments provided returns the size of the machine word.
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Ivan Gotovchits</p>
<p class="date">Created: 2022-01-06 Thu 17:22</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
