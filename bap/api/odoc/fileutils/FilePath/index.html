<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>FilePath (fileutils.FilePath)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">fileutils</a> &#x00BB; FilePath</nav><h1>Module <code>FilePath</code></h1><p>Operations on abstract filenames.</p><p>This module allow to manipulate string or abstract representation of a filename.</p><p>Abstract representation of a filename allow to decode it only once, and should speed up further operation on it (comparison in particular). If you intend to do a lot of processing on filename, you should consider using its abstract representation.</p><p>This module manipulate abstract path that are not bound to a real filesystem. In particular, it makes the assumption that there is no symbolic link that should modify the meaning of a path. If you intend to use this module against a real set of filename, the best solution is to apply to every filename to solve symbolic link through <a href="../FileUtil/index.html#val-readlink"><code>FileUtil.readlink</code></a>.</p><dl><dt>author</dt><dd>Sylvain Le Gall</dd></dl><nav class="toc"><ul><li><a href="#exceptions-and-types">Exceptions and types</a></li><li><a href="#ordering">Ordering</a></li><li><a href="#standard-operations">Standard operations</a></li><li><a href="#extension">Extension</a></li><li><a href="#path-like-operation">PATH-like operation</a></li><li><a href="#filename-specifications">Filename specifications</a></li></ul></nav></header><dl><dt class="spec type" id="type-filename"><a href="#type-filename" class="anchor"></a><code><span class="keyword">type</span> filename</code><code> = string</code></dt><dd><p>Filename type.</p></dd></dl><dl><dt class="spec type" id="type-extension"><a href="#type-extension" class="anchor"></a><code><span class="keyword">type</span> extension</code><code> = string</code></dt><dd><p>Extension type.</p></dd></dl><section><header><h3 id="exceptions-and-types"><a href="#exceptions-and-types" class="anchor"></a>Exceptions and types</h3></header><dl><dt class="spec exception" id="exception-BaseFilenameRelative"><a href="#exception-BaseFilenameRelative" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">BaseFilenameRelative</span> <span class="keyword">of</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>Cannot pass a base filename which is relative.</p></dd></dl><dl><dt class="spec exception" id="exception-UnrecognizedOS"><a href="#exception-UnrecognizedOS" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">UnrecognizedOS</span> <span class="keyword">of</span> string</code></dt><dd><p>We do not have recognized any OS, please contact upstream.</p></dd></dl><dl><dt class="spec exception" id="exception-EmptyFilename"><a href="#exception-EmptyFilename" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">EmptyFilename</span></code></dt><dd><p>The filename use was empty.</p></dd></dl><dl><dt class="spec exception" id="exception-NoExtension"><a href="#exception-NoExtension" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">NoExtension</span> <span class="keyword">of</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>The last component of the filename does not support extension (Root, ParentDir...)</p></dd></dl><dl><dt class="spec exception" id="exception-InvalidFilename"><a href="#exception-InvalidFilename" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">InvalidFilename</span> <span class="keyword">of</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>The filename used is invalid.</p></dd></dl></section><section><header><h3 id="ordering"><a href="#ordering" class="anchor"></a>Ordering</h3></header><dl><dt class="spec value" id="val-is_subdir"><a href="#val-is_subdir" class="anchor"></a><code><span class="keyword">val</span> is_subdir : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_subdir fl1 fl2</code> Is <code>fl2</code> a sub directory of <code>fl1</code></p></dd></dl><dl><dt class="spec value" id="val-is_updir"><a href="#val-is_updir" class="anchor"></a><code><span class="keyword">val</span> is_updir : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_updir fl1 fl2</code> Is <code>fl1</code> a sub directory of <code>fl2</code></p></dd></dl><dl><dt class="spec value" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span class="keyword">val</span> compare : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>compare fl1 fl2</code> Give an order between the two filename. The classification is done by sub directory relation, <code>fl1</code> &lt; <code>fl2</code> iff <code>fl1</code> is a subdirectory of <code>fl2</code>, and lexicographical order of each part of the reduce filename when <code>fl1</code> and <code>fl2</code> has no hierarchical relation</p></dd></dl></section><section><header><h3 id="standard-operations"><a href="#standard-operations" class="anchor"></a>Standard operations</h3></header><dl><dt class="spec value" id="val-current_dir"><a href="#val-current_dir" class="anchor"></a><code><span class="keyword">val</span> current_dir : <a href="index.html#type-filename">filename</a></code></dt><dd><p>Current dir.</p></dd></dl><dl><dt class="spec value" id="val-parent_dir"><a href="#val-parent_dir" class="anchor"></a><code><span class="keyword">val</span> parent_dir : <a href="index.html#type-filename">filename</a></code></dt><dd><p>Upper dir.</p></dd></dl><dl><dt class="spec value" id="val-make_filename"><a href="#val-make_filename" class="anchor"></a><code><span class="keyword">val</span> make_filename : string list <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>Make a filename from a set of strings.</p></dd></dl><dl><dt class="spec value" id="val-basename"><a href="#val-basename" class="anchor"></a><code><span class="keyword">val</span> basename : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>Extract only the file name of a filename.</p></dd></dl><dl><dt class="spec value" id="val-dirname"><a href="#val-dirname" class="anchor"></a><code><span class="keyword">val</span> dirname : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>Extract the directory name of a filename.</p></dd></dl><dl><dt class="spec value" id="val-concat"><a href="#val-concat" class="anchor"></a><code><span class="keyword">val</span> concat : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>Append a filename to a filename.</p></dd></dl><dl><dt class="spec value" id="val-reduce"><a href="#val-reduce" class="anchor"></a><code><span class="keyword">val</span> reduce : ?&#8288;no_symlink:bool <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>Return the shortest filename which is equal to the filename given. It remove the &quot;.&quot; in Unix filename, for example. If <code>no_symlink</code> flag is set, consider that the path doesn't contain symlink and in this case &quot;..&quot; for Unix filename are also reduced.</p></dd></dl><dl><dt class="spec value" id="val-make_absolute"><a href="#val-make_absolute" class="anchor"></a><code><span class="keyword">val</span> make_absolute : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>Create an absolute filename from a filename relative and an absolute base filename.</p></dd></dl><dl><dt class="spec value" id="val-make_relative"><a href="#val-make_relative" class="anchor"></a><code><span class="keyword">val</span> make_relative : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>Create a filename which is relative to the base filename.</p></dd></dl><dl><dt class="spec value" id="val-reparent"><a href="#val-reparent" class="anchor"></a><code><span class="keyword">val</span> reparent : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p><code>reparent fln_src fln_dst fln</code> Return the same filename as <code>fln</code> but the root is no more <code>fln_src</code> but <code>fln_dst</code>. It replaces the <code>fln_src</code> prefix by <code>fln_dst</code>.</p></dd></dl><dl><dt class="spec value" id="val-identity"><a href="#val-identity" class="anchor"></a><code><span class="keyword">val</span> identity : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>Identity for testing the stability of implode/explode.</p></dd></dl><dl><dt class="spec value" id="val-is_valid"><a href="#val-is_valid" class="anchor"></a><code><span class="keyword">val</span> is_valid : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Test if the filename is a valid one.</p></dd></dl><dl><dt class="spec value" id="val-is_relative"><a href="#val-is_relative" class="anchor"></a><code><span class="keyword">val</span> is_relative : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Check if the filename is relative to a dir or not.</p></dd></dl><dl><dt class="spec value" id="val-is_current"><a href="#val-is_current" class="anchor"></a><code><span class="keyword">val</span> is_current : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Check if the filename is the current directory.</p></dd></dl><dl><dt class="spec value" id="val-is_parent"><a href="#val-is_parent" class="anchor"></a><code><span class="keyword">val</span> is_parent : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Check if the filename is the parent directory.</p></dd></dl></section><section><header><h3 id="extension"><a href="#extension" class="anchor"></a>Extension</h3></header><aside><p>Extension is define as the suffix of a filename, just after the last &quot;.&quot;.</p></aside><dl><dt class="spec value" id="val-chop_extension"><a href="#val-chop_extension" class="anchor"></a><code><span class="keyword">val</span> chop_extension : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>Remove extension and the trailing &quot;.&quot;.</p></dd></dl><dl><dt class="spec value" id="val-get_extension"><a href="#val-get_extension" class="anchor"></a><code><span class="keyword">val</span> get_extension : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-extension">extension</a></code></dt><dd><p>Extract the extension.</p></dd></dl><dl><dt class="spec value" id="val-check_extension"><a href="#val-check_extension" class="anchor"></a><code><span class="keyword">val</span> check_extension : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-extension">extension</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Check the extension.</p></dd></dl><dl><dt class="spec value" id="val-add_extension"><a href="#val-add_extension" class="anchor"></a><code><span class="keyword">val</span> add_extension : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-extension">extension</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>Add an extension with a &quot;.&quot; before.</p></dd></dl><dl><dt class="spec value" id="val-replace_extension"><a href="#val-replace_extension" class="anchor"></a><code><span class="keyword">val</span> replace_extension : <a href="index.html#type-filename">filename</a> <span>&#45;&gt;</span> <a href="index.html#type-extension">extension</a> <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a></code></dt><dd><p>Replace extension.</p></dd></dl></section><section><header><h3 id="path-like-operation"><a href="#path-like-operation" class="anchor"></a>PATH-like operation</h3></header><aside><p>PATH-like refers the environment variable PATH. This variable holds a list of filename. The functions <code>string_of_path</code> and <code>path_of_string</code> allow to convert this kind of list by using the good separator between filename.</p></aside><dl><dt class="spec value" id="val-string_of_path"><a href="#val-string_of_path" class="anchor"></a><code><span class="keyword">val</span> string_of_path : <a href="index.html#type-filename">filename</a> list <span>&#45;&gt;</span> string</code></dt><dd><p>Create a PATH-like string.</p></dd></dl><dl><dt class="spec value" id="val-path_of_string"><a href="#val-path_of_string" class="anchor"></a><code><span class="keyword">val</span> path_of_string : string <span>&#45;&gt;</span> <a href="index.html#type-filename">filename</a> list</code></dt><dd><p>Extract filenames from a PATH-like string.</p></dd></dl></section><section><header><h3 id="filename-specifications"><a href="#filename-specifications" class="anchor"></a>Filename specifications</h3></header><aside><p>Definition of operations for path manipulation.</p></aside><dl><dt class="spec module-type" id="module-type-PATH_SPECIFICATION"><a href="#module-type-PATH_SPECIFICATION" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-PATH_SPECIFICATION/index.html">PATH_SPECIFICATION</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Generic operations.</p></dd></dl><dl><dt class="spec module-type" id="module-type-PATH_STRING_SPECIFICATION"><a href="#module-type-PATH_STRING_SPECIFICATION" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-PATH_STRING_SPECIFICATION/index.html">PATH_STRING_SPECIFICATION</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Generic operations, with type filename and extension as strings.</p></dd></dl><aside><p>Operations on filenames for other OS. The <a href="DefaultPath/index.html"><code>DefaultPath</code></a> always match the current OS.</p></aside><dl><dt class="spec module" id="module-DefaultPath"><a href="#module-DefaultPath" class="anchor"></a><code><span class="keyword">module</span> <a href="DefaultPath/index.html">DefaultPath</a> : <a href="index.html#module-type-PATH_STRING_SPECIFICATION">PATH_STRING_SPECIFICATION</a></code></dt><dd><p>Default operating system.</p></dd></dl><dl><dt class="spec module" id="module-UnixPath"><a href="#module-UnixPath" class="anchor"></a><code><span class="keyword">module</span> <a href="UnixPath/index.html">UnixPath</a> : <a href="index.html#module-type-PATH_STRING_SPECIFICATION">PATH_STRING_SPECIFICATION</a></code></dt><dd><p>Unix operating system.</p></dd></dl><dl><dt class="spec module" id="module-MacOSPath"><a href="#module-MacOSPath" class="anchor"></a><code><span class="keyword">module</span> <a href="MacOSPath/index.html">MacOSPath</a> : <a href="index.html#module-type-PATH_STRING_SPECIFICATION">PATH_STRING_SPECIFICATION</a></code></dt><dd><p>MacOS operating system.</p></dd></dl><dl><dt class="spec module" id="module-Win32Path"><a href="#module-Win32Path" class="anchor"></a><code><span class="keyword">module</span> <a href="Win32Path/index.html">Win32Path</a> : <a href="index.html#module-type-PATH_STRING_SPECIFICATION">PATH_STRING_SPECIFICATION</a></code></dt><dd><p>Win32 operating system.</p></dd></dl><dl><dt class="spec module" id="module-CygwinPath"><a href="#module-CygwinPath" class="anchor"></a><code><span class="keyword">module</span> <a href="CygwinPath/index.html">CygwinPath</a> : <a href="index.html#module-type-PATH_STRING_SPECIFICATION">PATH_STRING_SPECIFICATION</a></code></dt><dd><p>Cygwin operating system.</p></dd></dl></section></div></body></html>