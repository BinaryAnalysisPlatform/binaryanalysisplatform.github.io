<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Input (bap.Bap.Std.Project.Input)</title><link rel="stylesheet" href="../../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">bap</a> &#x00BB; <a href="../../../index.html">Bap</a> &#x00BB; <a href="../../index.html">Std</a> &#x00BB; <a href="../index.html">Project</a> &#x00BB; Input</nav><header class="odoc-preamble"><h1>Module <code><span>Project.Input</span></code></h1><p>Input information.</p><p>This module abstracts the input data necessary to create a project.</p></header><nav class="odoc-toc"><ul><li><a href="#deprecated-interface">Deprecated Interface</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <a href="../index.html#type-input">input</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-load" class="anchored"><a href="#val-load" class="anchor"></a><code><span><span class="keyword">val</span> load : <span>?target:<a href="../../../../../bap-core-theory/Bap_core_theory/Theory/Target/index.html#type-t">Bap_core_theory.Theory.Target.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?loader:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>load filename</code> loads the file from the specified path. The file must be regular (i.e., not a pipe) and is expected to have the necessary meta information, i.e., not the raw code (use <code>raw_file</code> to load files that are raw code).</p><p>If <code>loader</code> is not specified then all image loaders are used and the information from the is merged, otherwise only the selected loaded is used. See <code>Image</code>.available_backend.</p><p>The <code>target</code> could be used to specialize the target information retrieved from the file. If it is less specific, then it will be ignored, if it contradicts the information in the file then the project creation will fail.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-raw_file" class="anchored"><a href="#val-raw_file" class="anchor"></a><code><span><span class="keyword">val</span> raw_file : <span>?base:<a href="../../index.html#type-addr">addr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../../bap-core-theory/Bap_core_theory/Theory/Target/index.html#type-t">Bap_core_theory.Theory.Target.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>raw_file ?base target ~filename</code> creates an input from a binary file that is raw code for the given <code>target</code>, i.e., without any headers or meta information.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">base</span> <p>is an virtual address of the first byte (defaults to 0).</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-from_string" class="anchored"><a href="#val-from_string" class="anchor"></a><code><span><span class="keyword">val</span> from_string : <span>?base:<a href="../../index.html#type-addr">addr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../../bap-core-theory/Bap_core_theory/Theory/Target/index.html#type-t">Bap_core_theory.Theory.Target.t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>create ?base target code</code> creates input from the binary <code>code</code> for the given <code>target</code>.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-from_bigstring" class="anchored"><a href="#val-from_bigstring" class="anchor"></a><code><span><span class="keyword">val</span> from_bigstring : <span>?base:<a href="../../index.html#type-addr">addr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../../bap-core-theory/Bap_core_theory/Theory/Target/index.html#type-t">Bap_core_theory.Theory.Target.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Core_kernel</span>.Bigstring.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>create ?base target code</code> creates input from the binary <code>code</code> for the given <code>target</code>.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-custom" class="anchored"><a href="#val-custom" class="anchor"></a><code><span><span class="keyword">val</span> custom : <span>?finish:<span>(<span><a href="../../index.html#type-project">project</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../index.html#type-project">project</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span>?filename:string <span class="arrow">&#45;&gt;</span></span> <span>?code:<span><a href="../../index.html#type-value">value</a> <a href="../../index.html#type-memmap">memmap</a></span> <span class="arrow">&#45;&gt;</span></span> <span>?data:<span><a href="../../index.html#type-value">value</a> <a href="../../index.html#type-memmap">memmap</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../../bap-core-theory/Bap_core_theory/Theory/Target/index.html#type-t">Bap_core_theory.Theory.Target.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>custom target</code> creates a custom input.</p><p>The <code>target</code> parameter denotes the target system of the input program. The <code>code</code> and <code>data</code> parameters are stored in the <code>Project.memory</code> and <code>code</code> is disassembled and lifted if the specified <code>target</code> has a disassembler and lifter.</p><p>The <code>filename</code> is used to communicate with external tools and will be broadcasted via <code>Info.file</code> stream and stored in the filename property of the project, otherwise it is not used when the project is created.</p><p>The <code>finish project</code> is the post-constructor that takes the nearly finished project (with code and data and potentially disassembled and lifted code) and constructs the final project.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-register_loader" class="anchored"><a href="#val-register_loader" class="anchor"></a><code><span><span class="keyword">val</span> register_loader : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a>)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>register_loader name load</code> register a loader under provided <code>name</code>. The <code>load</code> function will be called the filename, and it must return the <code>input</code> value.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-available_loaders" class="anchored"><a href="#val-available_loaders" class="anchor"></a><code><span><span class="keyword">val</span> available_loaders : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p><code>available_loaders ()</code> returns a list of names of currently known loaders.</p></div></div><h4 id="deprecated-interface"><a href="#deprecated-interface" class="anchor"></a>Deprecated Interface</h4><p>The following functions are deprecated and better alternatives are provided. They might be removed in BAP 3.0.</p><div class="odoc-spec"><div class="spec value" id="val-binary" class="anchored"><a href="#val-binary" class="anchor"></a><code><span><span class="keyword">val</span> binary : <span>?base:<a href="../../index.html#type-addr">addr</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../index.html#type-arch">arch</a> <span class="arrow">&#45;&gt;</span></span> <span>filename:string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>binary ?base arch ~filename</code> create an input from a binary file that is a pure code without any headers or meta information.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">base</span> <p>is an virtual address of the first byte (defaults to 0).</p></li></ul><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p>use <code>Input.raw_file</code> instead.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-file" class="anchored"><a href="#val-file" class="anchor"></a><code><span><span class="keyword">val</span> file : <span>?loader:string <span class="arrow">&#45;&gt;</span></span> <span>filename:string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>file ?target ?loader ~filename</code> input data from a file, using the specified loader. If <code>loader</code> is not specified, then some existing loader will be used. If it is specified, then it is first looked up in the <code>available_loaders</code> and if it is not found, then it will be looked up in the <a href="../../Image/index.html#val-available_backends"><code>Image.available_backends</code></a>.</p><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p>use <code>Input.load filename</code></p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span>?finish:<span>(<span><a href="../../index.html#type-project">project</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../index.html#type-project">project</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../index.html#type-arch">arch</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>code:<span><a href="../../index.html#type-value">value</a> <a href="../../index.html#type-memmap">memmap</a></span> <span class="arrow">&#45;&gt;</span></span> <span>data:<span><a href="../../index.html#type-value">value</a> <a href="../../index.html#type-memmap">memmap</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>create arch filename ~code ~data</code> creates an input from a file, using two memory maps. The <code>code</code> memmap spans the code in the file, and <code>data</code> spans the data. An optional <code>finish</code> function can be used to propagate to the project any additional information that is available to the loader. It defaults to <code>ident</code>.</p><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> <p>use either <code>Input.custom</code> or <code>Input.from_string</code> and <code>Input.from_bigstring</code>.</p></li></ul></div></div></div></body></html>