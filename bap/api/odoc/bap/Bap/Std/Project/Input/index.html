<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Input (bap.Bap.Std.Project.Input)</title><link rel="stylesheet" href="../../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">bap</a> &#x00BB; <a href="../../../index.html">Bap</a> &#x00BB; <a href="../../index.html">Std</a> &#x00BB; <a href="../index.html">Project</a> &#x00BB; Input</nav><h1>Module <code>Project.Input</code></h1><p>Input information.</p><p>This module abstracts the input data necessary to create a project.</p><nav class="toc"><ul><li><a href="#deprecated-interface">Deprecated Interface</a></li></ul></nav></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <a href="../index.html#type-input">input</a></code></dt></dl><dl><dt class="spec value" id="val-load"><a href="#val-load" class="anchor"></a><code><span class="keyword">val</span> load : <span>?&#8288;target:<a href="../../../../../bap-core-theory/Bap_core_theory/Theory/Target/index.html#type-t">Bap_core_theory.Theory.Target.t</a></span> <span>&#45;&gt;</span> <span>?&#8288;loader:string</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>load filename</code> loads the file from the specified path. The file must be regular (i.e., not a pipe) and is expected to have the necessary meta information, i.e., not the raw code (use <code>raw_file</code> to load files that are raw code).</p><p>If <code>loader</code> is not specified then all image loaders are used and the information from the is merged, otherwise only the selected loaded is used. See <span class="xref-unresolved" title="unresolved reference to &quot;Image.available_backend&quot;"><a href="../../index.html#module-Image"><code>Image</code></a>.available_backend</span>.</p><p>The <code>target</code> could be used to specialize the target information retrieved from the file. If it is less specific, then it will be ignored, if it contradicts the information in the file then the project creation will fail.</p><dl><dt>since</dt><dd>2.2.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-raw_file"><a href="#val-raw_file" class="anchor"></a><code><span class="keyword">val</span> raw_file : <span>?&#8288;base:<a href="../../index.html#type-addr">addr</a></span> <span>&#45;&gt;</span> <a href="../../../../../bap-core-theory/Bap_core_theory/Theory/Target/index.html#type-t">Bap_core_theory.Theory.Target.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>raw_file ?base target ~filename</code> creates an input from a binary file that is raw code for the given <code>target</code>, i.e., without any headers or meta information.</p><dl><dt>parameter base</dt><dd><p>is an virtual address of the first byte (defaults to 0).</p></dd></dl><dl><dt>since</dt><dd>2.2.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-from_string"><a href="#val-from_string" class="anchor"></a><code><span class="keyword">val</span> from_string : <span>?&#8288;base:<a href="../../index.html#type-addr">addr</a></span> <span>&#45;&gt;</span> <a href="../../../../../bap-core-theory/Bap_core_theory/Theory/Target/index.html#type-t">Bap_core_theory.Theory.Target.t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>create ?base target code</code> creates input from the binary <code>code</code> for the given <code>target</code>.</p><dl><dt>since</dt><dd>2.2.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-from_bigstring"><a href="#val-from_bigstring" class="anchor"></a><code><span class="keyword">val</span> from_bigstring : <span>?&#8288;base:<a href="../../index.html#type-addr">addr</a></span> <span>&#45;&gt;</span> <a href="../../../../../bap-core-theory/Bap_core_theory/Theory/Target/index.html#type-t">Bap_core_theory.Theory.Target.t</a> <span>&#45;&gt;</span> <a href="../../../../../core_kernel/Core_kernel/Bigstring/index.html#type-t">Core_kernel.Bigstring.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>create ?base target code</code> creates input from the binary <code>code</code> for the given <code>target</code>.</p><dl><dt>since</dt><dd>2.2.0</dd></dl></dd></dl><dl><dt class="spec value" id="val-custom"><a href="#val-custom" class="anchor"></a><code><span class="keyword">val</span> custom : <span>?&#8288;finish:<span>(<a href="../../index.html#type-project">project</a> <span>&#45;&gt;</span> <a href="../../index.html#type-project">project</a>)</span></span> <span>&#45;&gt;</span> <span>?&#8288;filename:string</span> <span>&#45;&gt;</span> <span>?&#8288;code:<span><a href="../../index.html#type-value">value</a> <a href="../../index.html#type-memmap">memmap</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;data:<span><a href="../../index.html#type-value">value</a> <a href="../../index.html#type-memmap">memmap</a></span></span> <span>&#45;&gt;</span> <a href="../../../../../bap-core-theory/Bap_core_theory/Theory/Target/index.html#type-t">Bap_core_theory.Theory.Target.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>custom target</code> creates a custom input.</p><p>The <code>target</code> parameter denotes the target system of the input program. The <code>code</code> and <code>data</code> parameters are stored in the <code>Project.memory</code> and <code>code</code> is disassembled and lifted if the specified <code>target</code> has a disassembler and lifter.</p><p>The <code>filename</code> is used to communicate with external tools and will be broadcasted via <code>Info.file</code> stream and stored in the filename property of the project, otherwise it is not used when the project is created.</p><p>The <code>finish project</code> is the post-constructor that takes the nearly finished project (with code and data and potentially disassembled and lifted code) and constructs the final project.</p></dd></dl><dl><dt class="spec value" id="val-register_loader"><a href="#val-register_loader" class="anchor"></a><code><span class="keyword">val</span> register_loader : string <span>&#45;&gt;</span> <span>(string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a>)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>register_loader name load</code> register a loader under provided <code>name</code>. The <code>load</code> function will be called the filename, and it must return the <code>input</code> value.</p></dd></dl><dl><dt class="spec value" id="val-available_loaders"><a href="#val-available_loaders" class="anchor"></a><code><span class="keyword">val</span> available_loaders : unit <span>&#45;&gt;</span> <span>string list</span></code></dt><dd><p><code>available_loaders ()</code> returns a list of names of currently known loaders.</p></dd></dl><section><header><h4 id="deprecated-interface"><a href="#deprecated-interface" class="anchor"></a>Deprecated Interface</h4><p>The following functions are deprecated and better alternatives are provided. They might be removed in BAP 3.0.</p></header><dl><dt class="spec value" id="val-binary"><a href="#val-binary" class="anchor"></a><code><span class="keyword">val</span> binary : <span>?&#8288;base:<a href="../../index.html#type-addr">addr</a></span> <span>&#45;&gt;</span> <a href="../../index.html#type-arch">arch</a> <span>&#45;&gt;</span> <span>filename:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>binary ?base arch ~filename</code> create an input from a binary file that is a pure code without any headers or meta information.</p><dl><dt>parameter base</dt><dd><p>is an virtual address of the first byte (defaults to 0).</p></dd></dl><dl><dt>deprecated</dt><dd><p>use <code>Input.raw_file</code> instead.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-file"><a href="#val-file" class="anchor"></a><code><span class="keyword">val</span> file : <span>?&#8288;loader:string</span> <span>&#45;&gt;</span> <span>filename:string</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>file ?target ?loader ~filename</code> input data from a file, using the specified loader. If <code>loader</code> is not specified, then some existing loader will be used. If it is specified, then it is first looked up in the <code>available_loaders</code> and if it is not found, then it will be looked up in the <a href="../../Image/index.html#val-available_backends"><code>Image.available_backends</code></a>.</p><dl><dt>deprecated</dt><dd><p>use <code>Input.load filename</code></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : <span>?&#8288;finish:<span>(<a href="../../index.html#type-project">project</a> <span>&#45;&gt;</span> <a href="../../index.html#type-project">project</a>)</span></span> <span>&#45;&gt;</span> <a href="../../index.html#type-arch">arch</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>code:<span><a href="../../index.html#type-value">value</a> <a href="../../index.html#type-memmap">memmap</a></span></span> <span>&#45;&gt;</span> <span>data:<span><a href="../../index.html#type-value">value</a> <a href="../../index.html#type-memmap">memmap</a></span></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>create arch filename ~code ~data</code> creates an input from a file, using two memory maps. The <code>code</code> memmap spans the code in the file, and <code>data</code> spans the data. An optional <code>finish</code> function can be used to propagate to the project any additional information that is available to the loader. It defaults to <code>ident</code>.</p><dl><dt>deprecated</dt><dd><p>use either <code>Input.custom</code> or <code>Input.from_string</code> and <code>Input.from_bigstring</code>.</p></dd></dl></dd></dl></section></div></body></html>