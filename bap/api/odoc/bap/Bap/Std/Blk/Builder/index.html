<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Builder (bap.Bap.Std.Blk.Builder)</title><link rel="stylesheet" href="../../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">bap</a> &#x00BB; <a href="../../../index.html">Bap</a> &#x00BB; <a href="../../index.html">Std</a> &#x00BB; <a href="../index.html">Blk</a> &#x00BB; Builder</nav><header class="odoc-preamble"><h1>Module <code><span>Blk.Builder</span></code></h1><p>Builder interface.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>This interface provides an efficient way to build new blocks. It is also useful, when rebuilding existing block. It is the user responsibility to preserve the uniqueness of identifiers throughout the program instance.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span>?tid:<a href="../../index.html#type-tid">tid</a> <span class="arrow">&#45;&gt;</span></span> <span>?phis:int <span class="arrow">&#45;&gt;</span></span> <span>?defs:int <span class="arrow">&#45;&gt;</span></span> <span>?jmps:int <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>create ~tid ~phis ~defs ~jmp ()</code> creates a block builder. If <code>tid</code> parameter is specified, then the new block will have this tid. If any of <code>phis</code>, <code>defs</code> or <code>jmps</code> parameters are specified, the provtided number would be used as a hint of the expected amount of the corresponding entries. Since it is the hint, it can mismatch with the actual size. The hint must be a positive number.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-init" class="anchored"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : <span>?same_tid:bool <span class="arrow">&#45;&gt;</span></span> <span>?copy_phis:bool <span class="arrow">&#45;&gt;</span></span> <span>?copy_defs:bool <span class="arrow">&#45;&gt;</span></span> <span>?copy_jmps:bool <span class="arrow">&#45;&gt;</span></span>
<span><span><a href="../../index.html#type-blk">blk</a> <a href="../../index.html#type-term">term</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>init blk</code> creates a builder based on an existing block. If <code>copy_phis</code>, <code>copy_defs</code> or <code>copy_jmps</code> is <code>true</code> (defaults to <code>false</code>), then prepopulate builder with corresponding terms from block <code>blk</code>. If <code>same_tid</code> is true (default), then a resulting block will have the same <code>tid</code> as block <code>blk</code>. Otherwise, a fresh new <code>tid</code> will be created.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_def" class="anchored"><a href="#val-add_def" class="anchor"></a><code><span><span class="keyword">val</span> add_def : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../index.html#type-def">def</a> <a href="../../index.html#type-term">term</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>appends a definition</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_jmp" class="anchored"><a href="#val-add_jmp" class="anchor"></a><code><span><span class="keyword">val</span> add_jmp : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../index.html#type-jmp">jmp</a> <a href="../../index.html#type-term">term</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>appends a jump</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_phi" class="anchored"><a href="#val-add_phi" class="anchor"></a><code><span><span class="keyword">val</span> add_phi : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../index.html#type-phi">phi</a> <a href="../../index.html#type-term">term</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>appends a phi node</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_elt" class="anchored"><a href="#val-add_elt" class="anchor"></a><code><span><span class="keyword">val</span> add_elt : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-elt">elt</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>appends generic element</p></div></div><div class="odoc-spec"><div class="spec value" id="val-result" class="anchored"><a href="#val-result" class="anchor"></a><code><span><span class="keyword">val</span> result : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../index.html#type-blk">blk</a> <a href="../../index.html#type-term">term</a></span></span></code></div><div class="spec-doc"><p>returns current result</p></div></div></div></body></html>