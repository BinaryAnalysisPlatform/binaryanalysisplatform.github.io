<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>t (bap.Bap.Std.Biri.S.t)</title><link rel="stylesheet" href="../../../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../../../index.html">bap</a> &#x00BB; <a href="../../../../index.html">Bap</a> &#x00BB; <a href="../../../index.html">Std</a> &#x00BB; <a href="../../index.html">Biri</a> &#x00BB; <a href="../index.html">S</a> &#x00BB; t</nav><h1>Class <code>S.t</code></h1><p>base class for BIR interpreters</p></header><dl><dt> <span class="keyword">constraint</span> <span class="type-var">'a</span> = <a href="../../class-context/index.html">context</a></dt></dl><dl><dt><code><span class="keyword">inherit</span> <span><span class="type-var">'a</span> <a href="../Expi/class-t/index.html">Expi.t</a></span></code></dt></dl><dl><dt class="spec method" id="method-enter_term"><a href="#method-enter_term" class="anchor"></a><code><span class="keyword">method</span> enter_term : t p. <span><span>(<span class="type-var">'p</span>, <span class="type-var">'t</span>)</span> <a href="../../../index.html#type-cls">cls</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'t</span> <a href="../../../index.html#type-term">term</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>called for each term, just after the position is updated, but before any side effect of term evaluation had occurred.</p></dd></dl><dl><dt class="spec method" id="method-eval"><a href="#method-eval" class="anchor"></a><code><span class="keyword">method</span> eval : t p. <span><span>(<span class="type-var">'p</span>, <span class="type-var">'t</span>)</span> <a href="../../../index.html#type-cls">cls</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'t</span> <a href="../../../index.html#type-term">term</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p><code>eval cls t</code> evaluates a term <code>t</code> of the <code>cls</code> class. The method implementation will call the <code>enter_term</code> method, and then will dispatch to the <code>eval_XXX</code> method, where <code>XXX</code> is a name of a term corresponding to <code>cls</code>. Finally, the <code>leave_term</code> method is called.</p></dd></dl><dl><dt class="spec method" id="method-leave_term"><a href="#method-leave_term" class="anchor"></a><code><span class="keyword">method</span> leave_term : t p. <span><span>(<span class="type-var">'p</span>, <span class="type-var">'t</span>)</span> <a href="../../../index.html#type-cls">cls</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'t</span> <a href="../../../index.html#type-term">term</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>called after all side effects of the term has occurred</p></dd></dl><dl><dt class="spec method" id="method-eval_sub"><a href="#method-eval_sub" class="anchor"></a><code><span class="keyword">method</span> eval_sub : <span><a href="../../../index.html#type-sub">sub</a> <a href="../../../index.html#type-term">term</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>Evaluates a subroutine with the following algorithm:</p><p>0. next &lt;- first block of subroutine and goto 1 1. eval all in and in/out arguments and goto 2 2. if next is some blk then eval it and goto 2 else goto 3 3. if next is some sub then eval it and goto 2 else goto 4 4. eval all out and in/out arguments.</p></dd></dl><dl><dt class="spec method" id="method-eval_arg"><a href="#method-eval_arg" class="anchor"></a><code><span class="keyword">method</span> eval_arg : <span><a href="../../../index.html#type-arg">arg</a> <a href="../../../index.html#type-term">term</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>evaluate argument by first evaluating its right hand side, and then assigning the result to the left hand side.</p></dd></dl><dl><dt class="spec method" id="method-eval_blk"><a href="#method-eval_blk" class="anchor"></a><code><span class="keyword">method</span> eval_blk : <span><a href="../../../index.html#type-blk">blk</a> <a href="../../../index.html#type-term">term</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>evaluate all terms in a given block, starting with phi nodes, then proceeding to def nodes and finally evaluating all jmp terms until either jump is taken or jump condition is undefined. After the evaluation the context#next will point next destination.</p></dd></dl><dl><dt class="spec method" id="method-eval_def"><a href="#method-eval_def" class="anchor"></a><code><span class="keyword">method</span> eval_def : <span><a href="../../../index.html#type-def">def</a> <a href="../../../index.html#type-term">term</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>evaluate definition by assigning the result of the right hand side to the definition variable</p></dd></dl><dl><dt class="spec method" id="method-eval_phi"><a href="#method-eval_phi" class="anchor"></a><code><span class="keyword">method</span> eval_phi : <span><a href="../../../index.html#type-phi">phi</a> <a href="../../../index.html#type-term">term</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>based on trace select an expression and assign its value to the left hand side of phi node.</p></dd></dl><dl><dt class="spec method" id="method-eval_jmp"><a href="#method-eval_jmp" class="anchor"></a><code><span class="keyword">method</span> eval_jmp : <span><a href="../../../index.html#type-jmp">jmp</a> <a href="../../../index.html#type-term">term</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>evaluate condition, and if it is false, then do nothing, otherwise evaluate jump target (see below)</p></dd></dl><dl><dt class="spec method" id="method-eval_goto"><a href="#method-eval_goto" class="anchor"></a><code><span class="keyword">method</span> eval_goto : <a href="../../../index.html#type-label">label</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>evaluate label, using <code>eval_direct</code> or <code>eval_indirect</code>, based on the label variant</p></dd></dl><dl><dt class="spec method" id="method-eval_call"><a href="#method-eval_call" class="anchor"></a><code><span class="keyword">method</span> eval_call : <a href="../../../index.html#type-call">call</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>evaluate target label, using <code>eval_direct</code> or <code>eval_indirect</code>, based on the label variant. Ignores return label.</p></dd></dl><dl><dt class="spec method" id="method-eval_ret"><a href="#method-eval_ret" class="anchor"></a><code><span class="keyword">method</span> eval_ret : <a href="../../../index.html#type-label">label</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>evaluate label, using <code>eval_direct</code> or <code>eval_indirect</code>, based on the label variant</p></dd></dl><dl><dt class="spec method" id="method-eval_exn"><a href="#method-eval_exn" class="anchor"></a><code><span class="keyword">method</span> eval_exn : int <span>&#45;&gt;</span> <a href="../../../index.html#type-tid">tid</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>ignore arguments and set context#next to None</p></dd></dl><dl><dt class="spec method" id="method-eval_direct"><a href="#method-eval_direct" class="anchor"></a><code><span class="keyword">method</span> eval_direct : <a href="../../../index.html#type-tid">tid</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>set context#next to the a given tid</p></dd></dl><dl><dt class="spec method" id="method-eval_indirect"><a href="#method-eval_indirect" class="anchor"></a><code><span class="keyword">method</span> eval_indirect : <a href="../../../index.html#type-exp">exp</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-u">u</a></span></code></dt><dd><p>ignore argument and set context#next to None</p></dd></dl></div></body></html>