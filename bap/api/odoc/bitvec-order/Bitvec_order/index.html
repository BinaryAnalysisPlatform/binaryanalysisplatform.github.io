<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bitvec_order (bitvec-order.Bitvec_order)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">bitvec-order</a> &#x00BB; Bitvec_order</nav><h1>Module <code>Bitvec_order</code></h1></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <a href="../../bitvec/Bitvec/index.html#type-t">Bitvec.t</a></code></dt><dd><p>Provides comparators for use with Janestreet Libraries.</p><p>A comparator is a comparison function paired with a type that is unique to this function and that acts as the witness of equality between two comparison functions.</p><p>Comparators are extensively used in the Janestreet's suite of libraries, e.g., Base, Core_kernel, Core, etc. Comparators are used to create sets, maps, hashtables, to instantiate interfaces, and algorithms that require comparison.</p><p>This module provides two comparators, <code>ascending</code> and <code>descending</code>, which represent two corresponding orderings, as well as the <code>natural</code> comparator, which is the default ordering that equals with the <code>ascending</code> order, which should be used in cases where a particular ordering doesn't matter.</p><p>This library interface is designed from the point of view of the library user, to minimize verbosity and maximize readability and the ease of use.</p><p>For example, an empty set is created as</p><pre><code class="ml">let words = Set.empty Bitvec_order.natural</code></pre><p>,</p><p>and it has type</p><pre><code class="ml">(Bitvec.t,Bitvec_order.natural) set</code></pre><p>(See the note on comparators below for the old style comparators)</p><p>This module also provides (implements) the <code>Base.Comparator.S</code> interface that is required by a few Janestreet functors, in particular, you can construct the type of a set of bitvectors, as</p><pre><code class="ml">type t = Set.M(Bitvec_oder)</code></pre><p>, or for a mapping from bitvectors to OCaml <code>int</code> it would be</p><pre><code class="ml">type t = int Map.M(Bitvec_order)</code></pre><p>And to instantiate the <code>Comparable.S</code> interface,</p><p><i>nclude Comparable.Make(Bitvec_order)</i>.</p><p>See also, <code>Bitvec_binprot</code> that provide support for the binable interfaces.</p><p>Finally, for even more concise and readable syntax we provide the <code>Comparators</code> module that designed to be opened, since it defines properly prefixed identifiers, which will unlikely clash with any existing name, so that the above examples could be expressed</p><pre><code class="ml">open Bitvec_order.Comparators
let words = Set.empty bitvec_order
type words = (bitvec, bitvec_order) Set.t
let decreasing x y = bitvec_descending.compare x y</code></pre><h3 id="the-old-style-comparators"><a href="#the-old-style-comparators" class="anchor"></a>The old style comparators</h3><p>Historically, the comparator in the Janestreet libraries had two representations - as a record that contains the <code>compare</code> function, and as a module that contains this record and an instance of the witness type. The former representation is mostly used for internal purposes, while the latter is expected in most of the public functions, like <code>Set.empty</code>, <code>Map.empty</code> in the form of the first-class module, or in different <code>Make*</code> functors. In this library, when we use the word comparator to refer to the latter representation, i.e., to the module. When the underlying comparator record is needed, it could be obtained through the <code>comparator</code> field of the module.</p><p>The older versions of Core and Base libraries were accepting the comparator as a record, so instead of writing</p><pre><code class="ml">Set.empty Bitvec_order.natural</code></pre><p>the following notation should be used</p><pre><code class="ml">Set.empty Bitvec_order.Natural.comparator</code></pre></dd></dl><dl><dt class="spec value" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span class="keyword">val</span> compare : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt><dd><p><code>compare x y</code> orders <code>x</code> and <code>y</code> in the natural order.</p></dd></dl><dl><dt class="spec type" id="type-ascending"><a href="#type-ascending" class="anchor"></a><code><span class="keyword">type</span> ascending</code></dt><dd><p>type index for the increasing order</p></dd></dl><dl><dt class="spec type" id="type-descending"><a href="#type-descending" class="anchor"></a><code><span class="keyword">type</span> descending</code></dt><dd><p>type index for the decreasing order</p></dd></dl><dl><dt class="spec type" id="type-natural"><a href="#type-natural" class="anchor"></a><code><span class="keyword">type</span> natural</code><code> = <a href="index.html#type-ascending">ascending</a></code></dt><dd><p>we use the increasing order as the natural ordering</p></dd></dl><dl><dt class="spec type" id="type-comparator"><a href="#type-comparator" class="anchor"></a><code><span class="keyword">type</span> <span>('a, 'b) comparator</span></code><code> = <span>(<span class="keyword">module</span> <a href="../../base/Base/Comparator/module-type-S/index.html">Base.Comparator.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../base/Base/Comparator/module-type-S/index.html#type-comparator_witness">comparator_witness</a> = <span class="type-var">'b</span> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../base/Base/Comparator/module-type-S/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span></code></dt><dd><p>a type abbreviation for a comparator packed into a module.</p><p>See the note about the historical meaning of the word comparator.</p></dd></dl><dl><dt class="spec value" id="val-natural"><a href="#val-natural" class="anchor"></a><code><span class="keyword">val</span> natural : <span><span>(<a href="index.html#type-t">t</a>, <a href="index.html#type-natural">natural</a>)</span> <a href="index.html#type-comparator">comparator</a></span></code></dt><dd><p><code>natural</code> the packed comparator that sorts in the natural order</p></dd></dl><dl><dt class="spec value" id="val-ascending"><a href="#val-ascending" class="anchor"></a><code><span class="keyword">val</span> ascending : <span><span>(<a href="index.html#type-t">t</a>, <a href="index.html#type-ascending">ascending</a>)</span> <a href="index.html#type-comparator">comparator</a></span></code></dt><dd><p><code>ascending</code> the packed comparator that sorts in the increasing order</p></dd></dl><dl><dt class="spec value" id="val-descending"><a href="#val-descending" class="anchor"></a><code><span class="keyword">val</span> descending : <span><span>(<a href="index.html#type-t">t</a>, <a href="index.html#type-descending">descending</a>)</span> <a href="index.html#type-comparator">comparator</a></span></code></dt><dd><p><code>descending</code> the packed comparator that sorts in the decreasing order</p></dd></dl><dl><dt class="spec module" id="module-Natural"><a href="#module-Natural" class="anchor"></a><code><span class="keyword">module</span> <a href="Natural/index.html">Natural</a> : <a href="../../base/Base/Comparator/index.html#module-type-S">Base.Comparator.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../base/Base/Comparator/module-type-S/index.html#type-t">t</a> = <a href="index.html#type-t">t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../base/Base/Comparator/module-type-S/index.html#type-comparator_witness">comparator_witness</a> = <a href="index.html#type-natural">natural</a></code></dt><dd><p><code>natural</code> the comparator that sorts in the natural order</p></dd></dl><dl><dt class="spec module" id="module-Ascending"><a href="#module-Ascending" class="anchor"></a><code><span class="keyword">module</span> <a href="Ascending/index.html">Ascending</a> : <a href="../../base/Base/Comparator/index.html#module-type-S">Base.Comparator.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../base/Base/Comparator/module-type-S/index.html#type-t">t</a> = <a href="index.html#type-t">t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../base/Base/Comparator/module-type-S/index.html#type-comparator_witness">comparator_witness</a> = <a href="index.html#type-ascending">ascending</a></code></dt><dd><p><code>natural</code> the comparator that sorts in the natural order</p></dd></dl><dl><dt class="spec module" id="module-Descending"><a href="#module-Descending" class="anchor"></a><code><span class="keyword">module</span> <a href="Descending/index.html">Descending</a> : <a href="../../base/Base/Comparator/index.html#module-type-S">Base.Comparator.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../base/Base/Comparator/module-type-S/index.html#type-t">t</a> = <a href="index.html#type-t">t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../base/Base/Comparator/module-type-S/index.html#type-comparator_witness">comparator_witness</a> = <a href="index.html#type-descending">descending</a></code></dt><dd><p><code>natural</code> the comparator that sorts in the natural order</p></dd></dl><div><div class="spec include"><div class="doc"><p>provides the natural order by default</p><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../../base/Base/Comparator/index.html#module-type-S">Base.Comparator.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../base/Base/Comparator/module-type-S/index.html#type-t">t</a> := <a href="index.html#type-t">t</a> <span class="keyword">and</span> <span class="keyword">type</span> <a href="../../base/Base/Comparator/module-type-S/index.html#type-comparator_witness">comparator_witness</a> = <a href="index.html#type-natural">natural</a></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dt class="spec type" id="type-comparator_witness"><a href="#type-comparator_witness" class="anchor"></a><code><span class="keyword">type</span> comparator_witness</code><code> = <a href="index.html#type-natural">natural</a></code></dt></dl><dl><dt class="spec value" id="val-comparator"><a href="#val-comparator" class="anchor"></a><code><span class="keyword">val</span> comparator : <span><span>(<a href="index.html#type-t">t</a>, <a href="index.html#type-comparator_witness">comparator_witness</a>)</span> <a href="../../base/Base/Comparator/index.html#type-comparator">Base.Comparator.comparator</a></span></code></dt></dl></details></div></div></div><dl><dt class="spec module" id="module-Comparators"><a href="#module-Comparators" class="anchor"></a><code><span class="keyword">module</span> <a href="Comparators/index.html">Comparators</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Open this module to make the following fields available</p></dd></dl></div></body></html>