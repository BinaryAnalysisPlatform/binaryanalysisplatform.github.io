<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Elementary (bap-elementary.Bap_elementary.Elementary)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">bap-elementary</a> &#x00BB; <a href="../index.html">Bap_elementary</a> &#x00BB; Elementary</nav><h1>Module <code>Bap_elementary.Elementary</code></h1><p>Elementary is a library that provides few primitives for approximations of floating point operations via table methods.</p></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-Theory/index.html">Theory</a> : <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#module-type-Core">Bap_core_theory.Theory.Core</a></code></li></ul><h3 class="heading">Signature</h3><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code><code> = <span><span class="type-var">'a</span> <a href="../../../bap-knowledge/Bap_knowledge/index.html#type-knowledge">Bap_knowledge.knowledge</a></span></code></dt></dl><dl><dt class="spec exception" id="exception-Not_a_table"><a href="#exception-Not_a_table" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">Not_a_table</span></code></dt></dl><dl><dt class="spec value" id="val-approximate"><a href="#val-approximate" class="anchor"></a><code><span class="keyword">val</span> approximate : <span>rank:int</span> <span>&#45;&gt;</span> <span>reduce:<span>(<span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>)</span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-format">Bap_core_theory.Theory.format</a></span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-float">Bap_core_theory.Theory.float</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'r</span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-bitv">Bap_core_theory.Theory.bitv</a></span>)</span></span> <span>&#45;&gt;</span> <span>extract:<span>(int <span>&#45;&gt;</span> <span><span class="type-var">'d</span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-bitv">Bap_core_theory.Theory.bitv</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'s</span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-bitv">Bap_core_theory.Theory.bitv</a></span>)</span></span> <span>&#45;&gt;</span> <span>coefs:<span><span><span>(<span class="type-var">'r</span>, <span class="type-var">'d</span>)</span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/Mem/index.html#type-t">Bap_core_theory.Theory.Mem.t</a></span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-var">Bap_core_theory.Theory.var</a></span></span> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>)</span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-format">Bap_core_theory.Theory.format</a></span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-float">Bap_core_theory.Theory.float</a></span> <span>&#45;&gt;</span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-rmode">Bap_core_theory.Theory.rmode</a> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>)</span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-format">Bap_core_theory.Theory.format</a></span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-float">Bap_core_theory.Theory.float</a></span></code></dt><dd><p><code>approximate ~rank ~reduce ~extract ~coefs x rmode</code> returns a function f(x,rmode) that is defined by a polynomial of rank <code>rank</code>, which coefficients are stored in a table <code>coefs</code>.</p><dl><dt>parameter coefs</dt><dd><p>is a table, where keys are some points in integer space, in which floating point values could be mapped by <code>reduce</code> function. And values of <code>coefs</code> are some point in integer namespace from which floating point coefficients could be restored by <code>extract</code> function with a respect to a rank of each coefficient.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-tabulate"><a href="#val-tabulate" class="anchor"></a><code><span class="keyword">val</span> tabulate : string <span>&#45;&gt;</span> <span>rank:int</span> <span>&#45;&gt;</span> <span>size:int</span> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>)</span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-format">Bap_core_theory.Theory.format</a></span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-float">Bap_core_theory.Theory.float</a></span> <span>&#45;&gt;</span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-rmode">Bap_core_theory.Theory.rmode</a> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'s</span>)</span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-format">Bap_core_theory.Theory.format</a></span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-float">Bap_core_theory.Theory.float</a></span></code></dt><dd><p><code>tabulate op ~rank ~size x rmode</code> defines a subset of functions that can be created by <code>approximate</code>, s.t. each value in a table is a concatenation of coefficients (from one with the least rank to one with the most), and each key is first <code>size</code> bits of floating point value.</p><dl><dt>parameter op</dt><dd><p>is a name of floating point operation to approximate.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-table"><a href="#val-table" class="anchor"></a><code><span class="keyword">val</span> table : string <span>&#45;&gt;</span> <span><span><span><span>(<span class="type-var">'r</span>, <span class="type-var">'s</span>)</span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/index.html#type-format">Bap_core_theory.Theory.format</a></span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/Float/index.html#type-t">Bap_core_theory.Theory.Float.t</a></span> <a href="../../../bap-core-theory/Bap_core_theory/Theory/Value/index.html#type-sort">Bap_core_theory.Theory.Value.sort</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> string</code></dt><dd><p><code>table operation sort rank</code> defines a naming scheme for approximation of <code>rank</code> of an <code>operation</code> for values of <code>sort</code>.</p></dd></dl><dl><dt class="spec value" id="val-is_table"><a href="#val-is_table" class="anchor"></a><code><span class="keyword">val</span> is_table : <a href="../../../bap-core-theory/Bap_core_theory/Theory/Var/index.html#type-ident">Bap_core_theory.Theory.Var.ident</a> <span>&#45;&gt;</span> <a href="../../../base/Base/index.html#type-bool">Base.bool</a></code></dt><dd><p><code>is_table ident</code> returns true if <code>ident</code> is a table</p></dd></dl><dl><dt class="spec value" id="val-operation"><a href="#val-operation" class="anchor"></a><code><span class="keyword">val</span> operation : <a href="../../../bap-core-theory/Bap_core_theory/Theory/Var/index.html#type-ident">Bap_core_theory.Theory.Var.ident</a> <span>&#45;&gt;</span> string</code></dt><dd><p><code>operation ident</code> returns the name of a function, which polynomial coefficients reside in a table referenced by <code>ident</code>. Raise Not_a_table if <code>ident</code> doesn't match to a naming scheme</p></dd></dl><dl><dt class="spec module" id="module-Scheme"><a href="#module-Scheme" class="anchor"></a><code><span class="keyword">module</span> <a href="Scheme/index.html">Scheme</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>module contains naming schemes for different math functions</p></dd></dl></div></body></html>