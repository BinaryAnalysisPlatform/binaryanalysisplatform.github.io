<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Data (regular.Regular.Std.Data)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">regular</a> &#x00BB; <a href="../../index.html">Regular</a> &#x00BB; <a href="../index.html">Std</a> &#x00BB; Data</nav><header class="odoc-preamble"><h1>Module <code><span>Std.Data</span></code></h1><p>Data types support module.</p><p>Data is a collection of bits, that can be stored and loaded on some media. This module provides functions for doing this in a generic way.</p><p>To be on a safe side, we insist on explicit versioning of each data representation. Otherwise, any OCaml value is suitable for this module.</p><p>The module defines interfaces <a href="module-type-S/index.html"><code>Data.S</code></a> that describes the expected set of functions for data. It also defines a <code>Cache</code>.S interface, that is useful for caching data that is hard to obtain.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-copy" class="anchored"><a href="#type-copy" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b) copy</span></span><span> = <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>copy buf obj pos</code> is a method to copy object <code>obj</code> into a buffer <code>buf</code>, starting from a position <code>pos</code> and will return the number of bytes written. XXX: we need the amount of bytes beforehand.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-dump" class="anchored"><a href="#type-dump" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b) dump</span></span><span> = <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>dump out obj</code> a type of functions that outputs a value <code>obj</code> into output <code>out</code></p></div></div><div class="odoc-spec"><div class="spec type" id="type-lexbuf" class="anchored"><a href="#type-lexbuf" class="anchor"></a><code><span><span class="keyword">type</span> lexbuf</span><span> = <span class="xref-unresolved">Stdlib</span>.Lexing.lexbuf</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-scanbuf" class="anchored"><a href="#type-scanbuf" class="anchor"></a><code><span><span class="keyword">type</span> scanbuf</span><span> = <span class="xref-unresolved">Stdlib</span>.Scanf.Scanning.scanbuf</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-cls" class="anchored"><a href="#type-cls" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a cls</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-info" class="anchored"><a href="#type-info" class="anchor"></a><code><span><span class="keyword">type</span> info</span><span> = string * <span>[ <span>`Ver of string</span> ]</span> * <span>string option</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-all_readers" class="anchored"><a href="#val-all_readers" class="anchor"></a><code><span><span class="keyword">val</span> all_readers : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span>(string * <span><a href="#type-info">info</a> list</span>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-all_writers" class="anchored"><a href="#val-all_writers" class="anchor"></a><code><span><span class="keyword">val</span> all_writers : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span>(string * <span><a href="#type-info">info</a> list</span>)</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_module_name" class="anchored"><a href="#val-set_module_name" class="anchor"></a><code><span><span class="keyword">val</span> set_module_name : <span><span><span class="type-var">'a</span> <a href="#type-cls">cls</a></span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Versioned" class="anchored"><a href="#module-Versioned" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Versioned/index.html">Versioned</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Versioned interfaces</p></div></div><div class="odoc-spec"><div class="spec value" id="val-marshal_reader" class="anchored"><a href="#val-marshal_reader" class="anchor"></a><code><span><span class="keyword">val</span> marshal_reader : <span><span>(<span class="keyword">module</span> <span class="xref-unresolved">Core_kernel</span>.T <span class="keyword">with</span> <span class="keyword">type</span> <span class="xref-unresolved">t</span> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-reader">reader</a></span></span></code></div><div class="spec-doc"><p><code>marshal_reader (module T)</code> returns a reader in OCaml <code>Marshal</code> format.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-marshal_writer" class="anchored"><a href="#val-marshal_writer" class="anchor"></a><code><span><span class="keyword">val</span> marshal_writer : <span><span>(<span class="keyword">module</span> <span class="xref-unresolved">Core_kernel</span>.T <span class="keyword">with</span> <span class="keyword">type</span> <span class="xref-unresolved">t</span> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-writer">writer</a></span></span></code></div><div class="spec-doc"><p><code>marshal_writer (module T)</code> returns a writer in OCaml <code>Marshal</code> format.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_reader" class="anchored"><a href="#val-sexp_reader" class="anchor"></a><code><span><span class="keyword">val</span> sexp_reader : <span><span>(<span class="keyword">module</span> <span class="xref-unresolved">Core_kernel</span>.Sexpable <span class="keyword">with</span> <span class="keyword">type</span> <span class="xref-unresolved">t</span> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-reader">reader</a></span></span></code></div><div class="spec-doc"><p><code>sexp_reader (module T)</code> returns a reader in sexp format.</p><p><code>sexp_writer (module T)</code> returns a writer in sexp format.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_writer" class="anchored"><a href="#val-sexp_writer" class="anchor"></a><code><span><span class="keyword">val</span> sexp_writer : <span><span>(<span class="keyword">module</span> <span class="xref-unresolved">Core_kernel</span>.Sexpable <span class="keyword">with</span> <span class="keyword">type</span> <span class="xref-unresolved">t</span> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-writer">writer</a></span></span></code></div><div class="spec-doc"><p><code>sexp_writer (module T)</code> returns a writer in sexp format.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_reader" class="anchored"><a href="#val-bin_reader" class="anchor"></a><code><span><span class="keyword">val</span> bin_reader : <span><span>(<span class="keyword">module</span> <span class="xref-unresolved">Core_kernel</span>.Binable <span class="keyword">with</span> <span class="keyword">type</span> <span class="xref-unresolved">t</span> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-reader">reader</a></span></span></code></div><div class="spec-doc"><p><code>bin_reader (module T)</code> returns a reader in binprot format.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_writer" class="anchored"><a href="#val-bin_writer" class="anchor"></a><code><span><span class="keyword">val</span> bin_writer : <span><span>(<span class="keyword">module</span> <span class="xref-unresolved">Core_kernel</span>.Binable <span class="keyword">with</span> <span class="keyword">type</span> <span class="xref-unresolved">t</span> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-writer">writer</a></span></span></code></div><div class="spec-doc"><p><code>bin_writer (module T)</code> returns a writer in binprot format.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pretty_writer" class="anchored"><a href="#val-pretty_writer" class="anchor"></a><code><span><span class="keyword">val</span> pretty_writer : 
  <span><span>(<span class="keyword">module</span> <span class="xref-unresolved">Core_kernel</span>.Pretty_printer.S <span class="keyword">with</span> <span class="keyword">type</span> <span class="xref-unresolved">t</span> = <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="../index.html#type-writer">writer</a></span></span></code></div><div class="spec-doc"><p><code>pretty_printer (module T</code> creates a writer that uses <code>T.pp</code> function for outputting.</p></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-S" class="anchored"><a href="#module-type-S" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S/index.html">S</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Data type interface.</p></div></div><div class="odoc-spec"><div class="spec module-type" id="module-type-With_instance" class="anchored"><a href="#module-type-With_instance" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-With_instance/index.html">With_instance</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Make" class="anchored"><a href="#module-Make" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Make/index.html">Make</a></span><span> (<a href="Make/argument-1-T/index.html">T</a> : <a href="Versioned/module-type-S/index.html">Versioned.S</a>) : <a href="module-type-With_instance/index.html">With_instance</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="module-type-With_instance/index.html#type-t">t</a> := <a href="Make/argument-1-T/index.html#type-t">T.t</a></span></span></code></div><div class="spec-doc"><p>Implements <code>Data.S</code> interface from the provided minimal implementation.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Read" class="anchored"><a href="#module-Read" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Read/index.html">Read</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p><code>Read</code> typeclass.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Write" class="anchored"><a href="#module-Write" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Write/index.html">Write</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Write typeclass.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Cache" class="anchored"><a href="#module-Cache" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Cache/index.html">Cache</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Generic caching.</p></div></div></div></body></html>