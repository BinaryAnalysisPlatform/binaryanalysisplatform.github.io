<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Data (regular.Regular.Std.Data)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">regular</a> &#x00BB; <a href="../../index.html">Regular</a> &#x00BB; <a href="../index.html">Std</a> &#x00BB; Data</nav><h1>Module <code>Std.Data</code></h1><p>Data types support module.</p><p>Data is a collection of bits, that can be stored and loaded on some media. This module provides functions for doing this in a generic way.</p><p>To be on a safe side, we insist on explicit versioning of each data representation. Otherwise, any OCaml value is suitable for this module.</p><p>The module defines interfaces <a href="module-type-S/index.html"><code>Data.S</code></a> that describes the expected set of functions for data. It also defines a <span class="xref-unresolved" title="unresolved reference to &quot;Cache.S&quot;"><a href="index.html#module-Cache"><code>Cache</code></a>.S</span> interface, that is useful for caching data that is hard to obtain.</p></header><dl><dt class="spec type" id="type-copy"><a href="#type-copy" class="anchor"></a><code><span class="keyword">type</span> <span>('a, 'b) copy</span></code><code> = <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dd><p><code>copy buf obj pos</code> is a method to copy object <code>obj</code> into a buffer <code>buf</code>, starting from a position <code>pos</code> and will return the number of bytes written. XXX: we need the amount of bytes beforehand.</p></dd></dl><dl><dt class="spec type" id="type-dump"><a href="#type-dump" class="anchor"></a><code><span class="keyword">type</span> <span>('a, 'b) dump</span></code><code> = <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p><code>dump out obj</code> a type of functions that outputs a value <code>obj</code> into output <code>out</code></p></dd></dl><dl><dt class="spec type" id="type-lexbuf"><a href="#type-lexbuf" class="anchor"></a><code><span class="keyword">type</span> lexbuf</code><code> = <a href="../../../../ocaml/Stdlib/Lexing/index.html#type-lexbuf">Stdlib.Lexing.lexbuf</a></code></dt><dt class="spec type" id="type-scanbuf"><a href="#type-scanbuf" class="anchor"></a><code><span class="keyword">type</span> scanbuf</code><code> = <a href="../../../../ocaml/Stdlib__scanf/Scanning/index.html#type-scanbuf">Stdlib.Scanf.Scanning.scanbuf</a></code></dt><dt class="spec type" id="type-cls"><a href="#type-cls" class="anchor"></a><code><span class="keyword">type</span> <span>'a cls</span></code></dt><dt class="spec type" id="type-info"><a href="#type-info" class="anchor"></a><code><span class="keyword">type</span> info</code><code> = string * <span>[ <span>`Ver of string</span> ]</span> * <span>string option</span></code></dt></dl><dl><dt class="spec value" id="val-all_readers"><a href="#val-all_readers" class="anchor"></a><code><span class="keyword">val</span> all_readers : unit <span>&#45;&gt;</span> <span><span>(string * <span><a href="index.html#type-info">info</a> list</span>)</span> list</span></code></dt><dt class="spec value" id="val-all_writers"><a href="#val-all_writers" class="anchor"></a><code><span class="keyword">val</span> all_writers : unit <span>&#45;&gt;</span> <span><span>(string * <span><a href="index.html#type-info">info</a> list</span>)</span> list</span></code></dt><dt class="spec value" id="val-set_module_name"><a href="#val-set_module_name" class="anchor"></a><code><span class="keyword">val</span> set_module_name : <span><span class="type-var">'a</span> <a href="index.html#type-cls">cls</a></span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> unit</code></dt></dl><dl><dt class="spec module" id="module-Versioned"><a href="#module-Versioned" class="anchor"></a><code><span class="keyword">module</span> <a href="Versioned/index.html">Versioned</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Versioned interfaces</p></dd></dl><dl><dt class="spec value" id="val-marshal_reader"><a href="#val-marshal_reader" class="anchor"></a><code><span class="keyword">val</span> marshal_reader : <span>(<span class="keyword">module</span> <a href="../../../../core_kernel/Core_kernel/module-type-T/index.html">Core_kernel.T</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../core_kernel/Core_kernel/module-type-T/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-reader">reader</a></span></code></dt><dd><p><code>marshal_reader (module T)</code> returns a reader in OCaml <code>Marshal</code> format.</p></dd></dl><dl><dt class="spec value" id="val-marshal_writer"><a href="#val-marshal_writer" class="anchor"></a><code><span class="keyword">val</span> marshal_writer : <span>(<span class="keyword">module</span> <a href="../../../../core_kernel/Core_kernel/module-type-T/index.html">Core_kernel.T</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../core_kernel/Core_kernel/module-type-T/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-writer">writer</a></span></code></dt><dd><p><code>marshal_writer (module T)</code> returns a writer in OCaml <code>Marshal</code> format.</p></dd></dl><dl><dt class="spec value" id="val-sexp_reader"><a href="#val-sexp_reader" class="anchor"></a><code><span class="keyword">val</span> sexp_reader : <span>(<span class="keyword">module</span> <a href="../../../../core_kernel/Core_kernel/module-type-Sexpable/index.html">Core_kernel.Sexpable</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../core_kernel/Core_kernel/module-type-Sexpable/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-reader">reader</a></span></code></dt><dd><p><code>sexp_reader (module T)</code> returns a reader in sexp format.</p><p><code>sexp_writer (module T)</code> returns a writer in sexp format.</p></dd></dl><dl><dt class="spec value" id="val-sexp_writer"><a href="#val-sexp_writer" class="anchor"></a><code><span class="keyword">val</span> sexp_writer : <span>(<span class="keyword">module</span> <a href="../../../../core_kernel/Core_kernel/module-type-Sexpable/index.html">Core_kernel.Sexpable</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../core_kernel/Core_kernel/module-type-Sexpable/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-writer">writer</a></span></code></dt><dd><p><code>sexp_writer (module T)</code> returns a writer in sexp format.</p></dd></dl><dl><dt class="spec value" id="val-bin_reader"><a href="#val-bin_reader" class="anchor"></a><code><span class="keyword">val</span> bin_reader : <span>(<span class="keyword">module</span> <a href="../../../../core_kernel/Core_kernel/module-type-Binable/index.html">Core_kernel.Binable</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../core_kernel/Core_kernel/module-type-Binable/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-reader">reader</a></span></code></dt><dd><p><code>bin_reader (module T)</code> returns a reader in binprot format.</p></dd></dl><dl><dt class="spec value" id="val-bin_writer"><a href="#val-bin_writer" class="anchor"></a><code><span class="keyword">val</span> bin_writer : <span>(<span class="keyword">module</span> <a href="../../../../core_kernel/Core_kernel/module-type-Binable/index.html">Core_kernel.Binable</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../core_kernel/Core_kernel/module-type-Binable/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-writer">writer</a></span></code></dt><dd><p><code>bin_writer (module T)</code> returns a writer in binprot format.</p></dd></dl><dl><dt class="spec value" id="val-pretty_writer"><a href="#val-pretty_writer" class="anchor"></a><code><span class="keyword">val</span> pretty_writer : <span>(<span class="keyword">module</span> <a href="../../../../base/Base/Pretty_printer/module-type-S/index.html">Core_kernel.Pretty_printer.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../base/Base/Pretty_printer/module-type-S/index.html#type-t">t</a> = <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../index.html#type-writer">writer</a></span></code></dt><dd><p><code>pretty_printer (module T</code> creates a writer that uses <code>T.pp</code> function for outputting.</p></dd></dl><dl><dt class="spec module-type" id="module-type-S"><a href="#module-type-S" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S/index.html">S</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Data type interface.</p></dd></dl><div class="spec module-type" id="module-type-With_instance"><a href="#module-type-With_instance" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-With_instance/index.html">With_instance</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec module" id="module-Make"><a href="#module-Make" class="anchor"></a><code><span class="keyword">module</span> <a href="Make/index.html">Make</a> : <span class="keyword">functor</span> (<a href="Make/argument-1-T/index.html">T</a> : <a href="Versioned/index.html#module-type-S">Versioned.S</a>) <span>&#45;&gt;</span> <a href="index.html#module-type-With_instance">With_instance</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="Make/index.html#type-t">t</a> := <a href="Make/argument-1-T/index.html#type-t">T.t</a></code></dt><dd><p>Implements <code>Data.S</code> interface from the provided minimal implementation.</p></dd></dl><dl><dt class="spec module" id="module-Read"><a href="#module-Read" class="anchor"></a><code><span class="keyword">module</span> <a href="Read/index.html">Read</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p><code>Read</code> typeclass.</p></dd></dl><dl><dt class="spec module" id="module-Write"><a href="#module-Write" class="anchor"></a><code><span class="keyword">module</span> <a href="Write/index.html">Write</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Write typeclass.</p></dd></dl><dl><dt class="spec module" id="module-Cache"><a href="#module-Cache" class="anchor"></a><code><span class="keyword">module</span> <a href="Cache/index.html">Cache</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Generic caching.</p></dd></dl></div></body></html>