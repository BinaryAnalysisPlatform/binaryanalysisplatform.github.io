<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Std (regular.Regular.Std)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">regular</a> &#x00BB; <a href="../index.html">Regular</a> &#x00BB; Std</nav><header class="odoc-preamble"><h1>Module <code><span>Regular.Std</span></code></h1><p>Interface that should support any regular data type.</p></header><nav class="odoc-toc"><ul><li><a href="#overview">Overview</a></li><li><a href="#features">Features</a><ul><li><a href="#type-definitions">Type definitions</a><ul><li><a href="#reader-and-writer-type-classes">Reader and Writer type classes</a></li></ul></li></ul></li></ul></nav><div class="odoc-content"><h3 id="overview"><a href="#overview" class="anchor"></a>Overview</h3><p>A regular type is catch all term for all data types that are regular, like numbers, characters, strings and their algebraic closure. A proper term for such types would be inductive types. A regular type always has a concrete representation, it is printable, comparable (with total order), hashable, etc.</p><p>To contrast, functions, closures, proxies, descriptors, and any co-inductive types are non-regular. The main difference, is that regular type is self contained, where non-regular types, usually represent something that can be only observed, but not really represented with the data type.</p><p>On the border line we have <code>Opaque</code> data types. These are types, that pretend to be <code>Regular</code>, but we can't actually inspect their representation.</p><h3 id="features"><a href="#features" class="anchor"></a>Features</h3><p>So what the library actually provides. First of all it defines the <a href="../index.html"><code>Regular</code></a> interface, that each regular data type is expected to implement. This includes a full set of <code>Io</code> functions, that allows one to read, write and serialize values of the type (see <code>Data</code> interface). It also provides an interface for creating different collections from the values of that type, including trees, hashtables, maps, sets, etc. Also, it describes the whole algebra of comparison functions. For the opaque data types an interface called <code>Opaque</code> is provided, that is a proper subset of the <a href="../index.html"><code>Regular</code></a>. It doesn't provide printing and serialization, but has everything that can be derived for a type with a total order (e.g., containers, comparison function, etc).</p><p>A functor is provided for each interface, that requires the minimal implementation, and derives the rest.</p><p>Finally, a <code>Bytes</code> module is provided that facilitates the transfer from mutable to immutable <code>Strings</code>. It is the extension of OCaml standard Bytes module, enhanced with the expected set of functions.</p><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="
    https://ocaml.janestreet.com/ocaml-core/latest/doc/core_kernel/" class="value">
    https://ocaml.janestreet.com/ocaml-core/latest/doc/core_kernel/</a> <p>Core Kernel Documentation</p></li></ul><h4 id="type-definitions"><a href="#type-definitions" class="anchor"></a>Type definitions</h4><div class="odoc-spec"><div class="spec type" id="type-bytes" class="anchored"><a href="#type-bytes" class="anchor"></a><code><span><span class="keyword">type</span> bytes</span><span> = <span class="xref-unresolved">Core_kernel</span>.Bytes.t</span></code></div><div class="spec-doc"><p>bytes is a mutable sequence of bytes that has a fixed length.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_shape_bytes" class="anchored"><a href="#val-bin_shape_bytes" class="anchor"></a><code><span><span class="keyword">val</span> bin_shape_bytes : <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Shape.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_size_bytes" class="anchored"><a href="#val-bin_size_bytes" class="anchor"></a><code><span><span class="keyword">val</span> bin_size_bytes : <span><a href="#type-bytes">bytes</a> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Size.sizer</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_write_bytes" class="anchored"><a href="#val-bin_write_bytes" class="anchor"></a><code><span><span class="keyword">val</span> bin_write_bytes : <span><a href="#type-bytes">bytes</a> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Write.writer</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_writer_bytes" class="anchored"><a href="#val-bin_writer_bytes" class="anchor"></a><code><span><span class="keyword">val</span> bin_writer_bytes : <span><a href="#type-bytes">bytes</a> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Type_class.writer</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_read_bytes" class="anchored"><a href="#val-bin_read_bytes" class="anchor"></a><code><span><span class="keyword">val</span> bin_read_bytes : <span><a href="#type-bytes">bytes</a> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Read.reader</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-__bin_read_bytes__" class="anchored"><a href="#val-__bin_read_bytes__" class="anchor"></a><code><span><span class="keyword">val</span> __bin_read_bytes__ : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-bytes">bytes</a>)</span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Read.reader</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_reader_bytes" class="anchored"><a href="#val-bin_reader_bytes" class="anchor"></a><code><span><span class="keyword">val</span> bin_reader_bytes : <span><a href="#type-bytes">bytes</a> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Type_class.reader</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_bytes" class="anchored"><a href="#val-bin_bytes" class="anchor"></a><code><span><span class="keyword">val</span> bin_bytes : <span><a href="#type-bytes">bytes</a> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Type_class.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_bytes" class="anchored"><a href="#val-compare_bytes" class="anchor"></a><code><span><span class="keyword">val</span> compare_bytes : <span><a href="#type-bytes">bytes</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-bytes">bytes</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_bytes" class="anchored"><a href="#val-sexp_of_bytes" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_bytes : <span><a href="#type-bytes">bytes</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_sexp_conv_lib</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bytes_of_sexp" class="anchored"><a href="#val-bytes_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> bytes_of_sexp : <span><span class="xref-unresolved">Ppx_sexp_conv_lib</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-bytes">bytes</a></span></code></div></div><h5 id="reader-and-writer-type-classes"><a href="#reader-and-writer-type-classes" class="anchor"></a>Reader and Writer type classes</h5><p>Each type class is an abstraction of a tuple of function.</p><div class="odoc-spec"><div class="spec type" id="type-reader" class="anchored"><a href="#type-reader" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a reader</span></span></code></div><div class="spec-doc"><p>an interface for reading a value from the input.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-writer" class="anchored"><a href="#type-writer" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a writer</span></span></code></div><div class="spec-doc"><p>an interface for writing a value to the output.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-digest" class="anchored"><a href="#type-digest" class="anchor"></a><code><span><span class="keyword">type</span> digest</span></code></div><div class="spec-doc"><p>a string that digests data</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_shape_digest" class="anchored"><a href="#val-bin_shape_digest" class="anchor"></a><code><span><span class="keyword">val</span> bin_shape_digest : <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Shape.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_size_digest" class="anchored"><a href="#val-bin_size_digest" class="anchor"></a><code><span><span class="keyword">val</span> bin_size_digest : <span><a href="#type-digest">digest</a> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Size.sizer</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_write_digest" class="anchored"><a href="#val-bin_write_digest" class="anchor"></a><code><span><span class="keyword">val</span> bin_write_digest : <span><a href="#type-digest">digest</a> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Write.writer</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_writer_digest" class="anchored"><a href="#val-bin_writer_digest" class="anchor"></a><code><span><span class="keyword">val</span> bin_writer_digest : <span><a href="#type-digest">digest</a> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Type_class.writer</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_read_digest" class="anchored"><a href="#val-bin_read_digest" class="anchor"></a><code><span><span class="keyword">val</span> bin_read_digest : <span><a href="#type-digest">digest</a> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Read.reader</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-__bin_read_digest__" class="anchored"><a href="#val-__bin_read_digest__" class="anchor"></a><code><span><span class="keyword">val</span> __bin_read_digest__ : <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-digest">digest</a>)</span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Read.reader</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_reader_digest" class="anchored"><a href="#val-bin_reader_digest" class="anchor"></a><code><span><span class="keyword">val</span> bin_reader_digest : <span><a href="#type-digest">digest</a> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Type_class.reader</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_digest" class="anchored"><a href="#val-bin_digest" class="anchor"></a><code><span><span class="keyword">val</span> bin_digest : <span><a href="#type-digest">digest</a> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Type_class.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_digest" class="anchored"><a href="#val-compare_digest" class="anchor"></a><code><span><span class="keyword">val</span> compare_digest : <span><a href="#type-digest">digest</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-digest">digest</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_digest" class="anchored"><a href="#val-sexp_of_digest" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_digest : <span><a href="#type-digest">digest</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_sexp_conv_lib</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-digest_of_sexp" class="anchored"><a href="#val-digest_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> digest_of_sexp : <span><span class="xref-unresolved">Ppx_sexp_conv_lib</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-digest">digest</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-printer" class="anchored"><a href="#type-printer" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a printer</span></span><span> = <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>'a printer</code> constructs a printer type for arbitrary type <code>'a</code>.</p><p>A value of type <code>'a printer</code> is a function that is expected by the <code>%a</code> specifier of the <code>Format.printf</code> family of functions.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Printable" class="anchored"><a href="#module-Printable" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Printable/index.html">Printable</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Printable data structures.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Seq" class="anchored"><a href="#module-Seq" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Seq/index.html">Seq</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Lazy sequence.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-seq" class="anchored"><a href="#type-seq" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a seq</span></span><span> = <span><span class="type-var">'a</span> <a href="Seq/index.html#type-t">Seq.t</a></span></span></code></div><div class="spec-doc"><p>Abbreviation for <code>'a Sequence.t</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_shape_seq" class="anchored"><a href="#val-bin_shape_seq" class="anchor"></a><code><span><span class="keyword">val</span> bin_shape_seq : <span><span class="xref-unresolved">Core_kernel</span>.Bin_prot.Shape.t <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Shape.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_size_seq" class="anchored"><a href="#val-bin_size_seq" class="anchor"></a><code><span><span class="keyword">val</span> bin_size_seq : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Size.sizer</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-seq">seq</a></span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Size.sizer</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_write_seq" class="anchored"><a href="#val-bin_write_seq" class="anchor"></a><code><span><span class="keyword">val</span> bin_write_seq : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Write.writer</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-seq">seq</a></span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Write.writer</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_writer_seq" class="anchored"><a href="#val-bin_writer_seq" class="anchor"></a><code><span><span class="keyword">val</span> bin_writer_seq : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Type_class.writer</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-seq">seq</a></span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Type_class.writer</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_read_seq" class="anchored"><a href="#val-bin_read_seq" class="anchor"></a><code><span><span class="keyword">val</span> bin_read_seq : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Read.reader</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-seq">seq</a></span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Read.reader</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-__bin_read_seq__" class="anchored"><a href="#val-__bin_read_seq__" class="anchor"></a><code><span><span class="keyword">val</span> __bin_read_seq__ : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Read.reader</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-seq">seq</a></span>)</span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Read.reader</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_reader_seq" class="anchored"><a href="#val-bin_reader_seq" class="anchor"></a><code><span><span class="keyword">val</span> bin_reader_seq : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Type_class.reader</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-seq">seq</a></span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Type_class.reader</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bin_seq" class="anchored"><a href="#val-bin_seq" class="anchor"></a><code><span><span class="keyword">val</span> bin_seq : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Type_class.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-seq">seq</a></span> <span class="xref-unresolved">Core_kernel</span>.Bin_prot.Type_class.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_seq" class="anchored"><a href="#val-compare_seq" class="anchor"></a><code><span><span class="keyword">val</span> compare_seq : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-seq">seq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-seq">seq</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sexp_of_seq" class="anchored"><a href="#val-sexp_of_seq" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_seq : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_sexp_conv_lib</span>.Sexp.t)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-seq">seq</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_sexp_conv_lib</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-seq_of_sexp" class="anchored"><a href="#val-seq_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> seq_of_sexp : <span><span>(<span><span class="xref-unresolved">Ppx_sexp_conv_lib</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Ppx_sexp_conv_lib</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-seq">seq</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(^::)" class="anchored"><a href="#val-(^::)" class="anchor"></a><code><span><span class="keyword">val</span> (^::) : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-seq">seq</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-seq">seq</a></span></span></code></div><div class="spec-doc"><p><code>x ^:: xs</code> is a consing operator for sequences</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Data" class="anchored"><a href="#module-Data" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Data/index.html">Data</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Data types support module.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Regular" class="anchored"><a href="#module-Regular" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Regular/index.html">Regular</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Regular types models a general concept of value, i.e., something that can be used in way similar to regular <code>int</code>, <code>string</code>, <code>char</code> and other built in types. So that it can be compared, used in maps, sets, hashtables, printer, etc.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Opaque" class="anchored"><a href="#module-Opaque" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Opaque/index.html">Opaque</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Opaque type is like regular type, except that we can print or examine it in any way. So it can't be serialized or pretty-printed. An <a href="Opaque/Make/index.html"><code>Opaque.Make</code></a> can create an instances of such type.</p></div></div><div class="odoc-spec"><div class="spec module" id="module-Bytes" class="anchored"><a href="#module-Bytes" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Bytes/index.html">Bytes</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Extension of the standard bytes module.</p></div></div></div></body></html>