<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CPU (bap-arm.Arm_lifter.CPU)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">bap-arm</a> &#x00BB; <a href="../index.html">Arm_lifter</a> &#x00BB; CPU</nav><header class="odoc-preamble"><h1>Module <code><span>Arm_lifter.CPU</span></code></h1></header><div class="odoc-content"><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="keyword">module</span> <span class="keyword">type</span> <span class="keyword">of</span> <a href="../../Arm_env/index.html">Arm_env</a></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-spsr" class="anchored"><a href="#val-spsr" class="anchor"></a><code><span><span class="keyword">val</span> spsr : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p><code>spsr</code> Saved Processor Status Register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cpsr" class="anchored"><a href="#val-cpsr" class="anchor"></a><code><span><span class="keyword">val</span> cpsr : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p><code>cpsr</code> Current Processor Status Register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-qf" class="anchored"><a href="#val-qf" class="anchor"></a><code><span><span class="keyword">val</span> qf : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p><code>qf</code> underflow (saturation) Flag</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ge" class="anchored"><a href="#val-ge" class="anchor"></a><code><span><span class="keyword">val</span> ge : <span><a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a> array</span></span></code></div><div class="spec-doc"><p><code>ge</code> array of general registers</p></div></div><div class="odoc-spec"><div class="spec value" id="val-itstate" class="anchored"><a href="#val-itstate" class="anchor"></a><code><span><span class="keyword">val</span> itstate : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p><code>itstate</code> ITSTATE register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-lr" class="anchored"><a href="#val-lr" class="anchor"></a><code><span><span class="keyword">val</span> lr : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p><code>lr</code> Link Register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pc" class="anchored"><a href="#val-pc" class="anchor"></a><code><span><span class="keyword">val</span> pc : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p><code>pc</code> Program Counter</p></div></div><div class="odoc-spec"><div class="spec value" id="val-r0" class="anchored"><a href="#val-r0" class="anchor"></a><code><span><span class="keyword">val</span> r0 : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>general purpose register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-r1" class="anchored"><a href="#val-r1" class="anchor"></a><code><span><span class="keyword">val</span> r1 : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>general purpose register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-r2" class="anchored"><a href="#val-r2" class="anchor"></a><code><span><span class="keyword">val</span> r2 : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>general purpose register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-r3" class="anchored"><a href="#val-r3" class="anchor"></a><code><span><span class="keyword">val</span> r3 : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>general purpose register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-r4" class="anchored"><a href="#val-r4" class="anchor"></a><code><span><span class="keyword">val</span> r4 : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>general purpose register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-r5" class="anchored"><a href="#val-r5" class="anchor"></a><code><span><span class="keyword">val</span> r5 : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>general purpose register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-r6" class="anchored"><a href="#val-r6" class="anchor"></a><code><span><span class="keyword">val</span> r6 : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>general purpose register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-r7" class="anchored"><a href="#val-r7" class="anchor"></a><code><span><span class="keyword">val</span> r7 : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>general purpose register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-r8" class="anchored"><a href="#val-r8" class="anchor"></a><code><span><span class="keyword">val</span> r8 : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>general purpose register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-r9" class="anchored"><a href="#val-r9" class="anchor"></a><code><span><span class="keyword">val</span> r9 : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>general purpose register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-r10" class="anchored"><a href="#val-r10" class="anchor"></a><code><span><span class="keyword">val</span> r10 : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>general purpose register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-r11" class="anchored"><a href="#val-r11" class="anchor"></a><code><span><span class="keyword">val</span> r11 : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>general purpose register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-r12" class="anchored"><a href="#val-r12" class="anchor"></a><code><span><span class="keyword">val</span> r12 : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>general purpose register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-of_reg" class="anchored"><a href="#val-of_reg" class="anchor"></a><code><span><span class="keyword">val</span> of_reg : <span><a href="../../Arm_types/index.html#type-reg">Arm_types.reg</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p><code>of_reg arm_reg</code> lifts arm register into BIL variable</p></div></div><div class="odoc-spec"><div class="spec value" id="val-new_var" class="anchored"><a href="#val-new_var" class="anchor"></a><code><span><span class="keyword">val</span> new_var : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p><code>new_var name</code> creates a freshly new variable prefixed with <code>name</code></p></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../../bap/Bap/Std/module-type-CPU/index.html">Bap.Std.CPU</a></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-gpr" class="anchored"><a href="#val-gpr" class="anchor"></a><code><span><span class="keyword">val</span> gpr : <a href="../../../bap/Bap/Std/Var/Set/index.html#type-t">Bap.Std.Var.Set.t</a></span></code></div><div class="spec-doc"><p>A set of general purpose registers</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mem" class="anchored"><a href="#val-mem" class="anchor"></a><code><span><span class="keyword">val</span> mem : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>Memory</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sp" class="anchored"><a href="#val-sp" class="anchor"></a><code><span><span class="keyword">val</span> sp : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>Stack pointer</p></div></div><h5 id="flag-registers"><a href="#flag-registers" class="anchor"></a>Flag registers</h5><div class="odoc-spec"><div class="spec value" id="val-zf" class="anchored"><a href="#val-zf" class="anchor"></a><code><span><span class="keyword">val</span> zf : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>zero flag</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cf" class="anchored"><a href="#val-cf" class="anchor"></a><code><span><span class="keyword">val</span> cf : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>carry flag</p></div></div><div class="odoc-spec"><div class="spec value" id="val-vf" class="anchored"><a href="#val-vf" class="anchor"></a><code><span><span class="keyword">val</span> vf : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>overflow flag</p></div></div><div class="odoc-spec"><div class="spec value" id="val-nf" class="anchored"><a href="#val-nf" class="anchor"></a><code><span><span class="keyword">val</span> nf : <a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a></span></code></div><div class="spec-doc"><p>negative flag</p></div></div><h4 id="predicates"><a href="#predicates" class="anchor"></a>Predicates</h4><div class="odoc-spec"><div class="spec value" id="val-is_reg" class="anchored"><a href="#val-is_reg" class="anchor"></a><code><span><span class="keyword">val</span> is_reg : <span><a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_reg var</code> true if <code>var</code> is a processor register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_flag" class="anchored"><a href="#val-is_flag" class="anchor"></a><code><span><span class="keyword">val</span> is_flag : <span><a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_flag reg</code> is true if <code>reg</code> is a flag register</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_sp" class="anchored"><a href="#val-is_sp" class="anchor"></a><code><span><span class="keyword">val</span> is_sp : <span><a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_sp x = Var.same x sp</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_bp" class="anchored"><a href="#val-is_bp" class="anchor"></a><code><span><span class="keyword">val</span> is_bp : <span><a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_bp x</code> is true if <code>x</code> can be possibly used as a base pointer register.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_zf" class="anchored"><a href="#val-is_zf" class="anchor"></a><code><span><span class="keyword">val</span> is_zf : <span><a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_zf x = Var.same x zf</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_cf" class="anchored"><a href="#val-is_cf" class="anchor"></a><code><span><span class="keyword">val</span> is_cf : <span><a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_cf x = Var.same x cf</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_vf" class="anchored"><a href="#val-is_vf" class="anchor"></a><code><span><span class="keyword">val</span> is_vf : <span><a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_vf x = Var.same x vf</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_nf" class="anchored"><a href="#val-is_nf" class="anchor"></a><code><span><span class="keyword">val</span> is_nf : <span><a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_nf x = Var.same x nf</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_mem" class="anchored"><a href="#val-is_mem" class="anchor"></a><code><span><span class="keyword">val</span> is_mem : <span><a href="../../../bap/Bap/Std/index.html#type-var">Bap.Std.var</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_mem x = Var.same x mem</code></p></div></div></details></div></div></body></html>