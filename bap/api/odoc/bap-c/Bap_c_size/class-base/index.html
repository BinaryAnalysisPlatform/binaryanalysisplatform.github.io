<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>base (bap-c.Bap_c_size.base)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">bap-c</a> &#x00BB; <a href="../index.html">Bap_c_size</a> &#x00BB; base</nav><header class="odoc-preamble"><h1>Class <code><span>Bap_c_size.base</span></code></h1><p>Base class for computing size of C data types. The algorithm is implemented as a class to allow a particular implementation to fine tune the calculation. We need here an open recursion, since type is inherently recursive.</p><p>The entry method is the <code>bits</code> method.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec method" id="method-bits" class="anchored"><a href="#method-bits" class="anchor"></a><code><span><span class="keyword">method</span> bits : <span><a href="../../Bap_c_type/index.html#type-t">Bap_c_type.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-bits">bits</a> option</span></span></code></div><div class="spec-doc"><p>returns a size of the data type representation if type definition is complete. Otherwise <code>None</code> is returned. The size is computed with respect to padding and alignment restructions.</p></div></div><div class="odoc-spec"><div class="spec method" id="method-alignment" class="anchored"><a href="#method-alignment" class="anchor"></a><code><span><span class="keyword">method</span> alignment : <span><a href="../../Bap_c_type/index.html#type-t">Bap_c_type.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../bap/Bap/Std/index.html#type-size">Bap.Std.size</a></span></code></div><div class="spec-doc"><p><code>alignment t</code> calculates an alignment restriction for data type <code>t</code>. The default alignment rules are the following:</p><ul><li>if type is scalar then the alignment is <code>sizeof(t)</code>;</li><li>if type is <code>elt[]</code> then the alignment is <code>sizeof(elt)</code>;</li><li>if type is structure or union, the the alignment of is the maximum alignment of a field;</li><li>if type is function, then alignment is equal to sizeof pointer</li><li>if type is void then alignment is 8 bits.</li></ul></div></div><div class="odoc-spec"><div class="spec method" id="method-padding" class="anchored"><a href="#method-padding" class="anchor"></a><code><span><span class="keyword">method</span> padding : <span><a href="../../Bap_c_type/index.html#type-t">Bap_c_type.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-bits">bits</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../bap/Bap/Std/index.html#type-size">Bap.Std.size</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec method" id="method-array" class="anchored"><a href="#method-array" class="anchor"></a><code><span><span class="keyword">method</span> array : <span><span><span>( <span><a href="../../Bap_c_type/index.html#type-cvr">Bap_c_type.cvr</a> <a href="../../Bap_c_type/index.html#type-qualifier">Bap_c_type.qualifier</a></span>, <a href="../../Bap_c_type/index.html#type-array">Bap_c_type.array</a> )</span>
                 <a href="../../Bap_c_type/index.html#type-spec">Bap_c_type.spec</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-bits">bits</a> option</span></span></code></div><div class="spec-doc"><p><code>array spec</code> if array <code>spec</code> is complete, then returns a product of the bitwidth of array size and array's element type, otherwise returns <code>None</code></p></div></div><div class="odoc-spec"><div class="spec method" id="method-union" class="anchored"><a href="#method-union" class="anchor"></a><code><span><span class="keyword">method</span> union : <span><span><span>( <a href="../../Bap_c_type/index.html#type-no_qualifier">Bap_c_type.no_qualifier</a>, <a href="../../Bap_c_type/index.html#type-compound">Bap_c_type.compound</a> )</span> <a href="../../Bap_c_type/index.html#type-spec">Bap_c_type.spec</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-bits">bits</a> option</span></span></code></div><div class="spec-doc"><p>if spec is complete then returns a size of the biggest element, including padding</p></div></div><div class="odoc-spec"><div class="spec method" id="method-structure" class="anchored"><a href="#method-structure" class="anchor"></a><code><span><span class="keyword">method</span> structure : <span><span><span>( <a href="../../Bap_c_type/index.html#type-no_qualifier">Bap_c_type.no_qualifier</a>, <a href="../../Bap_c_type/index.html#type-compound">Bap_c_type.compound</a> )</span>
                     <a href="../../Bap_c_type/index.html#type-spec">Bap_c_type.spec</a></span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../index.html#type-bits">bits</a> option</span></span></code></div><div class="spec-doc"><p>if spec is complete then returns a total size of the structure, including padding.</p></div></div><div class="odoc-spec"><div class="spec method" id="method-integer" class="anchored"><a href="#method-integer" class="anchor"></a><code><span><span class="keyword">method</span> integer : <span><a href="../../Bap_c_type/index.html#type-integer">Bap_c_type.integer</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../bap/Bap/Std/index.html#type-size">Bap.Std.size</a></span></code></div></div><div class="odoc-spec"><div class="spec method" id="method-pointer" class="anchored"><a href="#method-pointer" class="anchor"></a><code><span><span class="keyword">method</span> pointer : <a href="../../../bap/Bap/Std/index.html#type-addr_size">Bap.Std.addr_size</a></span></code></div></div><div class="odoc-spec"><div class="spec method" id="method-enum" class="anchored"><a href="#method-enum" class="anchor"></a><code><span><span class="keyword">method</span> enum : <span><span><span>(string * <span>int64 option</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="../../../bap/Bap/Std/index.html#type-size">Bap.Std.size</a></span></code></div></div><div class="odoc-spec"><div class="spec method" id="method-real" class="anchored"><a href="#method-real" class="anchor"></a><code><span><span class="keyword">method</span> real : <span><a href="../../Bap_c_type/index.html#type-real">Bap_c_type.real</a> <span class="arrow">&#45;&gt;</span></span> <span>[ `r32 <span>| `r64</span> <span>| `r128</span> ]</span></span></code></div></div><div class="odoc-spec"><div class="spec method" id="method-complex" class="anchored"><a href="#method-complex" class="anchor"></a><code><span><span class="keyword">method</span> complex : <span><a href="../../Bap_c_type/index.html#type-complex">Bap_c_type.complex</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../bap/Bap/Std/index.html#type-size">Bap.Std.size</a></span></code></div></div><div class="odoc-spec"><div class="spec method" id="method-floating" class="anchored"><a href="#method-floating" class="anchor"></a><code><span><span class="keyword">method</span> floating : <span><a href="../../Bap_c_type/index.html#type-floating">Bap_c_type.floating</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../bap/Bap/Std/index.html#type-size">Bap.Std.size</a></span></code></div></div><div class="odoc-spec"><div class="spec method" id="method-basic" class="anchored"><a href="#method-basic" class="anchor"></a><code><span><span class="keyword">method</span> basic : <span><a href="../../Bap_c_type/index.html#type-basic">Bap_c_type.basic</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../bap/Bap/Std/index.html#type-size">Bap.Std.size</a></span></code></div></div><div class="odoc-spec"><div class="spec method" id="method-scalar" class="anchored"><a href="#method-scalar" class="anchor"></a><code><span><span class="keyword">method</span> scalar : <span><a href="../../Bap_c_type/index.html#type-scalar">Bap_c_type.scalar</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../bap/Bap/Std/index.html#type-size">Bap.Std.size</a></span></code></div></div></div></body></html>