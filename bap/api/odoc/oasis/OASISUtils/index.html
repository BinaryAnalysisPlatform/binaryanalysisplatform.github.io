<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OASISUtils (oasis.OASISUtils)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">oasis</a> &#x00BB; OASISUtils</nav><h1>Module <code>OASISUtils</code></h1><p>Various utilities</p><dl><dt>author</dt><dd>Sylvain Le Gall</dd></dl><nav class="toc"><ul><li><a href="#map">Map</a></li><li><a href="#set">Set</a></li><li><a href="#hashtable">Hashtable</a></li><li><a href="#variable-name">Variable name</a></li><li><a href="#fail-with-printf.sprintf">Fail with Printf.sprintf</a></li><li><a href="#string">String</a></li><li><a href="#options">Options</a></li></ul></nav></header><section><header><h3 id="map"><a href="#map" class="anchor"></a>Map</h3></header><div class="spec module" id="module-MapExt"><a href="#module-MapExt" class="anchor"></a><code><span class="keyword">module</span> <a href="MapExt/index.html">MapExt</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-MapString"><a href="#module-MapString" class="anchor"></a><code><span class="keyword">module</span> <a href="MapString/index.html">MapString</a> : <a href="MapExt/index.html#module-type-S">MapExt.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="MapExt/module-type-S/index.html#type-key">key</a> = <a href="../../ocaml/Stdlib/String/index.html#type-t">Stdlib.String.t</a></code></div></section><section><header><h3 id="set"><a href="#set" class="anchor"></a>Set</h3></header><div class="spec module" id="module-SetExt"><a href="#module-SetExt" class="anchor"></a><code><span class="keyword">module</span> <a href="SetExt/index.html">SetExt</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec module" id="module-SetString"><a href="#module-SetString" class="anchor"></a><code><span class="keyword">module</span> <a href="SetString/index.html">SetString</a> : <a href="SetExt/index.html#module-type-S">SetExt.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="SetExt/module-type-S/index.html#type-elt">elt</a> = <a href="../../ocaml/Stdlib/String/index.html#type-t">Stdlib.String.t</a></code></dt><dd><p>Set for String.</p></dd></dl><dl><dt class="spec module" id="module-SetStringCsl"><a href="#module-SetStringCsl" class="anchor"></a><code><span class="keyword">module</span> <a href="SetStringCsl/index.html">SetStringCsl</a> : <a href="SetExt/index.html#module-type-S">SetExt.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="SetExt/module-type-S/index.html#type-elt">elt</a> = <a href="../../ocaml/Stdlib/String/index.html#type-t">Stdlib.String.t</a></code></dt><dd><p>Set for String.</p></dd></dl></section><section><header><h3 id="hashtable"><a href="#hashtable" class="anchor"></a>Hashtable</h3></header><dl><dt class="spec module" id="module-HashStringCsl"><a href="#module-HashStringCsl" class="anchor"></a><code><span class="keyword">module</span> <a href="HashStringCsl/index.html">HashStringCsl</a> : <a href="../../ocaml/Stdlib/Hashtbl/index.html#module-type-S">Stdlib.Hashtbl.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../ocaml/Stdlib/Hashtbl/module-type-S/index.html#type-key">key</a> = <a href="../../ocaml/Stdlib/String/index.html#type-t">Stdlib.String.t</a></code></dt><dd><p>Caseless string hashtable</p></dd></dl></section><section><header><h3 id="variable-name"><a href="#variable-name" class="anchor"></a>Variable name</h3></header><dl><dt class="spec value" id="val-varname_of_string"><a href="#val-varname_of_string" class="anchor"></a><code><span class="keyword">val</span> varname_of_string : ?&#8288;hyphen:char <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p><code>varname_of_string ~hyphen:c s</code> Transform a string <code>s</code> into a variable name, following this convention: no digit at the beginning, lowercase, only a-z and 0-9 chars. Whenever there is a problem, use an hyphen.</p></dd></dl><dl><dt class="spec value" id="val-varname_concat"><a href="#val-varname_concat" class="anchor"></a><code><span class="keyword">val</span> varname_concat : ?&#8288;hyphen:char <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string</code></dt><dd><p><code>varname_concat ~hyphen p s</code> Concat variable name, removing hyphen at end of <code>p</code> and at beginning of <code>s</code>.</p></dd></dl><dl><dt class="spec value" id="val-is_varname"><a href="#val-is_varname" class="anchor"></a><code><span class="keyword">val</span> is_varname : string <span>&#45;&gt;</span> bool</code></dt><dd><p><code>is_varname str</code> Check that the string <code>str</code> is a valid varname. See <a href="index.html#val-varname_of_string"><code>varname_of_string</code></a> for definition.</p></dd></dl></section><section><header><h3 id="fail-with-printf.sprintf"><a href="#fail-with-printf.sprintf" class="anchor"></a>Fail with Printf.sprintf</h3></header><dl><dt class="spec value" id="val-failwithf"><a href="#val-failwithf" class="anchor"></a><code><span class="keyword">val</span> failwithf : (<span class="type-var">'a</span>, unit, string, <span class="type-var">'b</span>) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>This function raises the <code>Failure</code> exception just as <code>failwith</code> except that one specifies the string raised through a format string.</p><p>Example: <code>failwithf &quot;Cannot do %s because of %d&quot; str i</code></p></dd></dl><dl><dt class="spec value" id="val-file_location"><a href="#val-file_location" class="anchor"></a><code><span class="keyword">val</span> file_location : ?&#8288;pos1:<a href="../../ocaml/Stdlib/Lexing/index.html#type-position">Stdlib.Lexing.position</a> <span>&#45;&gt;</span> ?&#8288;pos2:<a href="../../ocaml/Stdlib/Lexing/index.html#type-position">Stdlib.Lexing.position</a> <span>&#45;&gt;</span> ?&#8288;lexbuf:<a href="../../ocaml/Stdlib/Lexing/index.html#type-lexbuf">Stdlib.Lexing.lexbuf</a> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> string</code></dt><dd><p>This function returns a string describing a position in a file, to locate an error. The format of the string is compatible with OCaml compilation location format.</p></dd></dl><dl><dt class="spec value" id="val-failwithpf"><a href="#val-failwithpf" class="anchor"></a><code><span class="keyword">val</span> failwithpf : ?&#8288;pos1:<a href="../../ocaml/Stdlib/Lexing/index.html#type-position">Stdlib.Lexing.position</a> <span>&#45;&gt;</span> ?&#8288;pos2:<a href="../../ocaml/Stdlib/Lexing/index.html#type-position">Stdlib.Lexing.position</a> <span>&#45;&gt;</span> ?&#8288;lexbuf:<a href="../../ocaml/Stdlib/Lexing/index.html#type-lexbuf">Stdlib.Lexing.lexbuf</a> <span>&#45;&gt;</span> (<span class="type-var">'a</span>, unit, string, <span class="type-var">'b</span>) <a href="../../ocaml/Stdlib/index.html#type-format4">Stdlib.format4</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>This function raises the <code>Failure</code> exception just as <code>failwith</code> except that one specifies the string raised through a format string and locate the error using <code>lexbuf</code> in the source file.</p><p>Example: <code>failwithpf lexbuf &quot;Cannot do %s because of %d&quot; str i</code></p></dd></dl></section><section><header><h3 id="string"><a href="#string" class="anchor"></a>String</h3></header><dl><dt class="spec value" id="val-compare_csl"><a href="#val-compare_csl" class="anchor"></a><code><span class="keyword">val</span> compare_csl : string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> int</code></dt><dd><p>Caseless compare function</p></dd></dl></section><section><header><h3 id="options"><a href="#options" class="anchor"></a>Options</h3></header><dl><dt class="spec value" id="val-may"><a href="#val-may" class="anchor"></a><code><span class="keyword">val</span> may : (<span class="type-var">'a</span> <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <span class="type-var">'a</span> option <span>&#45;&gt;</span> unit</code></dt><dd><p><code>may f (Some x)</code> calls <code>f x</code> or do nothing.</p></dd></dl><div class="spec module" id="module-POSIXShell"><a href="#module-POSIXShell" class="anchor"></a><code><span class="keyword">module</span> <a href="POSIXShell/index.html">POSIXShell</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section></div></body></html>