<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OASISExpr (oasis.OASISExpr)</title><link rel="stylesheet" href="../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">oasis</a> &#x00BB; OASISExpr</nav><h1>Module <code>OASISExpr</code></h1><p>Boolean expressions</p><p>This module provides a boolean expression evaluator. See OASIS manual for the precise syntax of the boolean expression</p><dl><dt>author</dt><dd>Sylvain Le Gall</dd></dl><dl><dt>see <a href="http://oasis.forge.ocamlcore.org/MANUAL.html#conditional-value">http://oasis.forge.ocamlcore.org/MANUAL.html#conditional-value</a></dt><dd><p>OASIS Manual</p></dd></dl><nav class="toc"><ul><li><a href="#test">Test</a></li><li><a href="#expression">Expression</a></li></ul></nav></header><section><header><h3 id="test"><a href="#test" class="anchor"></a>Test</h3></header><dl><dt class="spec type" id="type-test"><a href="#type-test" class="anchor"></a><code><span class="keyword">type</span> test</code></dt><dd><p>Test definition.</p></dd></dl><dl><dt class="spec value" id="val-tests"><a href="#val-tests" class="anchor"></a><code><span class="keyword">val</span> tests : <a href="index.html#type-test">test</a> list</code></dt><dd><p>Mandatory tests.</p></dd></dl><dl><dt class="spec value" id="val-string_of_test"><a href="#val-string_of_test" class="anchor"></a><code><span class="keyword">val</span> string_of_test : <a href="index.html#type-test">test</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Convert a test to string.</p></dd></dl><dl><dt class="spec value" id="val-test_of_string"><a href="#val-test_of_string" class="anchor"></a><code><span class="keyword">val</span> test_of_string : string <span>&#45;&gt;</span> <a href="index.html#type-test">test</a></code></dt><dd><p>Convert a string to test.</p></dd></dl></section><section><header><h3 id="expression"><a href="#expression" class="anchor"></a>Expression</h3></header><dl><dt class="spec type" id="type-flag"><a href="#type-flag" class="anchor"></a><code><span class="keyword">type</span> flag</code><code> = string</code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><table class="variant"><tr id="type-t.EBool" class="anchored"><td class="def constructor"><a href="#type-t.EBool" class="anchor"></a><code>| </code><code><span class="constructor">EBool</span> <span class="keyword">of</span> bool</code></td><td class="doc"><p>true or false</p></td></tr><tr id="type-t.ENot" class="anchored"><td class="def constructor"><a href="#type-t.ENot" class="anchor"></a><code>| </code><code><span class="constructor">ENot</span> <span class="keyword">of</span> <a href="index.html#type-t">t</a></code></td><td class="doc"><p>! e</p></td></tr><tr id="type-t.EAnd" class="anchored"><td class="def constructor"><a href="#type-t.EAnd" class="anchor"></a><code>| </code><code><span class="constructor">EAnd</span> <span class="keyword">of</span> <a href="index.html#type-t">t</a> * <a href="index.html#type-t">t</a></code></td><td class="doc"><p>e1 &amp;&amp; e2</p></td></tr><tr id="type-t.EOr" class="anchored"><td class="def constructor"><a href="#type-t.EOr" class="anchor"></a><code>| </code><code><span class="constructor">EOr</span> <span class="keyword">of</span> <a href="index.html#type-t">t</a> * <a href="index.html#type-t">t</a></code></td><td class="doc"><p>e1 || e2</p></td></tr><tr id="type-t.EFlag" class="anchored"><td class="def constructor"><a href="#type-t.EFlag" class="anchor"></a><code>| </code><code><span class="constructor">EFlag</span> <span class="keyword">of</span> <a href="index.html#type-flag">flag</a></code></td><td class="doc"><p>flag(foo), a boolean value.</p></td></tr><tr id="type-t.ETest" class="anchored"><td class="def constructor"><a href="#type-t.ETest" class="anchor"></a><code>| </code><code><span class="constructor">ETest</span> <span class="keyword">of</span> <a href="index.html#type-test">test</a> * string</code></td><td class="doc"><p>os_type(Win32), a value compared to a string.</p></td></tr></table></dt><dd><p>Boolean expression definition.</p></dd></dl><dl><dt class="spec type" id="type-choices"><a href="#type-choices" class="anchor"></a><code><span class="keyword">type</span> 'a choices</code><code> = (<a href="index.html#type-t">t</a> * <span class="type-var">'a</span>) list</code></dt><dd><p>Choose among different values</p></dd></dl><dl><dt class="spec value" id="val-eval"><a href="#val-eval" class="anchor"></a><code><span class="keyword">val</span> eval : (string <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>eval eval_tst t</code> Evaluates the expression. Use <code>eval_tst</code> to get values of flags and tests.</p></dd></dl><dl><dt class="spec value" id="val-choose"><a href="#val-choose" class="anchor"></a><code><span class="keyword">val</span> choose : ?&#8288;printer:(<span class="type-var">'a</span> <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> ?&#8288;name:string <span>&#45;&gt;</span> (string <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-choices">choices</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>choose ~printer ~name eval_tst choices</code> Evaluate each conditions of <code>choices</code> and choose the last condition that evaluates to <code>true</code>. If something goes wrong, use <code>printer</code> to display values and <code>~name</code> as the choice list name.</p><p>See also <a href="index.html#val-eval"><code>eval</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-check"><a href="#val-check" class="anchor"></a><code><span class="keyword">val</span> check : <a href="index.html#type-flag">flag</a> list <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Check that a boolean expression only use available flags. <b>Not exported</b>.</p></dd></dl><dl><dt class="spec value" id="val-reduce"><a href="#val-reduce" class="anchor"></a><code><span class="keyword">val</span> reduce : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Try to reduce the size of a boolean expression. <b>Not exported</b>.</p></dd></dl><dl><dt class="spec value" id="val-reduce_choices"><a href="#val-reduce_choices" class="anchor"></a><code><span class="keyword">val</span> reduce_choices : <span class="type-var">'a</span> <a href="index.html#type-choices">choices</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-choices">choices</a></code></dt><dd><p>Try to reduce the size of a choice list. <b>Not exported</b>.</p></dd></dl><dl><dt class="spec value" id="val-if_then_else"><a href="#val-if_then_else" class="anchor"></a><code><span class="keyword">val</span> if_then_else : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-choices">choices</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-choices">choices</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-choices">choices</a></code></dt><dd><p><code>if_then_else cond choices_if choices_else</code> Combine choices, if_then_else style.</p></dd></dl><dl><dt class="spec value" id="val-odn_of_choices"><a href="#val-odn_of_choices" class="anchor"></a><code><span class="keyword">val</span> odn_of_choices : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../OASISDataNotation/index.html#type-t">OASISDataNotation.t</a>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-choices">choices</a> <span>&#45;&gt;</span> <a href="../OASISDataNotation/index.html#type-t">OASISDataNotation.t</a></code></dt><dd><p>Dump OASISDataNotation.t. <b>Not exported</b>.</p></dd></dl><dl><dt class="spec value" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span class="keyword">val</span> to_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Transform an expression into a string. <b>Not exported</b></p></dd></dl><dl><dt class="spec value" id="val-string_of_choices"><a href="#val-string_of_choices" class="anchor"></a><code><span class="keyword">val</span> string_of_choices : (<span class="type-var">'a</span> <span>&#45;&gt;</span> string) <span>&#45;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-choices">choices</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Transform a list of choice into a string. <b>Not exported</b></p></dd></dl></section></div></body></html>