<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Doubly_linked (core_kernel.Core_kernel.Doubly_linked)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">core_kernel</a> &#x00BB; <a href="../index.html">Core_kernel</a> &#x00BB; Doubly_linked</nav><h1>Module <code>Core_kernel.Doubly_linked</code></h1><p>Doubly-linked lists.</p><p>Compared to other doubly-linked lists, in this one:</p><p>1. Calls to modification functions (<code>insert*</code>, <code>move*</code>, ...) detect if the list is being iterated over (<code>iter</code>, <code>fold</code>, ...), and if so raise an exception. For example, a use like the following would raise:</p><pre><code class="ml">iter t ~f:(fun _ -&gt; ... remove t e ...)</code></pre><p>2. There is a designated &quot;front&quot; and &quot;back&quot; of each list, rather than viewing each element as an equal in a ring.</p><p>3. Elements know which list they're in. Each operation that takes an <code>Elt.t</code> also takes a <code>t</code>, first checks that the <code>Elt</code> belongs to the <code>t</code>, and if not, raises.</p><p>4. Related to (3), lists cannot be split, though a sort of splicing is available as <code>transfer</code>. In other words, no operation will cause one list to become two. This makes this module unsuitable for maintaining the faces of a planar graph under edge insertion and deletion, for example.</p><p>5. Another property permitted by (3) and (4) is that <code>length</code> is O(1).</p><nav class="toc"><ul><li><a href="#creating-doubly-linked-lists">Creating doubly-linked lists</a></li><li><a href="#predicates">Predicates</a></li><li><a href="#constant-time-extraction-of-first-and-last-elements">Constant-time extraction of first and last elements</a></li><li><a href="#constant-time-retrieval-of-next-or-previous-element">Constant-time retrieval of next or previous element</a></li><li><a href="#constant-time-insertion-of-a-new-element">Constant-time insertion of a new element</a></li><li><a href="#constant-time-move-of-an-element-from-and-to-positions-in-the-same-list">Constant-time move of an element from and to positions in the same list</a></li><li><a href="#constant-time-removal-of-an-element">Constant-time removal of an element</a></li></ul></nav></header><div class="spec module" id="module-Elt"><a href="#module-Elt" class="anchor"></a><code><span class="keyword">module</span> <a href="Elt/index.html">Elt</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code></dt></dl><div><div class="spec include"><div class="doc"><dl><dt class="spec value" id="val-t_of_sexp"><a href="#val-t_of_sexp" class="anchor"></a><code><span class="keyword">val</span> t_of_sexp : <span>(<a href="../../../sexplib0/Sexplib0/Sexp/index.html#type-t">Ppx_sexp_conv_lib.Sexp.t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <a href="../../../sexplib0/Sexplib0/Sexp/index.html#type-t">Ppx_sexp_conv_lib.Sexp.t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-sexp_of_t"><a href="#val-sexp_of_t" class="anchor"></a><code><span class="keyword">val</span> sexp_of_t : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../../../sexplib0/Sexplib0/Sexp/index.html#type-t">Ppx_sexp_conv_lib.Sexp.t</a>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../../../sexplib0/Sexplib0/Sexp/index.html#type-t">Ppx_sexp_conv_lib.Sexp.t</a></code></dt></dl></div></div></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../Container/index.html#module-type-S1">Container.S1</a> <span class="keyword">with</span> <span class="keyword">type</span> <span>'a <a href="../Container/module-type-S1/index.html#type-t">t</a></span> := <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code></dt></dl><dl><dt class="spec value" id="val-mem"><a href="#val-mem" class="anchor"></a><code><span class="keyword">val</span> mem : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span>equal:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Checks whether the provided element is there, using <code>equal</code>.</p></dd></dl><dl><dt class="spec value" id="val-length"><a href="#val-length" class="anchor"></a><code><span class="keyword">val</span> length : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-is_empty"><a href="#val-is_empty" class="anchor"></a><code><span class="keyword">val</span> is_empty : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val</span> iter : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> unit)</span></span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val</span> fold : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>init:<span class="type-var">'accum</span></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'accum</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'accum</span>)</span></span> <span>&#45;&gt;</span> <span class="type-var">'accum</span></code></dt><dd><p><code>fold t ~init ~f</code> returns <code>f (... f (f (f init e1) e2) e3 ...) en</code>, where <code>e1..en</code> are the elements of <code>t</code></p></dd></dl><dl><dt class="spec value" id="val-fold_result"><a href="#val-fold_result" class="anchor"></a><code><span class="keyword">val</span> fold_result : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>init:<span class="type-var">'accum</span></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'accum</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'accum</span>, <span class="type-var">'e</span>)</span> <a href="../../../base/Base/Result/index.html#type-t">Base.Result.t</a></span>)</span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'accum</span>, <span class="type-var">'e</span>)</span> <a href="../../../base/Base/Result/index.html#type-t">Base.Result.t</a></span></code></dt><dd><p><code>fold_result t ~init ~f</code> is a short-circuiting version of <code>fold</code> that runs in the <code>Result</code> monad. If <code>f</code> returns an <code>Error _</code>, that value is returned without any additional invocations of <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-fold_until"><a href="#val-fold_until" class="anchor"></a><code><span class="keyword">val</span> fold_until : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>init:<span class="type-var">'accum</span></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'accum</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'accum</span>, <span class="type-var">'final</span>)</span> <a href="../../../base/Base__/Container_intf/Export/Continue_or_stop/index.html#type-t">Base__.Container_intf.Continue_or_stop.t</a></span>)</span></span> <span>&#45;&gt;</span> <span>finish:<span>(<span class="type-var">'accum</span> <span>&#45;&gt;</span> <span class="type-var">'final</span>)</span></span> <span>&#45;&gt;</span> <span class="type-var">'final</span></code></dt><dd><p><code>fold_until t ~init ~f ~finish</code> is a short-circuiting version of <code>fold</code>. If <code>f</code> returns <code>Stop _</code> the computation ceases and results in that value. If <code>f</code> returns <code>Continue _</code>, the fold will proceed. If <code>f</code> never returns <code>Stop _</code>, the final result is computed by <code>finish</code>.</p></dd></dl><dl><dt class="spec value" id="val-exists"><a href="#val-exists" class="anchor"></a><code><span class="keyword">val</span> exists : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Returns <code>true</code> if and only if there exists an element for which the provided function evaluates to <code>true</code>. This is a short-circuiting operation.</p></dd></dl><dl><dt class="spec value" id="val-for_all"><a href="#val-for_all" class="anchor"></a><code><span class="keyword">val</span> for_all : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Returns <code>true</code> if and only if the provided function evaluates to <code>true</code> for all elements. This is a short-circuiting operation.</p></dd></dl><dl><dt class="spec value" id="val-count"><a href="#val-count" class="anchor"></a><code><span class="keyword">val</span> count : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> int</code></dt><dd><p>Returns the number of elements for which the provided function evaluates to true.</p></dd></dl><dl><dt class="spec value" id="val-sum"><a href="#val-sum" class="anchor"></a><code><span class="keyword">val</span> sum : <span>(<span class="keyword">module</span> <a href="../../../base/Base/Commutative_group/module-type-S/index.html">Base.Commutative_group.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../base/Base/Commutative_group/module-type-S/index.html#type-t">t</a> = <span class="type-var">'sum</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'sum</span>)</span></span> <span>&#45;&gt;</span> <span class="type-var">'sum</span></code></dt><dd><p>Returns the sum of <code>f i</code> for all <code>i</code> in the container.</p></dd></dl><dl><dt class="spec value" id="val-find"><a href="#val-find" class="anchor"></a><code><span class="keyword">val</span> find : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span></code></dt><dd><p>Returns as an <code>option</code> the first element for which <code>f</code> evaluates to true.</p></dd></dl><dl><dt class="spec value" id="val-find_map"><a href="#val-find_map" class="anchor"></a><code><span class="keyword">val</span> find_map : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> option</span>)</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> option</span></code></dt><dd><p>Returns the first evaluation of <code>f</code> that returns <code>Some</code>, and returns <code>None</code> if there is no such element.</p></dd></dl><dl><dt class="spec value" id="val-to_list"><a href="#val-to_list" class="anchor"></a><code><span class="keyword">val</span> to_list : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span></code></dt><dt class="spec value" id="val-to_array"><a href="#val-to_array" class="anchor"></a><code><span class="keyword">val</span> to_array : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> array</span></code></dt><dt class="spec value" id="val-min_elt"><a href="#val-min_elt" class="anchor"></a><code><span class="keyword">val</span> min_elt : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>compare:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> int)</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span></code></dt><dd><p>Returns a minimum (resp maximum) element from the collection using the provided <code>compare</code> function, or <code>None</code> if the collection is empty. In case of a tie, the first element encountered while traversing the collection is returned. The implementation uses <code>fold</code> so it has the same complexity as <code>fold</code>.</p></dd></dl><dl><dt class="spec value" id="val-max_elt"><a href="#val-max_elt" class="anchor"></a><code><span class="keyword">val</span> max_elt : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>compare:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> int)</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span></code></dt></dl></details></div></div></div><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> <a href="../../../base/Base/Invariant/index.html#module-type-S1">Core_kernel__.Import.Invariant.S1</a> <span class="keyword">with</span> <span class="keyword">type</span> <span>'a <a href="../../../base/Base/Invariant/module-type-S1/index.html#type-t">t</a></span> := <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code></dt></dl><dl><dt class="spec value" id="val-invariant"><a href="#val-invariant" class="anchor"></a><code><span class="keyword">val</span> invariant : <span><span class="type-var">'a</span> <a href="../../../base/Base__/Invariant_intf/index.html#type-inv">Base__.Invariant_intf.inv</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <a href="../../../base/Base__/Invariant_intf/index.html#type-inv">Base__.Invariant_intf.inv</a></span></code></dt></dl></details></div></div></div><section><header><h3 id="creating-doubly-linked-lists"><a href="#creating-doubly-linked-lists" class="anchor"></a>Creating doubly-linked lists</h3></header><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-of_list"><a href="#val-of_list" class="anchor"></a><code><span class="keyword">val</span> of_list : <span><span class="type-var">'a</span> <a href="../../Core_kernel__/Import/index.html#type-list">Core_kernel__.Import.list</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p><code>of_list l</code> returns a doubly-linked list <code>t</code> with the same elements as <code>l</code> and in the same order (i.e., the first element of <code>l</code> is the first element of <code>t</code>). It is always the case that <code>l = to_list (of_list l)</code>.</p></dd></dl><dl><dt class="spec value" id="val-of_array"><a href="#val-of_array" class="anchor"></a><code><span class="keyword">val</span> of_array : <span><span class="type-var">'a</span> <a href="../../Core_kernel__/Import/index.html#type-array">Core_kernel__.Import.array</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt></dl></section><section><header><h3 id="predicates"><a href="#predicates" class="anchor"></a>Predicates</h3></header><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-bool">Core_kernel__.Import.bool</a></code></dt><dd><p>pointer equality</p></dd></dl><dl><dt class="spec value" id="val-is_first"><a href="#val-is_first" class="anchor"></a><code><span class="keyword">val</span> is_first : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-bool">Core_kernel__.Import.bool</a></code></dt><dt class="spec value" id="val-is_last"><a href="#val-is_last" class="anchor"></a><code><span class="keyword">val</span> is_last : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-bool">Core_kernel__.Import.bool</a></code></dt><dt class="spec value" id="val-mem_elt"><a href="#val-mem_elt" class="anchor"></a><code><span class="keyword">val</span> mem_elt : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-bool">Core_kernel__.Import.bool</a></code></dt></dl></section><section><header><h3 id="constant-time-extraction-of-first-and-last-elements"><a href="#constant-time-extraction-of-first-and-last-elements" class="anchor"></a>Constant-time extraction of first and last elements</h3></header><dl><dt class="spec value" id="val-first_elt"><a href="#val-first_elt" class="anchor"></a><code><span class="keyword">val</span> first_elt : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <a href="../../Core_kernel__/Import/index.html#type-option">Core_kernel__.Import.option</a></span></code></dt><dt class="spec value" id="val-last_elt"><a href="#val-last_elt" class="anchor"></a><code><span class="keyword">val</span> last_elt : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <a href="../../Core_kernel__/Import/index.html#type-option">Core_kernel__.Import.option</a></span></code></dt><dt class="spec value" id="val-first"><a href="#val-first" class="anchor"></a><code><span class="keyword">val</span> first : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../Core_kernel__/Import/index.html#type-option">Core_kernel__.Import.option</a></span></code></dt><dt class="spec value" id="val-last"><a href="#val-last" class="anchor"></a><code><span class="keyword">val</span> last : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../Core_kernel__/Import/index.html#type-option">Core_kernel__.Import.option</a></span></code></dt></dl></section><section><header><h3 id="constant-time-retrieval-of-next-or-previous-element"><a href="#constant-time-retrieval-of-next-or-previous-element" class="anchor"></a>Constant-time retrieval of next or previous element</h3></header><dl><dt class="spec value" id="val-next"><a href="#val-next" class="anchor"></a><code><span class="keyword">val</span> next : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <a href="../../Core_kernel__/Import/index.html#type-option">Core_kernel__.Import.option</a></span></code></dt><dt class="spec value" id="val-prev"><a href="#val-prev" class="anchor"></a><code><span class="keyword">val</span> prev : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <a href="../../Core_kernel__/Import/index.html#type-option">Core_kernel__.Import.option</a></span></code></dt></dl></section><section><header><h3 id="constant-time-insertion-of-a-new-element"><a href="#constant-time-insertion-of-a-new-element" class="anchor"></a>Constant-time insertion of a new element</h3></header><dl><dt class="spec value" id="val-insert_before"><a href="#val-insert_before" class="anchor"></a><code><span class="keyword">val</span> insert_before : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span></code></dt><dt class="spec value" id="val-insert_after"><a href="#val-insert_after" class="anchor"></a><code><span class="keyword">val</span> insert_after : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span></code></dt><dt class="spec value" id="val-insert_first"><a href="#val-insert_first" class="anchor"></a><code><span class="keyword">val</span> insert_first : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span></code></dt><dt class="spec value" id="val-insert_last"><a href="#val-insert_last" class="anchor"></a><code><span class="keyword">val</span> insert_last : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span></code></dt></dl></section><section><header><h3 id="constant-time-move-of-an-element-from-and-to-positions-in-the-same-list"><a href="#constant-time-move-of-an-element-from-and-to-positions-in-the-same-list" class="anchor"></a>Constant-time move of an element from and to positions in the same list</h3><p>An exception is raised if <code>elt</code> is equal to <code>anchor</code>.</p></header><dl><dt class="spec value" id="val-move_to_front"><a href="#val-move_to_front" class="anchor"></a><code><span class="keyword">val</span> move_to_front : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a></code></dt><dt class="spec value" id="val-move_to_back"><a href="#val-move_to_back" class="anchor"></a><code><span class="keyword">val</span> move_to_back : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a></code></dt><dt class="spec value" id="val-move_after"><a href="#val-move_after" class="anchor"></a><code><span class="keyword">val</span> move_after : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <span>anchor:<span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a></code></dt><dt class="spec value" id="val-move_before"><a href="#val-move_before" class="anchor"></a><code><span class="keyword">val</span> move_before : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <span>anchor:<span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a></code></dt></dl></section><section><header><h3 id="constant-time-removal-of-an-element"><a href="#constant-time-removal-of-an-element" class="anchor"></a>Constant-time removal of an element</h3></header><dl><dt class="spec value" id="val-remove"><a href="#val-remove" class="anchor"></a><code><span class="keyword">val</span> remove : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a></code></dt><dt class="spec value" id="val-remove_first"><a href="#val-remove_first" class="anchor"></a><code><span class="keyword">val</span> remove_first : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../Core_kernel__/Import/index.html#type-option">Core_kernel__.Import.option</a></span></code></dt><dt class="spec value" id="val-remove_last"><a href="#val-remove_last" class="anchor"></a><code><span class="keyword">val</span> remove_last : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../Core_kernel__/Import/index.html#type-option">Core_kernel__.Import.option</a></span></code></dt><dt class="spec value" id="val-fold_elt"><a href="#val-fold_elt" class="anchor"></a><code><span class="keyword">val</span> fold_elt : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>init:<span class="type-var">'b</span></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span></span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dd><p><code>fold_elt t ~init ~f</code> is the same as fold, except <code>f</code> is called with the <code>'a Elt.t</code>'s from the list instead of the contained <code>'a</code> values.</p><p>Note that like other iteration functions, it is an error to mutate <code>t</code> inside the fold. If you'd like to call <code>remove</code> on any of the <code>'a Elt.t</code>'s, use <code>filter_inplace</code>.</p></dd></dl><dl><dt class="spec value" id="val-iter_elt"><a href="#val-iter_elt" class="anchor"></a><code><span class="keyword">val</span> iter_elt : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>f:<span>(<span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a>)</span></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a></code></dt><dt class="spec value" id="val-fold_right"><a href="#val-fold_right" class="anchor"></a><code><span class="keyword">val</span> fold_right : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>init:<span class="type-var">'b</span></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span></span> <span>&#45;&gt;</span> <span class="type-var">'b</span></code></dt><dt class="spec value" id="val-find_elt"><a href="#val-find_elt" class="anchor"></a><code><span class="keyword">val</span> find_elt : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-bool">Core_kernel__.Import.bool</a>)</span></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="Elt/index.html#type-t">Elt.t</a></span> <a href="../../Core_kernel__/Import/index.html#type-option">Core_kernel__.Import.option</a></span></code></dt><dd><p><code>find_elt t ~f</code> finds the first element in <code>t</code> that satisfies <code>f</code>, by testing each of element of <code>t</code> in turn until <code>f</code> succeeds.</p></dd></dl><dl><dt class="spec value" id="val-clear"><a href="#val-clear" class="anchor"></a><code><span class="keyword">val</span> clear : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a></code></dt><dd><p><code>clear t</code> removes all elements from the list in constant time.</p></dd></dl><dl><dt class="spec value" id="val-copy"><a href="#val-copy" class="anchor"></a><code><span class="keyword">val</span> copy : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-transfer"><a href="#val-transfer" class="anchor"></a><code><span class="keyword">val</span> transfer : <span>src:<span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <span>dst:<span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a></code></dt><dd><p><code>transfer ~src ~dst</code> has the same behavior as <code>iter src ~f:(insert_last dst); clear src</code> except that it runs in constant time.</p><p>If <code>s = to_list src</code> and <code>d = to_list dst</code>, then after <code>transfer ~src ~dst</code>:</p><p><code>to_list src = []</code></p><p><code>to_list dst = d @ s</code></p></dd></dl><dl><dt class="spec value" id="val-filter_inplace"><a href="#val-filter_inplace" class="anchor"></a><code><span class="keyword">val</span> filter_inplace : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-bool">Core_kernel__.Import.bool</a>)</span></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a></code></dt><dd><p><code>filter_inplace t ~f</code> removes all elements of <code>t</code> that don't satisfy <code>f</code>.</p></dd></dl><dl><dt class="spec value" id="val-unchecked_iter"><a href="#val-unchecked_iter" class="anchor"></a><code><span class="keyword">val</span> unchecked_iter : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a>)</span></span> <span>&#45;&gt;</span> <a href="../../Core_kernel__/Import/index.html#type-unit">Core_kernel__.Import.unit</a></code></dt><dd><p><code>unchecked_iter t ~f</code> behaves like <code>iter t ~f</code> except that <code>f</code> is allowed to modify <code>t</code>. Adding or removing elements before the element currently being visited has no effect on the traversal. Elements added after the element currently being visited will be traversed. Elements deleted after the element currently being visited will not be traversed. Deleting the element currently being visited is an error that is not detected (presumably leading to an infinite loop).</p></dd></dl><dl><dt class="spec value" id="val-to_sequence"><a href="#val-to_sequence" class="anchor"></a><code><span class="keyword">val</span> to_sequence : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../Sequence/index.html#type-t">Sequence.t</a></span></code></dt><dd><p>A sequence of values from the doubly-linked list. It makes an intermediate copy of the list so that the returned sequence is immune to any subsequent mutation of the original list.</p></dd></dl></section></div></body></html>