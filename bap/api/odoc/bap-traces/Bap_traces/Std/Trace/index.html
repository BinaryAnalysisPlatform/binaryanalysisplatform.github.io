<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Trace (bap-traces.Bap_traces.Std.Trace)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">bap-traces</a> &#x00BB; <a href="../../index.html">Bap_traces</a> &#x00BB; <a href="../index.html">Std</a> &#x00BB; Trace</nav><h1>Module <code>Std.Trace</code></h1><p>Trace is a stream of events plus meta data.</p><p>It can be viewed as an input channel. In fact, <code>Trace.t</code> is an abstract data type usually inhabited with codata, i.e., some entity with hidden state. The <code>Trace</code> may be an interface to a remote server, virtual machine or just a file. So treat the trace as something that works as an input channel.</p><p>Since it is worthwhile to know whether a particular event is not the trace because it didn't occur during program execution, but not because it wasn't detected by a trace tool or dropped by a given transport, we provide <code>supports</code> function, to query whether the given event type is really supported (and thus might occur) by a given trace.</p><p>The meta information is also represented using <code>value</code> type, and thus can contain virtually any data. Meta information is indexed with <code>tag</code> value. Unlike the events, that are codata, meta is a regular data, obtained from a trace source at the time of trace creation and is not changed magically in the trace lifetime.</p><nav class="toc"><ul><li><a href="#serialization">Serialization</a></li><li><a href="#creating">Creating</a></li><li><a href="#meta-attributes">Meta attributes</a></li><li><a href="#querying-data">Querying data</a></li><li><a href="#transformations">Transformations</a></li><li><a href="#extension-mechanism">Extension mechanism</a></li></ul></nav></header><dl><dt class="spec type" id="type-event"><a href="#type-event" class="anchor"></a><code><span class="keyword">type</span> event</code><code> = <a href="../../../../bap/Bap/Std/index.html#type-value">Bap.Std.value</a></code></dt></dl><div><div class="spec include"><div class="doc"><dl><dt class="spec value" id="val-bin_event"><a href="#val-bin_event" class="anchor"></a><code><span class="keyword">val</span> bin_event : <span><a href="index.html#type-event">event</a> <a href="../../../../bin_prot/Bin_prot/Type_class/index.html#type-t">Bin_prot.Type_class.t</a></span></code></dt><dt class="spec value" id="val-bin_read_event"><a href="#val-bin_read_event" class="anchor"></a><code><span class="keyword">val</span> bin_read_event : <span><a href="index.html#type-event">event</a> <a href="../../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></code></dt><dt class="spec value" id="val-__bin_read_event__"><a href="#val-__bin_read_event__" class="anchor"></a><code><span class="keyword">val</span> __bin_read_event__ : <span><span>(int <span>&#45;&gt;</span> <a href="index.html#type-event">event</a>)</span> <a href="../../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></code></dt><dt class="spec value" id="val-bin_reader_event"><a href="#val-bin_reader_event" class="anchor"></a><code><span class="keyword">val</span> bin_reader_event : <span><a href="index.html#type-event">event</a> <a href="../../../../bin_prot/Bin_prot/Type_class/index.html#type-reader">Bin_prot.Type_class.reader</a></span></code></dt><dt class="spec value" id="val-bin_size_event"><a href="#val-bin_size_event" class="anchor"></a><code><span class="keyword">val</span> bin_size_event : <span><a href="index.html#type-event">event</a> <a href="../../../../bin_prot/Bin_prot/Size/index.html#type-sizer">Bin_prot.Size.sizer</a></span></code></dt><dt class="spec value" id="val-bin_write_event"><a href="#val-bin_write_event" class="anchor"></a><code><span class="keyword">val</span> bin_write_event : <span><a href="index.html#type-event">event</a> <a href="../../../../bin_prot/Bin_prot/Write/index.html#type-writer">Bin_prot.Write.writer</a></span></code></dt><dt class="spec value" id="val-bin_writer_event"><a href="#val-bin_writer_event" class="anchor"></a><code><span class="keyword">val</span> bin_writer_event : <span><a href="index.html#type-event">event</a> <a href="../../../../bin_prot/Bin_prot/Type_class/index.html#type-writer">Bin_prot.Type_class.writer</a></span></code></dt><dt class="spec value" id="val-bin_shape_event"><a href="#val-bin_shape_event" class="anchor"></a><code><span class="keyword">val</span> bin_shape_event : <a href="../../../../bin_prot/Bin_prot/Shape/index.html#type-t">Bin_prot.Shape.t</a></code></dt><dt class="spec value" id="val-event_of_sexp"><a href="#val-event_of_sexp" class="anchor"></a><code><span class="keyword">val</span> event_of_sexp : <a href="../../../../sexplib0/Sexplib0/Sexp/index.html#type-t">Ppx_sexp_conv_lib.Sexp.t</a> <span>&#45;&gt;</span> <a href="index.html#type-event">event</a></code></dt><dt class="spec value" id="val-sexp_of_event"><a href="#val-sexp_of_event" class="anchor"></a><code><span class="keyword">val</span> sexp_of_event : <a href="index.html#type-event">event</a> <span>&#45;&gt;</span> <a href="../../../../sexplib0/Sexplib0/Sexp/index.html#type-t">Ppx_sexp_conv_lib.Sexp.t</a></code></dt><dt class="spec value" id="val-compare_event"><a href="#val-compare_event" class="anchor"></a><code><span class="keyword">val</span> compare_event : <a href="index.html#type-event">event</a> <span>&#45;&gt;</span> <a href="index.html#type-event">event</a> <span>&#45;&gt;</span> int</code></dt></dl></div></div></div><dl><dt class="spec type" id="type-monitor"><a href="#type-monitor" class="anchor"></a><code><span class="keyword">type</span> monitor</code></dt><dt class="spec type" id="type-proto"><a href="#type-proto" class="anchor"></a><code><span class="keyword">type</span> proto</code></dt><dt class="spec type" id="type-tool"><a href="#type-tool" class="anchor"></a><code><span class="keyword">type</span> tool</code></dt></dl><div><div class="spec include"><div class="doc"><dl><dt class="spec value" id="val-bin_tool"><a href="#val-bin_tool" class="anchor"></a><code><span class="keyword">val</span> bin_tool : <span><a href="index.html#type-tool">tool</a> <a href="../../../../bin_prot/Bin_prot/Type_class/index.html#type-t">Bin_prot.Type_class.t</a></span></code></dt><dt class="spec value" id="val-bin_read_tool"><a href="#val-bin_read_tool" class="anchor"></a><code><span class="keyword">val</span> bin_read_tool : <span><a href="index.html#type-tool">tool</a> <a href="../../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></code></dt><dt class="spec value" id="val-__bin_read_tool__"><a href="#val-__bin_read_tool__" class="anchor"></a><code><span class="keyword">val</span> __bin_read_tool__ : <span><span>(int <span>&#45;&gt;</span> <a href="index.html#type-tool">tool</a>)</span> <a href="../../../../bin_prot/Bin_prot/Read/index.html#type-reader">Bin_prot.Read.reader</a></span></code></dt><dt class="spec value" id="val-bin_reader_tool"><a href="#val-bin_reader_tool" class="anchor"></a><code><span class="keyword">val</span> bin_reader_tool : <span><a href="index.html#type-tool">tool</a> <a href="../../../../bin_prot/Bin_prot/Type_class/index.html#type-reader">Bin_prot.Type_class.reader</a></span></code></dt><dt class="spec value" id="val-bin_size_tool"><a href="#val-bin_size_tool" class="anchor"></a><code><span class="keyword">val</span> bin_size_tool : <span><a href="index.html#type-tool">tool</a> <a href="../../../../bin_prot/Bin_prot/Size/index.html#type-sizer">Bin_prot.Size.sizer</a></span></code></dt><dt class="spec value" id="val-bin_write_tool"><a href="#val-bin_write_tool" class="anchor"></a><code><span class="keyword">val</span> bin_write_tool : <span><a href="index.html#type-tool">tool</a> <a href="../../../../bin_prot/Bin_prot/Write/index.html#type-writer">Bin_prot.Write.writer</a></span></code></dt><dt class="spec value" id="val-bin_writer_tool"><a href="#val-bin_writer_tool" class="anchor"></a><code><span class="keyword">val</span> bin_writer_tool : <span><a href="index.html#type-tool">tool</a> <a href="../../../../bin_prot/Bin_prot/Type_class/index.html#type-writer">Bin_prot.Type_class.writer</a></span></code></dt><dt class="spec value" id="val-bin_shape_tool"><a href="#val-bin_shape_tool" class="anchor"></a><code><span class="keyword">val</span> bin_shape_tool : <a href="../../../../bin_prot/Bin_prot/Shape/index.html#type-t">Bin_prot.Shape.t</a></code></dt><dt class="spec value" id="val-tool_of_sexp"><a href="#val-tool_of_sexp" class="anchor"></a><code><span class="keyword">val</span> tool_of_sexp : <a href="../../../../sexplib0/Sexplib0/Sexp/index.html#type-t">Ppx_sexp_conv_lib.Sexp.t</a> <span>&#45;&gt;</span> <a href="index.html#type-tool">tool</a></code></dt><dt class="spec value" id="val-sexp_of_tool"><a href="#val-sexp_of_tool" class="anchor"></a><code><span class="keyword">val</span> sexp_of_tool : <a href="index.html#type-tool">tool</a> <span>&#45;&gt;</span> <a href="../../../../sexplib0/Sexplib0/Sexp/index.html#type-t">Ppx_sexp_conv_lib.Sexp.t</a></code></dt></dl></div></div></div><dl><dt class="spec type" id="type-id"><a href="#type-id" class="anchor"></a><code><span class="keyword">type</span> id</code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <a href="../index.html#type-trace">trace</a></code></dt><dt class="spec type" id="type-io_error"><a href="#type-io_error" class="anchor"></a><code><span class="keyword">type</span> io_error</code> = <code>[ </code><table class="variant"><tr id="type-io_error.Protocol_error" class="anchored"><td class="def constructor"><a href="#type-io_error.Protocol_error" class="anchor"></a><code>| </code><code>`Protocol_error <span class="keyword">of</span> <a href="../../../../core_kernel/Core_kernel/Error/index.html#type-t">Core_kernel.Error.t</a></code></td><td class="doc"><p>Data encoding problem</p></td></tr><tr id="type-io_error.System_error" class="anchored"><td class="def constructor"><a href="#type-io_error.System_error" class="anchor"></a><code>| </code><code>`System_error <span class="keyword">of</span> <a href="../../../../ocaml/Unix/index.html#type-error">Unix.error</a></code></td><td class="doc"><p>System error</p></td></tr></table><code> ]</code></dt><dt class="spec type" id="type-error"><a href="#type-error" class="anchor"></a><code><span class="keyword">type</span> error</code> = <code>[ </code><table class="variant"><tr id="type-error.io_error" class="anchored"><td class="def type"><a href="#type-error.io_error" class="anchor"></a><code>| </code><code><a href="index.html#type-io_error">io_error</a></code></td></tr><tr id="type-error.No_provider" class="anchored"><td class="def constructor"><a href="#type-error.No_provider" class="anchor"></a><code>| </code><code>`No_provider</code></td><td class="doc"><p>No provider for a given URI</p></td></tr><tr id="type-error.Ambiguous_uri" class="anchored"><td class="def constructor"><a href="#type-error.Ambiguous_uri" class="anchor"></a><code>| </code><code>`Ambiguous_uri</code></td><td class="doc"><p>More than one provider for a given URI</p></td></tr></table><code> ]</code></dt></dl><section><header><h3 id="serialization"><a href="#serialization" class="anchor"></a>Serialization</h3><p>Serialization is dispatched by an URI describing data source or destination. URI contains enough information to uniquely designate data format and transporting options.</p></header><dl><dt class="spec value" id="val-load"><a href="#val-load" class="anchor"></a><code><span class="keyword">val</span> load : <span>?&#8288;monitor:<a href="index.html#type-monitor">monitor</a></span> <span>&#45;&gt;</span> <a href="../../../../uri/Uri/index.html#type-t">Uri.t</a> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-t">t</a>,Â <a href="index.html#type-error">error</a>)</span> <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core_kernel.Result.t</a></span></code></dt><dd><p><code>load ~monitor uri</code> fetches trace from a provided <code>uri</code>. <code>monitor</code> is fail_on_error by default.</p></dd></dl><dl><dt class="spec value" id="val-save"><a href="#val-save" class="anchor"></a><code><span class="keyword">val</span> save : <a href="../../../../uri/Uri/index.html#type-t">Uri.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span>(unit,Â <a href="index.html#type-error">error</a>)</span> <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core_kernel.Result.t</a></span></code></dt><dd><p><code>save uri</code> pushes trace to a provided <code>uri</code></p></dd></dl></section><section><header><h3 id="creating"><a href="#creating" class="anchor"></a>Creating</h3></header><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : <span>?&#8288;monitor:<a href="index.html#type-monitor">monitor</a></span> <span>&#45;&gt;</span> <a href="index.html#type-tool">tool</a> <span>&#45;&gt;</span> <span>(unit <span>&#45;&gt;</span> <span><span><a href="index.html#type-event">event</a> <a href="../../../../core_kernel/Core_kernel/Or_error/index.html#type-t">Core_kernel.Or_error.t</a></span> option</span>)</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>create tool next</code> creates a new trace from the observer <code>next</code>.</p></dd></dl></section><section><header><h3 id="meta-attributes"><a href="#meta-attributes" class="anchor"></a>Meta attributes</h3><p>Meta information relates to the whole trace.</p></header><dl><dt class="spec value" id="val-id"><a href="#val-id" class="anchor"></a><code><span class="keyword">val</span> id : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-id">id</a></code></dt><dd><p>Trace global unique identifier.</p></dd></dl><dl><dt class="spec value" id="val-set_attr"><a href="#val-set_attr" class="anchor"></a><code><span class="keyword">val</span> set_attr : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../../../bap/Bap/Std/index.html#type-tag">Bap.Std.tag</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>set_attr trace attr value</code> updates <code>trace</code> meta attribute <code>attr</code> with a provided value.</p></dd></dl><dl><dt class="spec value" id="val-get_attr"><a href="#val-get_attr" class="anchor"></a><code><span class="keyword">val</span> get_attr : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../../../bap/Bap/Std/index.html#type-tag">Bap.Std.tag</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span></code></dt><dd><p><code>get_attr trace attr</code> retrieves a value of a given attribute <code>attr</code></p></dd></dl><dl><dt class="spec value" id="val-has_attr"><a href="#val-has_attr" class="anchor"></a><code><span class="keyword">val</span> has_attr : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../../../bap/Bap/Std/index.html#type-tag">Bap.Std.tag</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>has_attr trace attr</code> evaluates to <code>true</code> if <code>trace</code> has a given attribute <code>attr</code></p></dd></dl><dl><dt class="spec value" id="val-tool"><a href="#val-tool" class="anchor"></a><code><span class="keyword">val</span> tool : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-tool">tool</a></code></dt><dd><p><code>tool trace</code> returns a descriptor of a tool that was used to create the <code>trace</code>.</p></dd></dl><dl><dt class="spec value" id="val-meta"><a href="#val-meta" class="anchor"></a><code><span class="keyword">val</span> meta : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../../bap/Bap/Std/index.html#type-dict">Bap.Std.dict</a></code></dt><dd><p><code>meta trace</code> returns all <code>trace</code> attributes as a dictionary</p></dd></dl><dl><dt class="spec value" id="val-set_meta"><a href="#val-set_meta" class="anchor"></a><code><span class="keyword">val</span> set_meta : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../../../bap/Bap/Std/index.html#type-dict">Bap.Std.dict</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>set_meta trace meta</code> substitutes meta attributes of a <code>trace</code> with attributes taken from a dictionary <code>meta</code>.</p></dd></dl></section><section><header><h3 id="querying-data"><a href="#querying-data" class="anchor"></a>Querying data</h3></header><dl><dt class="spec value" id="val-supports"><a href="#val-supports" class="anchor"></a><code><span class="keyword">val</span> supports : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../../../bap/Bap/Std/index.html#type-tag">Bap.Std.tag</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p><code>supports trace feature</code> is <code>true</code> if a tool that was used to generate the trace, as well as transporting protocol and underlying format support the given feature.</p></dd></dl><dl><dt class="spec value" id="val-read_all"><a href="#val-read_all" class="anchor"></a><code><span class="keyword">val</span> read_all : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../../../bap/Bap/Std/index.html#type-tag">Bap.Std.tag</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../../../bap/Bap/Std/index.html#type-seq">Bap.Std.seq</a></span></code></dt><dd><p><code>read_all trace tag</code> reads all event of the a given type</p></dd></dl><dl><dt class="spec value" id="val-read_all_matching"><a href="#val-read_all_matching" class="anchor"></a><code><span class="keyword">val</span> read_all_matching : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../../../bap/Bap/Std/Value/Match/index.html#type-t">Bap.Std.Value.Match.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../../../bap/Bap/Std/index.html#type-seq">Bap.Std.seq</a></span></code></dt><dd><p><code>read_all_matching trace matcher</code> reads all events matching with a provided <code>matcher</code>.</p></dd></dl><dl><dt class="spec value" id="val-read_events"><a href="#val-read_events" class="anchor"></a><code><span class="keyword">val</span> read_events : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-event">event</a> <a href="../../../../bap/Bap/Std/index.html#type-seq">Bap.Std.seq</a></span></code></dt><dd><p><code>read_events trace</code> reads a sequence of events from the <code>trace</code>.</p></dd></dl><dl><dt class="spec value" id="val-next"><a href="#val-next" class="anchor"></a><code><span class="keyword">val</span> next : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../../../bap/Bap/Std/index.html#type-tag">Bap.Std.tag</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span></code></dt><dd><p><code>next trace tag</code> reads and discards events until an event with a given tag is found.</p></dd></dl><dl><dt class="spec value" id="val-next_event"><a href="#val-next_event" class="anchor"></a><code><span class="keyword">val</span> next_event : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><a href="index.html#type-event">event</a> option</span></code></dt><dd><p><code>next_event trace</code> reads next event from the trace</p></dd></dl><dl><dt class="spec value" id="val-next_matching"><a href="#val-next_matching" class="anchor"></a><code><span class="keyword">val</span> next_matching : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="../../../../bap/Bap/Std/Value/Match/index.html#type-t">Bap.Std.Value.Match.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span></code></dt><dd><p><code>next_matching trace matcher</code> reads and discards trace events until an event matching with the <code>matcher</code> is found.</p></dd></dl></section><section><header><h3 id="transformations"><a href="#transformations" class="anchor"></a>Transformations</h3></header><dl><dt class="spec value" id="val-filter_map"><a href="#val-filter_map" class="anchor"></a><code><span class="keyword">val</span> filter_map : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>f:<span>(<a href="index.html#type-event">event</a> <span>&#45;&gt;</span> <span><a href="index.html#type-event">event</a> option</span>)</span></span> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p><code>filter_map t ~f</code> will return a trace where all events a filter-mapped with the provided function <code>f</code></p></dd></dl></section><section><header><h3 id="extension-mechanism"><a href="#extension-mechanism" class="anchor"></a>Extension mechanism</h3><p>A trace is a collaborative work of several underlying layers:</p><ul><li>a trace tool itself</li><li>a transport, that delivers data from the <code>tool</code></li><li>a protocol that is used to deliver and interpret data.</li></ul><p>For example, a tools is an instrumented qemu-user, a transport can be just a file, and protocol can be Google protobuf.</p><p>Ideally, this three instances should be totally orthogonal, so that one can match them. In real life, we will strive to support only specific combinations.</p><p>The extension mechanism allows a user to add support for new transports and protocols. The separation between transport and protocol is left beyond the scope of this interface. A user is welcome to built its own protocol stacks and reify them into explicit API.</p><p>The interface is designed to support both static and dynamic trace tools. Although, the interface to control a dynamic tool is also left outside of the trace interface.</p><p>In order to establish a correspondence between a concrete trace instance and a trace generator a unique id is used. Each time a trace is opened a fresh new unique id is generated that is passed to both sides: to the trace (accessible via <code>id</code> function) and to the trace reader (passed as a parameter). This <code>id</code> can be used from the client side to dynamically control a trace tool.</p></header><div class="spec module-type" id="module-type-S"><a href="#module-type-S" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-S/index.html">S</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module-type" id="module-type-P"><a href="#module-type-P" class="anchor"></a><code><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-P/index.html">P</a> = <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-register_tool"><a href="#val-register_tool" class="anchor"></a><code><span class="keyword">val</span> register_tool : <span>(<span class="keyword">module</span> <a href="module-type-S/index.html">S</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-tool">tool</a></code></dt><dt class="spec value" id="val-register_proto"><a href="#val-register_proto" class="anchor"></a><code><span class="keyword">val</span> register_proto : <span>(<span class="keyword">module</span> <a href="module-type-P/index.html">P</a>)</span> <span>&#45;&gt;</span> <a href="index.html#type-proto">proto</a></code></dt></dl><dl><dt class="spec module" id="module-Reader"><a href="#module-Reader" class="anchor"></a><code><span class="keyword">module</span> <a href="Reader/index.html">Reader</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Reader interface.</p></dd></dl><dl><dt class="spec type" id="type-reader"><a href="#type-reader" class="anchor"></a><code><span class="keyword">type</span> reader</code><code> = <a href="Reader/index.html#type-t">Reader.t</a></code></dt></dl><dl><dt class="spec value" id="val-register_reader"><a href="#val-register_reader" class="anchor"></a><code><span class="keyword">val</span> register_reader : <a href="index.html#type-proto">proto</a> <span>&#45;&gt;</span> <span>(<a href="../../../../uri/Uri/index.html#type-t">Uri.t</a> <span>&#45;&gt;</span> <a href="index.html#type-id">id</a> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-reader">reader</a>,Â <a href="index.html#type-io_error">io_error</a>)</span> <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core_kernel.Result.t</a></span>)</span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-register_writer"><a href="#val-register_writer" class="anchor"></a><code><span class="keyword">val</span> register_writer : <a href="index.html#type-proto">proto</a> <span>&#45;&gt;</span> <span>(<a href="../../../../uri/Uri/index.html#type-t">Uri.t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span><span>(unit,Â <a href="index.html#type-io_error">io_error</a>)</span> <a href="../../../../core_kernel/Core_kernel/Result/index.html#type-t">Core_kernel.Result.t</a></span>)</span> <span>&#45;&gt;</span> unit</code></dt></dl><div class="spec module" id="module-Id"><a href="#module-Id" class="anchor"></a><code><span class="keyword">module</span> <a href="Id/index.html">Id</a> : <a href="../../../../regular/Regular/Std/Regular/index.html#module-type-S">Regular.Std.Regular.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../../../regular/Regular/Std/Regular/module-type-S/index.html#type-t">t</a> = <a href="index.html#type-id">id</a></code></div><dl><dt class="spec type" id="type-step"><a href="#type-step" class="anchor"></a><code><span class="keyword">type</span> step</code> = <code>[ </code><table class="variant"><tr id="type-step.Stop" class="anchored"><td class="def constructor"><a href="#type-step.Stop" class="anchor"></a><code>| </code><code>`Stop</code></td></tr><tr id="type-step.Skip" class="anchored"><td class="def constructor"><a href="#type-step.Skip" class="anchor"></a><code>| </code><code>`Skip</code></td></tr><tr id="type-step.Fail" class="anchored"><td class="def constructor"><a href="#type-step.Fail" class="anchor"></a><code>| </code><code>`Fail</code></td></tr><tr id="type-step.Make" class="anchored"><td class="def constructor"><a href="#type-step.Make" class="anchor"></a><code>| </code><code>`Make <span class="keyword">of</span> <a href="index.html#type-event">event</a></code></td></tr></table><code> ]</code></dt></dl><dl><dt class="spec module" id="module-Monitor"><a href="#module-Monitor" class="anchor"></a><code><span class="keyword">module</span> <a href="Monitor/index.html">Monitor</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Monitor defines an error handling policy.</p></dd></dl></section></div></body></html>