<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bitv (bap-core-theory.Bap_core_theory.Theory.Bitv)</title><link rel="stylesheet" href="../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">bap-core-theory</a> &#x00BB; <a href="../../index.html">Bap_core_theory</a> &#x00BB; <a href="../index.html">Theory</a> &#x00BB; Bitv</nav><header class="odoc-preamble"><h1>Module type <code><span>Theory.Bitv</span></code></h1><p>The theory of bitvectors.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-int" class="anchored"><a href="#val-int" class="anchor"></a><code><span><span class="keyword">val</span> int : <span><span><span><span class="type-var">'s</span> <a href="../Bitv/index.html#type-t">Bitv.t</a></span> <a href="../Value/index.html#type-sort">Value.sort</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-word">word</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>int s x</code> is a bitvector constant <code>x</code> of sort <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-msb" class="anchored"><a href="#val-msb" class="anchor"></a><code><span><span class="keyword">val</span> msb : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-bool">bool</a></span></code></div><div class="spec-doc"><p><code>msb x</code> is the most significant bit of <code>x</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-lsb" class="anchored"><a href="#val-lsb" class="anchor"></a><code><span><span class="keyword">val</span> lsb : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-bool">bool</a></span></code></div><div class="spec-doc"><p><code>lsb x</code> is the least significant bit of <code>x</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-neg" class="anchored"><a href="#val-neg" class="anchor"></a><code><span><span class="keyword">val</span> neg : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>neg x</code> is two-complement unary minus</p></div></div><div class="odoc-spec"><div class="spec value" id="val-not" class="anchored"><a href="#val-not" class="anchor"></a><code><span><span class="keyword">val</span> not : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>not x</code> is one-complement negation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>add x y</code> addition modulo <code>2^'s</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-sub" class="anchored"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>sub x y</code> subtraction modulo <code>2^'s</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-mul" class="anchored"><a href="#val-mul" class="anchor"></a><code><span><span class="keyword">val</span> mul : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>mul x y</code> multiplication modulo <code>2^'s</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-div" class="anchored"><a href="#val-div" class="anchor"></a><code><span><span class="keyword">val</span> div : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>div x y</code> unsigned division modulo <code>2^'s</code> truncating towards 0.</p><p>The division by zero is defined to be a vector of all ones of size <code>'s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sdiv" class="anchored"><a href="#val-sdiv" class="anchor"></a><code><span><span class="keyword">val</span> sdiv : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>sdiv x y</code> is signed division of <code>x</code> by <code>y</code> modulo <code>2^'s</code>,</p><p>The signed division operator is defined in terms of the <code>div</code> operator as follows:</p><pre>                             /
                             | div x y : if not mx /\ not my
                             | neg (div (neg x) y) if mx /\ not my
                 x sdiv y = &lt;
                             | neg (div x (neg y)) if not mx /\ my
                             | div (neg x) (neg y) if mx /\ my
                             \

              where mx = msb x, and my = msb y.</pre></div></div><div class="odoc-spec"><div class="spec value" id="val-modulo" class="anchored"><a href="#val-modulo" class="anchor"></a><code><span><span class="keyword">val</span> modulo : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>modulo x y</code> is the remainder of <code>div x y</code> modulo <code>2^'s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-smodulo" class="anchored"><a href="#val-smodulo" class="anchor"></a><code><span><span class="keyword">val</span> smodulo : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>smodulo x y</code> is the signed remainder of <code>div x y</code> modulo <code>2^'s</code>.</p><p>This version of the signed remainder where the sign follows the dividend, and is defined via the <code>% = modulo</code> operation as follows</p><pre>                           /
                           | x % y : if not mx /\ not my
                           | neg (neg x % y) if mx /\ not my
            x smodulo y = &lt;
                           | neg (x % (neg y)) if not mx /\ my
                           | neg (neg x % neg y) mod m if mx /\ my
                           \

            where mx = msb x  and my = msb y.</pre></div></div><div class="odoc-spec"><div class="spec value" id="val-logand" class="anchored"><a href="#val-logand" class="anchor"></a><code><span><span class="keyword">val</span> logand : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>logand x y</code> is a bitwise logical and of <code>x</code> and <code>y</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-logor" class="anchored"><a href="#val-logor" class="anchor"></a><code><span><span class="keyword">val</span> logor : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>logor x y</code> is a bitwise logical or of <code>x</code> and <code>y</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-logxor" class="anchored"><a href="#val-logxor" class="anchor"></a><code><span><span class="keyword">val</span> logxor : <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>logxor x y</code> is a bitwise logical xor of <code>x</code> and <code>y</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-shiftr" class="anchored"><a href="#val-shiftr" class="anchor"></a><code><span><span class="keyword">val</span> shiftr : <span><a href="../index.html#type-bool">bool</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>shiftr s x m</code> shifts <code>x</code> right by <code>m</code> bits filling with <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-shiftl" class="anchored"><a href="#val-shiftl" class="anchor"></a><code><span><span class="keyword">val</span> shiftl : <span><a href="../index.html#type-bool">bool</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'s</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>shiftl s x m</code> shifts <code>x</code> left by <code>m</code> bits filling with <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sle" class="anchored"><a href="#val-sle" class="anchor"></a><code><span><span class="keyword">val</span> sle : <span><span><span class="type-var">'a</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-bool">bool</a></span></code></div><div class="spec-doc"><p><code>sle x y</code> binary predicate for singed less than or equal</p></div></div><div class="odoc-spec"><div class="spec value" id="val-ule" class="anchored"><a href="#val-ule" class="anchor"></a><code><span><span class="keyword">val</span> ule : <span><span><span class="type-var">'a</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-bool">bool</a></span></code></div><div class="spec-doc"><p><code>ule x y</code> binary predicate for unsigned less than or equal</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cast" class="anchored"><a href="#val-cast" class="anchor"></a><code><span><span class="keyword">val</span> cast : <span><span><span><span class="type-var">'a</span> <a href="../Bitv/index.html#type-t">Bitv.t</a></span> <a href="../Value/index.html#type-sort">Value.sort</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-bool">bool</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>cast s b x</code> casts <code>x</code> to sort <code>s</code> filling with <code>b</code>.</p><p>If <code>m = size s - size (sort b) &gt; 0</code> then <code>m</code> bits <code>b</code> are prepended to the most significant part of the vector.</p><p>Otherwise, if <code>m &lt;= 0</code>, i.e., it is a narrowing cast, then the value of <code>b</code> doesn't affect the result of evaluation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-concat" class="anchored"><a href="#val-concat" class="anchor"></a><code><span><span class="keyword">val</span> concat : <span><span><span><span class="type-var">'a</span> <a href="../Bitv/index.html#type-t">Bitv.t</a></span> <a href="../Value/index.html#type-sort">Value.sort</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span><span class="type-var">'b</span> <a href="../index.html#type-bitv">bitv</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>concat s xs</code> concatenates a list of vectors <code>xs</code>.</p><p>All vectors are concatenated from left to right (so that the most significant bits of the resulting vector are defined by the first element of the list and so on).</p><p>The result of concatenation are then casted to sort <code>s</code> with all extra bits (if any) set to <code>zero</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-append" class="anchored"><a href="#val-append" class="anchor"></a><code><span><span class="keyword">val</span> append : <span><span><span><span class="type-var">'a</span> <a href="../Bitv/index.html#type-t">Bitv.t</a></span> <a href="../Value/index.html#type-sort">Value.sort</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'b</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'c</span> <a href="../index.html#type-bitv">bitv</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../index.html#type-bitv">bitv</a></span></span></code></div><div class="spec-doc"><p><code>append s x y</code> appends <code>x</code> and <code>y</code> and casts to <code>s</code>.</p><p>Appends <code>x</code> and <code>y</code> so that in the resulting vector the vector <code>x</code> occupies the most significant part and <code>y</code> the least significant part. The resulting vector is then casted to the sort <code>s</code> with extra bits (if any) set to zero.</p></div></div></div></body></html>