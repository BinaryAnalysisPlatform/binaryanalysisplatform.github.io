<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Theory (bap-core-theory.Bap_core_theory.Theory)</title><link rel="stylesheet" href="../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">bap-core-theory</a> &#x00BB; <a href="../index.html">Bap_core_theory</a> &#x00BB; Theory</nav><header class="odoc-preamble"><h1>Module <code><span>Bap_core_theory.Theory</span></code></h1><p>The Core Theory.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-cls"><a href="#type-cls" class="anchor"></a><code><span><span class="keyword">type</span> cls</span></code></div><div class="spec-doc"><p>The class index for all Core Theories.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-theory"><a href="#type-theory" class="anchor"></a><code><span><span class="keyword">type</span> theory</span><span> = <span><a href="#type-cls">cls</a> <a href="../../../bap-knowledge/Bap_knowledge/Knowledge/index.html#type-obj">KB.obj</a></span></span></code></div><div class="spec-doc"><p>A theory instance. To create a new theory instance use the <a href="#val-instance"><code>instance</code></a> function. To manifest a theory into an OCaml module, use the <a href="#val-require"><code>require</code></a> function.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <a href="#type-theory">theory</a></span></code></div><div class="spec-doc"><p>Theory.t is theory.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Value"><a href="#module-Value" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Value/index.html">Value</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The denotation of expression.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Effect"><a href="#module-Effect" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Effect/index.html">Effect</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The denotation of statements.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-value"><a href="#type-value" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a value</span></span><span> = <span><span class="type-var">'a</span> <a href="Value/index.html#type-t">Value.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-effect"><a href="#type-effect" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a effect</span></span><span> = <span><span class="type-var">'a</span> <a href="Effect/index.html#type-t">Effect.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Bool"><a href="#module-Bool" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Bool/index.html">Bool</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The sort for boolean values.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Bitv"><a href="#module-Bitv" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Bitv/index.html">Bitv</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Sorts of bitvectors</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Mem"><a href="#module-Mem" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Mem/index.html">Mem</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Sorts of memories.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Float"><a href="#module-Float" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Float/index.html">Float</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Sorts for floating-point numbers.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Rmode"><a href="#module-Rmode" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Rmode/index.html">Rmode</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Rounding modes.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-pure"><a href="#type-pure" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a pure</span></span><span> = <span><span><span class="type-var">'a</span> <a href="#type-value">value</a></span> <a href="../../../bap-knowledge/Bap_knowledge/index.html#type-knowledge">Bap_knowledge.knowledge</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-eff"><a href="#type-eff" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a eff</span></span><span> = <span><span><span class="type-var">'a</span> <a href="#type-effect">effect</a></span> <a href="../../../bap-knowledge/Bap_knowledge/index.html#type-knowledge">Bap_knowledge.knowledge</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-format"><a href="#type-format" class="anchor"></a><code><span><span class="keyword">type</span> <span>('r, 's) format</span></span><span> = <span><span>(<span class="type-var">'r</span>, <span class="type-var">'s</span>)</span> <a href="Float/index.html#type-format">Float.format</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Var"><a href="#module-Var" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Var/index.html">Var</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Variables.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-data"><a href="#type-data" class="anchor"></a><code><span><span class="keyword">type</span> data</span><span> = <a href="Effect/Sort/index.html#type-data">Effect.Sort.data</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-ctrl"><a href="#type-ctrl" class="anchor"></a><code><span><span class="keyword">type</span> ctrl</span><span> = <a href="Effect/Sort/index.html#type-ctrl">Effect.Sort.ctrl</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-word"><a href="#type-word" class="anchor"></a><code><span><span class="keyword">type</span> word</span><span> = <a href="../../../bitvec/Bitvec/index.html#type-t">Bitvec.t</a></span></code></div><div class="spec-doc"><p>a concrete representation of words in the Core Theory.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-var"><a href="#type-var" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a var</span></span><span> = <span><span class="type-var">'a</span> <a href="Var/index.html#type-t">Var.t</a></span></span></code></div><div class="spec-doc"><p>a concrete representation of variables.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-program"><a href="#type-program" class="anchor"></a><code><span><span class="keyword">type</span> program</span></code></div><div class="spec-doc"><p>a class index for class of programs.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-label"><a href="#type-label" class="anchor"></a><code><span><span class="keyword">type</span> label</span><span> = <span><a href="#type-program">program</a> <a href="../../../bap-knowledge/Bap_knowledge/Knowledge/Object/index.html#type-t">KB.Object.t</a></span></span></code></div><div class="spec-doc"><p>label is an object of the program class.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-target"><a href="#type-target" class="anchor"></a><code><span><span class="keyword">type</span> target</span></code></div><div class="spec-doc"><p>The target execution system.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-endianness"><a href="#type-endianness" class="anchor"></a><code><span><span class="keyword">type</span> endianness</span></code></div><div class="spec-doc"><p>The ordering of the bytes.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-system"><a href="#type-system" class="anchor"></a><code><span><span class="keyword">type</span> system</span></code></div><div class="spec-doc"><p>The operating system.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-abi"><a href="#type-abi" class="anchor"></a><code><span><span class="keyword">type</span> abi</span></code></div><div class="spec-doc"><p>The application binary interface.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-fabi"><a href="#type-fabi" class="anchor"></a><code><span><span class="keyword">type</span> fabi</span></code></div><div class="spec-doc"><p>The floating-point ABI.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-filetype"><a href="#type-filetype" class="anchor"></a><code><span><span class="keyword">type</span> filetype</span></code></div><div class="spec-doc"><p>The file type.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-compiler"><a href="#type-compiler" class="anchor"></a><code><span><span class="keyword">type</span> compiler</span></code></div><div class="spec-doc"><p>source to code transformer.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-language"><a href="#type-language" class="anchor"></a><code><span><span class="keyword">type</span> language</span></code></div><div class="spec-doc"><p>the name of the code encoding.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.2.0</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-role"><a href="#type-role" class="anchor"></a><code><span><span class="keyword">type</span> role</span></code></div><div class="spec-doc"><p>a target-specific role of a variable or other entity.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.3.0</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-alias"><a href="#type-alias" class="anchor"></a><code><span><span class="keyword">type</span> alias</span></code></div><div class="spec-doc"><p>a description of the register aliasing.</p><p>See <a href="Alias/index.html"><code>Alias</code></a>.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.4.0</li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-origin"><a href="#type-origin" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'k) origin</span></span></code></div><div class="spec-doc"><p>a description of the origin of an aliased register.</p><p>See <a href="Origin/index.html"><code>Origin</code></a>.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.4.0</li></ul></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Semantics"><a href="#module-Semantics" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Semantics/index.html">Semantics</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The semantics of programs.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Program"><a href="#module-Program" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Program/index.html">Program</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The denotation of programs.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Source"><a href="#module-Source" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Source/index.html">Source</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The source code artifact of a compilation unit.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Target"><a href="#module-Target" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Target/index.html">Target</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Description of the execution target.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Unit"><a href="#module-Unit" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Unit/index.html">Unit</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A unit of code.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Label"><a href="#module-Label" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Label/index.html">Label</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A program label.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Enum"><a href="#module-Enum" class="anchor"></a><code><span><span class="keyword">module</span> Enum</span><span> = <a href="../../../bap-knowledge/Bap_knowledge/Knowledge/Enum/index.html">KB.Enum</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Alias"><a href="#module-Alias" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Alias/index.html">Alias</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A simple DSL for describing registers aliasing rules.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Origin"><a href="#module-Origin" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Origin/index.html">Origin</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The description of the origin of an aliased register.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Role"><a href="#module-Role" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Role/index.html">Role</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A target-specific role of program entities.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Language"><a href="#module-Language" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Language/index.html">Language</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The source code language.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Endianness"><a href="#module-Endianness" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Endianness/index.html">Endianness</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Defines how multibyte words are stored in the memory.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-System"><a href="#module-System" class="anchor"></a><code><span><span class="keyword">module</span> <a href="System/index.html">System</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The Operating System.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Abi"><a href="#module-Abi" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Abi/index.html">Abi</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The Application Binary Interface name.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Fabi"><a href="#module-Fabi" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Fabi/index.html">Fabi</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The Application Floating-point Binary Interface name.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Filetype"><a href="#module-Filetype" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Filetype/index.html">Filetype</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The file type that is used to pack the unit.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Compiler"><a href="#module-Compiler" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Compiler/index.html">Compiler</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Information about the compiler.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-bool"><a href="#type-bool" class="anchor"></a><code><span><span class="keyword">type</span> bool</span><span> = <span><a href="Bool/index.html#type-t">Bool.t</a> <a href="#type-pure">pure</a></span></span></code></div><div class="spec-doc"><p>a boolean terms</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-bitv"><a href="#type-bitv" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a bitv</span></span><span> = <span><span><span class="type-var">'a</span> <a href="Bitv/index.html#type-t">Bitv.t</a></span> <a href="#type-pure">pure</a></span></span></code></div><div class="spec-doc"><p>a bitvector term</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-mem"><a href="#type-mem" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'b) mem</span></span><span> = <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="Mem/index.html#type-t">Mem.t</a></span> <a href="#type-pure">pure</a></span></span></code></div><div class="spec-doc"><p>a memory term</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-float"><a href="#type-float" class="anchor"></a><code><span><span class="keyword">type</span> <span>'f float</span></span><span> = <span><span><span class="type-var">'f</span> <a href="Float/index.html#type-t">Float.t</a></span> <a href="#type-pure">pure</a></span></span></code></div><div class="spec-doc"><p>a floating-point term</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-rmode"><a href="#type-rmode" class="anchor"></a><code><span><span class="keyword">type</span> rmode</span><span> = <span><a href="Rmode/index.html#type-t">Rmode.t</a> <a href="#type-pure">pure</a></span></span></code></div><div class="spec-doc"><p>a rounding mode term</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Init"><a href="#module-type-Init" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Init/index.html">Init</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The initial theory.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Bool"><a href="#module-type-Bool" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Bool/index.html">Bool</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The theory of booleans.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Bitv"><a href="#module-type-Bitv" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Bitv/index.html">Bitv</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The theory of bitvectors.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Memory"><a href="#module-type-Memory" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Memory/index.html">Memory</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The theory of memories.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Effect"><a href="#module-type-Effect" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Effect/index.html">Effect</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The theory of effects.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Minimal"><a href="#module-type-Minimal" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Minimal/index.html">Minimal</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The Minimal theory.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Basic"><a href="#module-type-Basic" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Basic/index.html">Basic</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The Basic theory of bitvector machines.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Fbasic"><a href="#module-type-Fbasic" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Fbasic/index.html">Fbasic</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The Basic Theory of Floating-Points.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Float"><a href="#module-type-Float" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Float/index.html">Float</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The theory of floating-point numbers modulo transcendental functions.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Trans"><a href="#module-type-Trans" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Trans/index.html">Trans</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The Theory of Transcendental Functions.</p></div></div><div class="odoc-spec"><div class="spec module-type anchored" id="module-type-Core"><a href="#module-type-Core" class="anchor"></a><code><span><span class="keyword">module</span> <span class="keyword">type</span> <a href="module-type-Core/index.html">Core</a></span><span> = <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The Core Theory signature.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-core"><a href="#type-core" class="anchor"></a><code><span><span class="keyword">type</span> core</span><span> = <span>(<span class="keyword">module</span> <a href="module-type-Core/index.html">Core</a>)</span></span></code></div><div class="spec-doc"><p>a type abbreviation for the core theory module type.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Basic"><a href="#module-Basic" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Basic/index.html">Basic</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>The Basic Theory.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Empty"><a href="#module-Empty" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Empty/index.html">Empty</a></span><span> : <a href="module-type-Core/index.html">Core</a></span></code></div><div class="spec-doc"><p>The empty theory.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-declare"><a href="#val-declare" class="anchor"></a><code><span><span class="keyword">val</span> declare : 
  <span>?desc:string <span class="arrow">&#45;&gt;</span></span>
  <span>?extends:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?context:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?provides:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?package:string <span class="arrow">&#45;&gt;</span></span>
  <span>name:string <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>(<span class="keyword">module</span> <a href="module-type-Core/index.html">Core</a>)</span> <a href="../../../bap-knowledge/Bap_knowledge/index.html#type-knowledge">Bap_knowledge.knowledge</a></span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>declare name s</code> that structure <code>s</code> as an instance of the Core Theory.</p><p>The qualified with the <code>package</code> <code>name</code> shall be unique, otherwise the declaration fails.</p><p>The <code>extends</code> list shall contain all theories that are included in the structure <code>s</code> (except the <code>Empty</code> theory, which is the base theory of all core theories, so there is no need to add it). Failure to list a theory in the <code>extends</code> list will prevent optimization during theory instantiation and may lead to less efficient theories (when the same denotation is computed twice) or even conflicts, when the extension overrides the extended theory.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">context</span> <p>defines a context in which a theory is applicable. The declared theory could be only instantiated if the context, provided during the instantiation, contains all features specified in the <code>context</code> argument.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">provides</span> <p>is a set of semantic tags that describe capabilities provided by the theory. The fully qualified name of the theory is automatically provided.</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-instance"><a href="#val-instance" class="anchor"></a><code><span><span class="keyword">val</span> instance : 
  <span>?context:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>?requires:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-theory">theory</a> <a href="../../../bap-knowledge/Bap_knowledge/index.html#type-knowledge">Bap_knowledge.knowledge</a></span></span></code></div><div class="spec-doc"><p><code>instance ()</code> returns the current or creates a new instance of the core theory.</p><p>If no parameters of the <code>instance</code> function were specialized and there is an instance of the current theory then this instance is returned.</p><p>Otherwise, the instance is built from all theories that match the context specified by the <code>context</code> list and provide features specified by the <code>requires</code> list. If any theory is subsumed by other theory, then it is excluded.</p><p>If no instances satisfy this requirement then the empty theory is returned. If only one theory satisfies the requirement, then it is returned. If many theories match, then a join of all theories is computed, stored in the knowledge base, and the resulting theory is returned.</p><p>To manifest a theory into an structure, use the <code>require</code> function. The <code>current</code> function is equivalent to the composition <code>instance &gt;=&gt; require</code>, use this function, if you want to use the current theory.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">context</span> <p>is a set of features that define the context, only those theories that have a context that is a subset of provided will be instantiated.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">requires</span> <p>is a set of semantic features that are required. Defaults to the set of all possible features, i.e., if unspecified, then all instances applicable to the context will be loaded.</p></li></ul><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.4.0 respects the currently set theory.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-require"><a href="#val-require" class="anchor"></a><code><span><span class="keyword">val</span> require : <span><a href="#type-theory">theory</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="keyword">module</span> <a href="module-type-Core/index.html">Core</a>)</span> <a href="../../../bap-knowledge/Bap_knowledge/index.html#type-knowledge">Bap_knowledge.knowledge</a></span></span></code></div><div class="spec-doc"><p><code>require theory</code> manifests the <code>theory</code> as an OCaml structure.</p><p>It is only possible to create an instance of theory using the <a href="#val-instance"><code>instance</code></a> function, but see also <a href="#val-current"><code>current</code></a>.</p><p>For example, the following will create an theory that is a join all currently declared theories (which are not specific to any context),</p><pre class="language-ocaml"><code>let* (module CT) = Theory.(instance&gt;=&gt;require) () in</code></pre><p>where <code>let*</code> comes from <code>KB.Let</code>.</p><p>To create an instance for a specific context and requirements,</p><pre class="language-ocaml"><code>Theory.instance ()
  ~context:[&quot;arm-gnueabi&quot;; &quot;arm&quot;]
  ~require:[&quot;bil&quot;; &quot;stack-frame-analysis&quot;] &gt;&gt;=
Theory.require &gt;&gt;= fun (module Core) -&gt;</code></pre><p>Finally, to manifest a theory with a specific name, specify the name of the theory in the list of requirements.</p><pre class="language-ocaml"><code>Theory.instance ~requires:[&quot;bap.std:bil&quot;] () &gt;&gt;=
Theory.require &gt;&gt;= fun (module Core) -&gt;</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-current"><a href="#val-current" class="anchor"></a><code><span><span class="keyword">val</span> current : <span><span>(<span class="keyword">module</span> <a href="module-type-Core/index.html">Core</a>)</span> <a href="../../../bap-knowledge/Bap_knowledge/index.html#type-knowledge">Bap_knowledge.knowledge</a></span></span></code></div><div class="spec-doc"><p><code>current</code> returns the current core theory structure.</p><p>This function is the same as <code>instance &gt;=&gt; require</code>.</p><p>If there is no current theory set in the contex (via the <a href="#val-with_current"><code>with_current</code></a> function) then a new structure is created, otherwise returns the current selected theory.</p><p>An example of usage,</p><pre class="language-ocaml"><code>let add x y =
  let* (module CT) = current in
  CT.add x y</code></pre><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.4.0</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_current"><a href="#val-with_current" class="anchor"></a><code><span><span class="keyword">val</span> with_current : 
  <span><a href="#type-theory">theory</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="../../../bap-knowledge/Bap_knowledge/index.html#type-knowledge">Bap_knowledge.knowledge</a></span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <a href="../../../bap-knowledge/Bap_knowledge/index.html#type-knowledge">Bap_knowledge.knowledge</a></span></span></code></div><div class="spec-doc"><p><code>with_current t f</code> sets <code>t</code> as the current theory in the scope of <code>f</code>.</p><p>Evaluates compuation <code>f</code> in the theory of <code>t</code>. After <code>f</code> is evaluated the current theory is restored. This function could be safely called recursively, i.e., in a scope of another call to <code>with_current</code>. Effectively, <code>with_current</code>, which uses <code>KB.Context.with_var</code> underneath the hood, creates a dynamic scope for the theory variable.</p><ul class="at-tags"><li class="since"><span class="at-tag">since</span> 2.4.0</li></ul></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Pass"><a href="#module-Pass" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Pass/index.html">Pass</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Core Theory Transformations.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-IEEE754"><a href="#module-IEEE754" class="anchor"></a><code><span><span class="keyword">module</span> <a href="IEEE754/index.html">IEEE754</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Sorts implementing IEEE754 formats.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Parser"><a href="#module-Parser" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Parser/index.html">Parser</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Generates parsers of untyped ASTs into type Core Theory terms.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Documentation"><a href="#module-Documentation" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Documentation/index.html">Documentation</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Documents all declared theories.</p></div></div></div></body></html>