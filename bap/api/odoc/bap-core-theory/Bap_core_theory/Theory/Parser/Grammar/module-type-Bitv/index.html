<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bitv (bap-core-theory.Bap_core_theory.Theory.Parser.Grammar.Bitv)</title><link rel="stylesheet" href="../../../../../../_odoc-theme/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../../index.html">bap-core-theory</a> &#x00BB; <a href="../../../../index.html">Bap_core_theory</a> &#x00BB; <a href="../../../index.html">Theory</a> &#x00BB; <a href="../../index.html">Parser</a> &#x00BB; <a href="../index.html">Grammar</a> &#x00BB; Bitv</nav><header class="odoc-preamble"><h1>Module type <code><span>Grammar.Bitv</span></code></h1><p>Bitvectors.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>an abstract type denoting a Core Theory bitvector term.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-exp" class="anchored"><a href="#type-exp" class="anchor"></a><code><span><span class="keyword">type</span> exp</span></code></div><div class="spec-doc"><p>the type of expressions of the target language.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-rmode" class="anchored"><a href="#type-rmode" class="anchor"></a><code><span><span class="keyword">type</span> rmode</span></code></div><div class="spec-doc"><p>an abstract type denoting a Core Theory rounding mode term,</p></div></div><div class="odoc-spec"><div class="spec value" id="val-error" class="anchored"><a href="#val-error" class="anchor"></a><code><span><span class="keyword">val</span> error : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>the error term.</p><p>Denotes an ill-typed term. The parsing is immediately stopped.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unsigned" class="anchored"><a href="#val-unsigned" class="anchor"></a><code><span><span class="keyword">val</span> unsigned : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>unsigned m x</code> is <code>unsinged (bits m) (bitv x)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-signed" class="anchored"><a href="#val-signed" class="anchor"></a><code><span><span class="keyword">val</span> signed : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>signed m x</code> is <code>signed (bits m) (bitv x)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-high" class="anchored"><a href="#val-high" class="anchor"></a><code><span><span class="keyword">val</span> high : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>high m x</code> is <code>high (bits m) (bitv x)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-low" class="anchored"><a href="#val-low" class="anchor"></a><code><span><span class="keyword">val</span> low : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>low m x</code> is <code>low (bits m) (bitv x)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cast" class="anchored"><a href="#val-cast" class="anchor"></a><code><span><span class="keyword">val</span> cast : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>cast m x y</code> is <code>cast (bits m) (bool b) (bitv y)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-extract" class="anchored"><a href="#val-extract" class="anchor"></a><code><span><span class="keyword">val</span> extract : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>extract m hi lo x</code> is <code>extract (bits m) (bitv hi) (bitv lo) (bitv x)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>add x y</code> is <code>add (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-sub" class="anchored"><a href="#val-sub" class="anchor"></a><code><span><span class="keyword">val</span> sub : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>sub x y</code> is <code>sub (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-mul" class="anchored"><a href="#val-mul" class="anchor"></a><code><span><span class="keyword">val</span> mul : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>mul x y</code> is <code>mul (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-div" class="anchored"><a href="#val-div" class="anchor"></a><code><span><span class="keyword">val</span> div : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>div x y</code> is <code>div (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-sdiv" class="anchored"><a href="#val-sdiv" class="anchor"></a><code><span><span class="keyword">val</span> sdiv : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>sdiv x y</code> is <code>sdiv (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-modulo" class="anchored"><a href="#val-modulo" class="anchor"></a><code><span><span class="keyword">val</span> modulo : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>modulo x y</code> is <code>modulo (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-smodulo" class="anchored"><a href="#val-smodulo" class="anchor"></a><code><span><span class="keyword">val</span> smodulo : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>smodulo x y</code> is <code>smodulo (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-lshift" class="anchored"><a href="#val-lshift" class="anchor"></a><code><span><span class="keyword">val</span> lshift : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>lshift x y</code> is <code>lshift (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-rshift" class="anchored"><a href="#val-rshift" class="anchor"></a><code><span><span class="keyword">val</span> rshift : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>rshift x y</code> is <code>rshift (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-arshift" class="anchored"><a href="#val-arshift" class="anchor"></a><code><span><span class="keyword">val</span> arshift : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>arshift x y</code> is <code>arshift (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-logand" class="anchored"><a href="#val-logand" class="anchor"></a><code><span><span class="keyword">val</span> logand : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>logand x y</code> is <code>logand (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-logor" class="anchored"><a href="#val-logor" class="anchor"></a><code><span><span class="keyword">val</span> logor : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>logor x y</code> is <code>logor (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-logxor" class="anchored"><a href="#val-logxor" class="anchor"></a><code><span><span class="keyword">val</span> logxor : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>logxor x y</code> is <code>logxor (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-neg" class="anchored"><a href="#val-neg" class="anchor"></a><code><span><span class="keyword">val</span> neg : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>neg x</code> is <code>neg (bitv x)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-not" class="anchored"><a href="#val-not" class="anchor"></a><code><span><span class="keyword">val</span> not : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>not x</code> is <code>not (bitv x)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-load_word" class="anchored"><a href="#val-load_word" class="anchor"></a><code><span><span class="keyword">val</span> load_word : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>load_word m d s a</code> is <code>loadw (bits m) (bool d) (mem s) (bitv a)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-load" class="anchored"><a href="#val-load" class="anchor"></a><code><span><span class="keyword">val</span> load : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>load s k</code> is <code>load (mem s) (bitv k)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-var" class="anchored"><a href="#val-var" class="anchor"></a><code><span><span class="keyword">val</span> var : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>var s m</code> is <code>var (ctxt s) (bits m)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-int" class="anchored"><a href="#val-int" class="anchor"></a><code><span><span class="keyword">val</span> int : <span><a href="../../../index.html#type-word">word</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>int x m</code> is <code>int (bits m) x</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-unknown" class="anchored"><a href="#val-unknown" class="anchor"></a><code><span><span class="keyword">val</span> unknown : <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>unknown m</code> is <code>unk (bits m)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-ite" class="anchored"><a href="#val-ite" class="anchor"></a><code><span><span class="keyword">val</span> ite : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>ite c x y</code> is <code>ite (bool c) (bitv x) (bitv y)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-let_bit" class="anchored"><a href="#val-let_bit" class="anchor"></a><code><span><span class="keyword">val</span> let_bit : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>let_bit s x y</code> is <code>scoped @@ fun v -&gt; (bool x) (bitv [y|s-&gt;v])</code>.</p><p>Note, the <code>let_bit</code> rule is not mapped to the <code>let_</code> term, but instead a scoped fresh variable <code>v</code> is created and <code>s</code> is substituted with <code>v</code> in <code>y</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-let_reg" class="anchored"><a href="#val-let_reg" class="anchor"></a><code><span><span class="keyword">val</span> let_reg : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>let_reg s x y</code> is <code>scoped @@ fun v -&gt; (bitv x) (bitv [y|s-&gt;v])</code>.</p><p>Note, the <code>let_reg</code> rule is not mapped to the <code>let_</code> term, but instead a scoped fresh variable <code>v</code> is created and <code>s</code> is substituted with <code>v</code> in <code>y</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-let_mem" class="anchored"><a href="#val-let_mem" class="anchor"></a><code><span><span class="keyword">val</span> let_mem : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>let_mem s x y</code> is <code>scoped @@ fun v -&gt; (mem x) (bitv [y|s-&gt;v])</code>.</p><p>Note, the <code>let_mem</code> rule is not mapped to the <code>let_</code> term, but instead a scoped fresh variable <code>v</code> is created and <code>s</code> is substituted with <code>v</code> in <code>y</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-let_float" class="anchored"><a href="#val-let_float" class="anchor"></a><code><span><span class="keyword">val</span> let_float : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>let_float s x y</code> is <code>scoped @@ fun v -&gt; (float x) (bitv [y|s-&gt;v])</code>.</p><p>Note, the <code>let_float</code> rule is not mapped to the <code>let_</code> term, but instead a scoped fresh variable <code>v</code> is created and <code>s</code> is substituted with <code>v</code> in <code>y</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-append" class="anchored"><a href="#val-append" class="anchor"></a><code><span><span class="keyword">val</span> append : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>append x y</code> is <code>append s (bitv x) (bitv y)</code>, where</p><p><code>s</code> is <code>bits (size (sort (bitv x)) + size (sort (bitv x)))</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-concat" class="anchored"><a href="#val-concat" class="anchor"></a><code><span><span class="keyword">val</span> concat : <span><span><a href="#type-exp">exp</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>concat xs</code> is <code>concat (bits (size s * n)) xs</code>,</p><p>where <code>s</code> is the sort of the <code>xs</code> element, and <code>n</code> is the total number of elements in <code>xs</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cast_int" class="anchored"><a href="#val-cast_int" class="anchor"></a><code><span><span class="keyword">val</span> cast_int : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-rmode">rmode</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>cast_int m r x</code> is <code>cast_int (bits m) (rmode r) (float x)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cast_sint" class="anchored"><a href="#val-cast_sint" class="anchor"></a><code><span><span class="keyword">val</span> cast_sint : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-rmode">rmode</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>cast_sint m r x</code> is <code>cast_sint (bits m) (rmode r) (float x)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fbits" class="anchored"><a href="#val-fbits" class="anchor"></a><code><span><span class="keyword">val</span> fbits : <span><a href="#type-exp">exp</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>fbits x</code> is <code>fbits (float x)</code>.</p></div></div></div></body></html>